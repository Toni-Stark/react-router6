{"version":3,"sources":["component/MainLayout/index.tsx","pages/Export/config.tsx","pages/Export/index.tsx","component/BaselineComponent/index.tsx","request/api.ts","request/config.ts","component/FormText/index.tsx","request/king.ts","pages/PatientDetail/config.tsx","toos/index.ts","store/PatientDetailStore.ts","store/useStore.ts","pages/PatientDetail/index.tsx","pages/BaselineDetail/Detail/component/demographics/datas.ts","pages/BaselineDetail/Detail/component/demographics/index.tsx","pages/BaselineDetail/Detail/component/laboratory/datas.ts","pages/BaselineDetail/Detail/component/laboratory/index.tsx","pages/BaselineDetail/Detail/component/medicalHistory/index.tsx","pages/BaselineDetail/Detail/component/stopMedication/datas.ts","pages/BaselineDetail/Detail/component/stopMedication/index.tsx","pages/BaselineDetail/Detail/index.tsx","component/FormBox/index.tsx","component/FormDescriptions/index.tsx","component/StatisticTag/index.tsx","component/MessageItem/index.tsx","pages/Home/config.tsx","pages/Home/index.tsx","component/PatientDetailLayout/index.tsx","pages/NotFound/index.tsx","router/router.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["Header","Layout","Content","headerLayout","name","key","icon","HomeOutlined","router","FileZipOutlined","MainLayout","props","navigator","useNavigate","history","useLocation","useState","window","innerHeight","screenHeight","setScreenHeight","selectKeys","setSelectKeys","resize","height","useEffect","addEventListener","removeEventListener","console","log","pathname","indexOf","document","title","className","theme","mode","selectedKeys","map","item","Item","onClick","style","backgroundColor","margin","paddingBottom","children","tableColumns","dataIndex","width","render","text","color","toString","Option","Select","RangePicker","DatePicker","Export","total","page","setPage","pageSize","setPageSize","placeholder","minWidth","value","marginLeft","marginTop","bordered","rowKey","row","id","columns","dataSource","onRow","pagination","pageSizeOptions","showTotal","showSizeChanger","showQuickJumper","current","onChange","limit","currentPage","BaseLineComponent","selected","marginBottom","padding","boxSizing","border","done","whiteSpace","month","moment","format","appConfig","dev","API_PROTOCOL","API_HOST","prod","SERVER_URL","qs","require","baseURL","Api","token","localStorage","getItem","_api","timeout","this","axios","create","interceptors","request","use","config","data","stringify","response","a","errno","removeItem","redirectToLoginScreen","status","error","message","success","timestamp","getTimeStamp","operate","url","params","withToken","multipart","headers","Authorization","get","post","put","patch","delete","Promise","reject","param","RestfulOperate","instance","destroy","setTimeout","location","href","statusColor","KingApi","getInstance","columnsBanner","span","queryToObj","res","substring","split","forEach","paramStr","arr","val","PatientDetailStore","makeAutoObservable","observable","StoreContext","createContext","patientDetailStore","useStore","useContext","PatientDetail","observer","searchParams","search","setSelected","visitData","setVisitData","setData","setTabId","setFinishCount","getVisit","JSON","parse","scrollTo","isRefresh","visitApi","then","finish","find","tab_id","finish_count","replace","detailId","tabTitle","finishCount","tabId","currentHeaderMemo","useMemo","selectData","begin_date","end_date","index","labelStyle","textAlign","label","Array","isArray","length","populationDatas","keys","types","lifeDatas","physiqueDatas","badDatas","transverse","TextArea","Input","Demographics","orTab","setorTab","orInquiry","setOrInquiry","quickData","setquickData","sonPatientVisitId","setsonPatientVisitId","preservation","submit","patientVisitId","getData","quick","populationApi","visit_content_id","lifeApi","physiqueApi","mergeApi","badApi","getDistList","config_treatment_plan","submitPopulationApi","currentRefresh","submitLifeApi","submitPhysiqueApi","submitMergeApi","submitBadApi","setPreservation","dataChange","type","_data","toFixed","parseInt","nation_other","drug_allergy_history_specific","skin_mucosa_abnormal","target","marginRight","date","allowClear","dateString","Group","e","item2","min","dbp","direction","minHeight","float","rows","content","bloodDatas","isTitle","name1","name2","keys1","keys2","urineDatas","biochemistryDatas","blood","name_code","result","sense_id","urine","biochemistry","Laboratory","startDate","setStartDate","startDateType","setStartDateType","laboratoryApi","report_date","lis_result","synchronization","laboratorySynchronizationApi","submitLaboratoryApi","paddingTop","treatment","is_continue","disease","diseaseOperation","MedicalHistory","setDataSource","radioSelect","setradioSelect","dataSource1","setDataSource1","radioSelect1","setradioSelect1","setSelectData","diseaseApi","past_disease_history","surgical_operation_history","sr_disease_past_history","push","sr_disease_operation_history","treatmentApi","lga_history","sr_treat_history_medical","medicationApi","is_use","sr_medical_history_result","Object","_data1","isReturn1","warning","submitDiseaseApi","operation","isReturn2","submitTreatmentApi","isReturn3","config_medicine","item3","medical_id","submitMedicationApi","medicine","checked","dataChange1","addFunction","splice","delFunction","config_diagnosis","columns1","columns3","columns4","display","stopDatas","StopMedication","stopApi","submitStopApi","Detail","default_name_id","nameId","isBtn","setIsBtn","setPatientVisitIdn","formData","setFormData","getForm","current_refresh","formApi","patient_visit_id","config_sr_content","name_id","calendarContext","justifyContent","borderRadius","FormBox","fontSize","fontWeight","flexDirection","FormText","alignItems","Number","FormDescriptions","justyC","StatisticTag","count","MessageItem","time","updated_at","Date","diff","undefined","timeStr","getGender","percent","strokeWidth","strokeColor","genderConfig","Home","setInnerHeight","sideRow","setSizeRow","mainRow","setMainRow","hisVisible","setHisVisible","searchName","setSearchName","gender","setGender","setDiagnostic","patientList","setPatientList","setTotal","setDistList","statistics","setStatistics","showMore","setShowMore","dynamicList","setDynamicList","loading","setLoading","entryTime","setEntryTime","KH","setKH","innerWidth","getPatientList","getDynamic","getDictList","getStatistics","requestPatientList","handleHisOk","kh","entry_time","importPatient","handleHisCancel","onFormChange","currentModal","visible","okButtonProps","onOk","onCancel","gutter","xs","sm","md","lg","xmmc","xmfzr","xmjd","showInfo","rzal","kyzx","zfs","gqfs","borderTopWidth","SearchOutlined","setItem","pages","overflowY","user","datetime","patient_name","visit","cursor","String","onSearchMore","DetailLayout","NotFound","element","App","locale","zh_CH","instantiation","route","path","getRoute","Boolean","hostname","match","ReactDOM","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"+iBAOQA,EAAoBC,IAApBD,OAAQE,EAAYD,IAAZC,QAEVC,EAAe,CACnB,CACEC,KAAM,2BACNC,IAAK,IACLC,KAAM,cAACC,EAAA,EAAD,IACNC,OAAQ,SAEV,CACEJ,KAAM,2BACNC,IAAK,IACLC,KAAM,cAACG,EAAA,EAAD,IACND,OAAQ,YAINE,EAAa,SAACC,GAClB,IAAMC,EAAYC,cACZC,EAAUC,cAEhB,EAAwCC,mBAAiBC,OAAOC,aAAhE,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAoCJ,qBAApC,mBAAOK,EAAP,KAAmBC,EAAnB,KAKMC,EAAS,WACb,IAAIC,EAASP,OAAOC,YACpBE,EAAgBI,IA+BlB,OAzBAC,qBAAU,WAER,OAJAR,OAAOS,iBAAiB,SAAUH,GAI3B,WACLN,OAAOU,oBAAoB,UAAU,WACnCC,QAAQC,IAAI,2CAEdZ,OAAOU,oBAAoB,YAAY,WACrCC,QAAQC,IAAI,0DAGf,IAEHJ,qBAAU,YAC4C,IAAhDX,EAAQgB,SAASC,QAAQ,kBAC3BC,SAASC,MAAQ,iCACa,UAArBnB,EAAQgB,WACjBE,SAASC,MAAQ,6BAEwB,IAAvCnB,EAAQgB,SAASC,QAAQ,SAC3BT,EAAc,MACoC,IAAzCR,EAAQgB,SAASC,QAAQ,YAClCT,EAAc,OAEf,CAACR,IAGF,eAAC,IAAD,CAAQoB,UAAU,aAAlB,UACE,eAAClC,EAAD,CAAQkC,UAAU,SAAlB,UACE,qBAAKA,UAAU,OAAf,8DACA,cAAC,IAAD,CACEC,MAAM,QACNC,KAAK,aACLF,UAAU,SACVG,aAAchB,EAJhB,SAMGlB,EAAamC,KAAI,SAACC,GAAD,OAChB,cAAC,IAAKC,KAAN,CACEN,UAAU,aAEV5B,KAAMiC,EAAKjC,KACXmC,QAAS,WAnDnB7B,EAoDyB2B,EApDb/B,SA+CJ,SAQG+B,EAAKnC,MANDmC,EAAKlC,aAWlB,cAAC,IAAD,CAAQ6B,UAAU,cAAlB,SACE,cAAC,IAAD,CACEA,UAAU,qBACVQ,MAAO,CACLlB,OAAQL,EAAe,GACvBwB,gBAAiB,QAJrB,SAOE,cAACzC,EAAD,CACEwC,MAAO,CACLE,OAAQ,EACRC,cAAe,IAHnB,SAMGlC,EAAMmC,mB,kCCvGNC,G,OAAoB,CAC/B,CACEd,MAAO,eACPe,UAAW,KACXC,MAAO,IAET,CACEhB,MAAO,2BACPe,UAAW,cACXE,OAAQ,SAACC,GAAD,OACN,qBAAKT,MAAO,CAAEU,MAAO,WAArB,UAAuC,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAME,aAAc,QAG3D,CACEpB,MAAO,2BACPe,UAAW,WACXE,OAAQ,SAACC,GAAD,OAAgC,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAME,aAAc,MAE1D,CACEpB,MAAO,2BACPe,UAAW,UAEb,CACEf,MAAO,qBACPe,UAAW,oBAEb,CACEf,MAAO,eACPe,UAAW,UAEb,CACEf,MAAO,eACPe,UAAW,SAEb,CACEf,MAAO,eACPiB,OAAQ,kBAAM,cAAC,IAAD,+BCjCVI,EAAWC,IAAXD,OACAE,EAAgBC,IAAhBD,YAID,SAASE,EAAO/C,GACrB,MAA0BK,mBAAS,KAAnC,mBAAO2C,EAAP,KACA,GADA,KACwB3C,mBAAS,IAAjC,mBAAO4C,EAAP,KAAaC,EAAb,KACA,EAAgC7C,mBAAS,IAAzC,mBAAO8C,EAAP,KAAiBC,EAAjB,KAWA,OACE,sBAAK7B,UAAU,SAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,SAAf,UACE,eAAC,IAAD,CAAQ8B,YAAY,iCAAQtB,MAAO,CAAEuB,SAAU,KAA/C,UACE,cAACX,EAAD,CAAQY,MAAO,EAAf,gCACA,cAACZ,EAAD,CAAQY,MAAO,EAAf,gCACA,cAACZ,EAAD,CAAQY,MAAO,EAAf,gCACA,cAACZ,EAAD,CAAQY,MAAO,EAAf,mCAEF,eAAC,IAAD,CACEF,YAAY,iCACZtB,MAAO,CAAEuB,SAAU,IAAKE,WAAY,IAFtC,UAIE,cAACb,EAAD,CAAQY,MAAO,EAAf,0BACA,cAACZ,EAAD,CAAQY,MAAO,EAAf,gCACA,cAACZ,EAAD,CAAQY,MAAO,EAAf,6BAEF,cAACV,EAAD,CAAad,MAAO,CAAEyB,WAAY,SAEpC,qBAAKzB,MAAO,CAAEO,MAAO,KAArB,SACE,cAAC,IAAD,gCAGJ,qBAAKP,MAAO,CAAEC,gBAAiB,WAA/B,SACE,cAAC,IAAD,CACED,MAAO,CAAE0B,UAAW,IACpBC,UAAU,EACVC,OAAQ,SAACC,GAAD,OAAcA,EAAIC,GAAGnB,YAC7BoB,QAAS1B,EACT2B,WAAY,GACZC,MAAO,WACL,MAAO,CACLlC,QAAS,eAGbmC,WAAY,CACVC,gBAAiB,CAAC,KAAM,KAAM,KAAM,OACpCC,UAAW,SAACnB,GAAD,uBAAgBA,EAAhB,wBACXoB,iBAAiB,EACjBC,iBAAiB,EACjBC,QAASrB,EACTE,SAAUA,EACVH,MAAOA,EACPuB,SArDuC,SAC/CtB,EACAuB,GAEA,IAAIC,EAAcD,IAAUrB,EAAWF,EAAO,EAC9CG,EAAYD,GACZD,EAAQuB,Y,uDCPL,SAASC,EAAkB1E,GAChC,OACE,sBACE+B,MAAO,CACLC,gBAAsB,OAALhC,QAAK,IAALA,KAAO2E,SAAW,UAAY,OAC/CC,aAAc,GACdC,QAAS,GACTC,UAAW,aACXC,OAAQ,+BACRtC,MAAY,OAALzC,QAAK,IAALA,KAAO2E,SAAW,OAAS,QAEpC7C,QAAS9B,EAAM8B,QATjB,UAWE,sBAAKC,MAAO,CAAE6C,aAAc,IAA5B,iBACG5E,QADH,IACGA,OADH,EACGA,EAAOP,KADV,gBACiBO,QADjB,IACiBA,OADjB,EACiBA,EAAOgF,KADxB,WAC+BhF,QAD/B,IAC+BA,OAD/B,EAC+BA,EAAOgD,MADtC,YAGA,sBAAKjB,MAAO,CAAEkD,WAAY,UAA1B,UACGjF,EAAMkF,OAAOlF,EAAMkF,MAAM,GAAGC,IAAOnF,EAAMkF,MAAM,IAC7CE,OAAO,cAAc,KAF1B,KAGKpF,EAAMkF,OAAOlF,EAAMkF,MAAM,GAAGC,IAAOnF,EAAMkF,MAAM,IAC/CE,OAAO,cAAc,W,8DClCnBC,EAGH,CACNC,IAAK,CACHC,aAAc,WAEdC,SAAU,yBAGZC,KAAM,CACJF,aAAc,GACdC,SAAU,SAKHE,EACX,UAEOL,EAAiBI,KAAKF,cAF7B,OAE4CF,EAAiBI,KAAKD,UCf9DG,EAAKC,EAAQ,KAEbC,EAAUH,EAsBHI,EAAb,WAWE,aAAe,IAAD,gCAJPC,MAAQC,aAAaC,QAAQ,YAItB,KAHLC,UAGK,OAFLC,QAAkB,IAGzBC,KAAKF,KAAOG,IAAMC,OAAO,CACvBT,UACAM,QAASC,KAAKD,UAGhBC,KAAKF,KAAKK,aAAaC,QAAQC,KAAI,SAACC,GAElC,OADAA,EAAOC,KAAOhB,EAAGiB,UAAUF,EAAOC,MAC3BD,KAETN,KAAKF,KAAKK,aAAaM,SAASJ,IAAhC,uCACE,WAAOI,GAAP,eAAAC,EAAA,yDAC8B,SAAxBD,EAASF,KAAKI,MADpB,oBAEQ,EAAKhB,MAFb,gCAGYC,aAAagB,WAAW,YAHpC,uBAIYlB,EAAImB,sBAAsBJ,EAASF,MAJ/C,YAQIE,EAASK,QAAU,KACnBL,EAASK,QAAU,KACK,SAAxBL,EAASF,KAAKQ,OAVlB,0CAYWN,EAASF,MAZpB,aAaaE,EAASK,QAAU,KAbhC,wBAcQP,EAAOE,EAASF,OAElBS,IAAQD,MAAR,OAAcR,QAAd,IAAcA,OAAd,EAAcA,EAAMQ,OAhB1B,kBAkBWR,GAlBX,4CADF,kCAAAP,KAAA,gBAsBE,SAACe,GACC,MAAO,CACLJ,MAAO,EACPI,MAAOA,EACPR,KAAM,KACNU,SAAS,EACTC,UAAWxB,EAAIyB,mBAjDzB,yFAmEE,WACEC,EACAC,EACAC,EACAC,EACAC,GALF,yEAQQC,EAAe,CACnBC,cAAe,GACf,eAAgB,qCAEdH,IACFE,EAAO,cAAoBzB,KAAKL,OAE9B6B,IACFC,EAAQ,gBAAkB,uBAhB9B,KAkBUL,EAlBV,OAmBS,QAnBT,OAsBS,SAtBT,QAyBS,QAzBT,QA4BS,UA5BT,QA+BS,WA/BT,wCAoBuBpB,KAAKF,KAAK6B,IAAIN,EAAK,CAAEC,SAAQG,YApBpD,8CAgCMhB,EAhCN,qDAuBuBT,KAAKF,KAAK8B,KAAKP,EAAKC,EAAQ,CAAEG,YAvBrD,yBA0BuBzB,KAAKF,KAAK+B,IAAIR,EAAKC,EAAQ,CAAEG,YA1BpD,yBA6BuBzB,KAAKF,KAAKgC,MAAMT,EAAKC,EAAQ,CAAEG,YA7BtD,yBAgCuBzB,KAAKF,KAAKiC,OAAOV,EAAK,CAAEC,SAAQG,YAhCvD,iCAmCa,CACLd,MAAO,IACPI,MAAO,uCACPR,KAAM,KACNU,SAAS,EACTC,UAAWxB,EAAIyB,iBAxCvB,aA2CUV,EAASE,MA3CnB,OA4CS,IA5CT,QAqDS,SArDT,kDA6Ca,CACLA,MAAOF,EAASE,MAChBI,MAAON,EAASM,MAChBR,KAAME,EAASF,KACfU,QAC8B,mBAArBR,EAASQ,SAAwBR,EAASQ,QACnDC,UAAWxB,EAAIyB,iBAnDvB,iCAsDaa,QAAQC,OAAO,CACpBtB,MAAOF,EAASE,MAChBI,MAAON,EAASM,MAChBR,KAAM,KACNU,SAAS,EACTC,UAAWxB,EAAIyB,kBA3DvB,iCA8Da,CACLR,MAAOF,EAASE,MAChBI,MAAON,EAASM,MAChBR,KAAM,KACNU,SAAS,EACTC,UAAWxB,EAAIyB,iBAnEvB,iDAnEF,uHA2IE,WAAUe,GAAV,uBAAAxB,EAAA,6DACUW,EAAuCa,EAAvCb,IADV,EACiDa,EAAlCZ,cADf,MACwB,GADxB,IACiDY,EAArBX,iBAD5B,2BAESvB,KAAKmC,eAAe,MAAOd,EAAKC,EAAQC,GAAW,IAF5D,gDA3IF,gHAgJE,WAAWW,GAAX,2BAAAxB,EAAA,6DACUW,EAA0Da,EAA1Db,IADV,EACoEa,EAArDZ,cADf,MACwB,GADxB,IACoEY,EAAxCX,iBAD5B,WACoEW,EAAtBV,iBAD9C,2BAESxB,KAAKmC,eAAe,OAAQd,EAAKC,EAAQC,EAAWC,IAF7D,gDAhJF,+GAqJE,WAAUU,GAAV,uBAAAxB,EAAA,6DACUW,EAAuCa,EAAvCb,IADV,EACiDa,EAAlCZ,cADf,MACwB,GADxB,IACiDY,EAArBX,iBAD5B,2BAESvB,KAAKmC,eAAe,MAAOd,EAAKC,EAAQC,GAAW,IAF5D,gDArJF,iHA0JE,WAAYW,GAAZ,uBAAAxB,EAAA,6DACUW,EAAuCa,EAAvCb,IADV,EACiDa,EAAlCZ,cADf,MACwB,GADxB,IACiDY,EAArBX,iBAD5B,2BAESvB,KAAKmC,eAAe,QAASd,EAAKC,EAAQC,GAAW,IAF9D,gDA1JF,kHA+JE,WAAaW,GAAb,uBAAAxB,EAAA,6DACUW,EAAuCa,EAAvCb,IADV,EACiDa,EAAlCZ,cADf,MACwB,GADxB,IACiDY,EAArBX,iBAD5B,2BAESvB,KAAKmC,eAAe,SAAUd,EAAKC,EAAQC,GAAW,IAF/D,gDA/JF,gFACE,WACE,OAAOvB,KAAKoC,WAAapC,KAAKoC,SAAW,IAAIpC,QAFjD,0BAuDE,WACE,OAAOjB,MAASC,OAAO,OAxD3B,0EA2DE,WAAmCuB,GAAnC,iEACES,IAAQqB,UACRrB,IAAQD,MAAR,UAAiBR,EAAKQ,MAAtB,qDACAuB,YAAW,WACTpI,OAAOqI,SAASC,MAAW,OAAJjC,QAAI,IAAJA,OAAA,EAAAA,EAAMc,MAAO,iCACnC,KALL,2CA3DF,8DAAa3B,EAKJ0C,c,sBCpBJK,ECJCC,E,mIACJ,WAAqBpB,GAArB,iFACe5B,EAAIiD,YAAYhB,IAAI,CAC/BN,IAAK,8BACLC,WAHJ,mF,yHAMA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,0BACLC,WAHJ,mF,8HAMA,WAAgCA,GAAhC,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,+BACLC,WAHJ,mF,uHAMA,WAAyBA,GAAzB,iFACe5B,EAAIiD,YAAYhB,IAAI,CAC/BN,IAAK,yBACLC,WAHJ,mF,yHAMA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYhB,IAAI,CAC/BN,IAAK,8BACLC,WAHJ,mF,oHAOA,WAAsBA,GAAtB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,mCACLC,WAHJ,mF,mHAOA,WAAqBA,GAArB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,mCACLC,WAHJ,mF,yHAOA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,wCACLC,WAHJ,mF,mHAOA,WAAqBA,GAArB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,iCACLC,WAHJ,mF,uHAOA,WAAyBA,GAAzB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,gCACLC,WAHJ,mF,oHAOA,WAAsBA,GAAtB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,4BACLC,WAHJ,mF,kHAOA,WAAoBA,GAApB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,iCACLC,WAHJ,mF,yHAOA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,2BACLC,WAHJ,mF,wIAOA,WAA0CA,GAA1C,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,gCACLC,WAHJ,mF,mHAOA,WAAqBA,GAArB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,sCACLC,WAHJ,mF,wHAOA,WAA0BA,GAA1B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,mCACLC,WAHJ,mF,sHAOA,WAAwBA,GAAxB,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,qCACLC,WAHJ,mF,yHAOA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,qCACLC,WAHJ,mF,+HAOA,WAAiCA,GAAjC,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,wCACLC,WAHJ,mF,yHAOA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,iCACLC,WAHJ,mF,6HAOA,WAA+BA,GAA/B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,mCACLC,WAHJ,mF,0HAOA,WAA4BA,GAA5B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,+BACLC,WAHJ,mF,wHAOA,WAA0BA,GAA1B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,oCACLC,WAHJ,mF,+HAOA,WAAiCA,GAAjC,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,8BACLC,WAHJ,mF,yHAOA,WAA2BA,GAA3B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,qCACLC,WAHJ,mF,8HAOA,WAAgCA,GAAhC,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,mCACLC,WAHJ,mF,+HAOA,WAAiCA,GAAjC,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,qCACLC,WAHJ,mF,4HAOA,WAA8BA,GAA9B,iFACe5B,EAAIiD,YAAYf,KAAK,CAChCP,IAAK,qCACLC,WAHJ,mF,sHAMA,WAAwBA,GAAxB,iFACe5B,EAAIiD,YAAYhB,IAAI,CAC/BN,IAAK,8BACLC,WAHJ,mF,8DC1MWsB,GAAgB,CAC3B,CAAEvJ,KAAM,2BAAQC,IAAK,OAAQuJ,KAAM,GACnC,CAAExJ,KAAM,uCAAUC,IAAK,cAAeuJ,KAAM,GAC5C,CAAExJ,KAAM,2BAAQC,IAAK,aAAcuJ,KAAM,GACzC,CAAExJ,KAAM,2BAAQC,IAAK,SAAUuJ,KAAM,GACrC,CAAExJ,KAAM,iCAASC,IAAK,cAAeuJ,KAAM,GAC3C,CAAExJ,KAAM,2BAAQC,IAAK,eAAgBuJ,KAAM,GAC3C,CAAExJ,KAAM,2BAAQC,IAAK,kBAAmBuJ,KAAM,ICPnCC,GAAa,SAACzB,GACzB,IAAI0B,EAAW,GAQf,OAPe1B,EAAI2B,UAAU,GACtBC,MAAM,KAAKC,SAAQ,SAACC,GACzB,IAAMC,EAAMD,EAASF,MAAM,KACrBI,EAAMD,EAAI,GACV9J,EAAM8J,EAAI,GAChBL,EAAIzJ,GAAO+J,KAENN,G,6CCPIO,IAAb,eASE,aAAe,mRACbC,aAAmBvD,SAVvB,wCACGwD,MADH,yEACmC,KADnC,uCAEGA,MAFH,wEAE0C,MAF1C,oCAGGA,MAHH,wEAGuC,MAHvC,0CAIGA,MAJH,wEAIqC,MAJrC,uCAKGA,MALH,wEAKkC,MALlC,qCAMGA,MANH,wEAMgC,MANhC,oCAOGA,MAPH,wEAO+B,MAP/B,GCCMC,GAAeC,wBAAc,CACjCC,mBAAoB,IAAIL,KAGbM,GAAW,kBAAMC,qBAAWJ,KCM5BK,GAAgBC,cAC3B,SAACnK,GACC,IAAM2I,EAAWvI,cACXH,EAAYC,cACV6J,EAAuBC,KAAvBD,mBACFK,EAAoBlB,GAAWP,EAAS0B,QAC9C,EAAgChK,qBAAhC,mBAAOsE,EAAP,KAAiB2F,EAAjB,KACA,EAAkCjK,qBAAlC,mBAAOkK,EAAP,KAAkBC,EAAlB,KACA,EAAwBnK,mBAAc,IAAtC,mBAAOsG,EAAP,KAAa8D,EAAb,KACA,EAA0BpK,qBAA1B,mBAAcqK,GAAd,WACA,EAAsCrK,qBAAtC,mBAAoBsK,GAApB,WAEA7J,qBAAU,WACR8J,IACA,IAAIjE,EAAYX,aAAaC,QAAQ,gBACjCU,GACF8D,EAAQ,eAAKI,KAAKC,MAAMnE,OAEzB,IAEH7F,qBAAU,WACRR,OAAOyK,SAAS,EAAG,KAClB,CAACpC,IAEJ7H,qBAAU,WACR,GAAIiJ,EAAmBiB,UAAW,CAChC,IAAItD,EAAcwB,GAAWP,EAAS0B,QACtCN,EAAmBiB,WAAY,EAC/BlC,EAAQmC,SAAS,CAAEpH,GAAE,OAAEuG,QAAF,IAAEA,OAAF,EAAEA,EAAcvG,KAAMqH,MAAK,SAAC/B,GAC/C,GAAIA,EAAI9B,QAAS,CACfmD,EAAarB,EAAIxC,MACjB,IAAIwE,EAAShC,EAAIxC,KAAKyE,MAAK,SAACxJ,GAAD,OAAe+C,IAAa/C,EAAKiC,MAC5D5D,EAAU,iCAAD,cAC0BmK,QAD1B,IAC0BA,OAD1B,EAC0BA,EAAcvG,GADxC,0BACqD6D,QADrD,IACqDA,OADrD,EACqDA,EAAQ2D,OAD7D,yBAC6E3D,QAD7E,IAC6EA,OAD7E,EAC6EA,EAAQ1E,MADrF,gCAC2GmI,QAD3G,IAC2GA,OAD3G,EAC2GA,EAAQG,cAC1H,CAAEC,SAAS,SAGbnE,IAAQD,MAAMgC,EAAIhC,aAIvB,CAAC4C,EAAmBiB,YAGvB,IAAMJ,EAAW,WACf9B,EAAQmC,SAAS,CAAEpH,GAAE,OAAEuG,QAAF,IAAEA,OAAF,EAAEA,EAAcvG,KAAMqH,MAAK,SAAC/B,GAC7B,IAAD,UAAbA,EAAI9B,SACNmD,EAAarB,EAAIxC,MACjB2D,EAAW,UAACnB,EAAIxC,KAAK,UAAV,aAAC,EAAa9C,IACzBkG,EAAmByB,SAAnB,OAA8BpB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAcvG,GAC5CkG,EAAmB0B,SAAnB,UAA8BtC,EAAIxC,KAAK,UAAvC,aAA8B,EAAalH,KAAKiD,WAChDqH,EAAmB2B,YAAnB,UAAiCvC,EAAIxC,KAAK,UAA1C,aAAiC,EAAa2E,aAAa5I,WAC3DqH,EAAmB/G,MAAnB,UAA2BmG,EAAIxC,KAAK,UAApC,aAA2B,EAAa3D,MAAMN,WAC9CqH,EAAmB4B,MAAnB,UAA2BxC,EAAIxC,KAAK,UAApC,aAA2B,EAAa9C,IAKxCuD,IAAQD,MAAMgC,EAAIhC,WAiBlByE,EAAoBC,mBAAQ,WAChC,IAAIC,EAAU,OAAGvB,QAAH,IAAGA,OAAH,EAAGA,EAAWa,MAAK,SAACxJ,GAAD,OAAeA,EAAKiC,KAAOc,KAS5D,OARc,OAAVmH,QAAU,IAAVA,KAAYC,YAAZ,OAA0BD,QAA1B,IAA0BA,KAAYE,SACxCrF,EAAI,gBAAJ,iBAEOmF,QAFP,IAEOA,OAFP,EAEOA,EAAYC,WAFnB,qBAEmCD,QAFnC,IAEmCA,OAFnC,EAEmCA,EAAYE,UAE/CrF,EAAI,gBAAsB,GAE5BA,EAAI,aAAJ,OAAuBmF,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAYrM,KAEjC,cAAC,IAAD,CAAciE,UAAQ,EAAtB,SACGsF,GAAcrH,KAAI,SAACC,EAAMqK,GACxB,OACE,cAAC,IAAapK,KAAd,CAEEqK,WAAY,CACV5J,MAAO,IACPN,gBAAiB,UACjBmK,UAAW,OAEbpK,MAAO,CAAElB,OAAQ,IACjBuL,MAAOxK,EAAKnC,KAAO,SACnBwJ,KAAMrH,EAAKqH,KATb,SAWGtC,EAAK/E,EAAKlC,MAVNuM,UAgBd,CAACtF,EAAMhC,IAEV,OACE,sBAAKpD,UAAU,gBAAf,UACGqK,EACD,sBAAKrK,UAAU,QAAf,UACE,qBAAKQ,MAAO,CAAEuB,SAAU,KAAxB,SACGiH,GAAa8B,MAAMC,QAAQ/B,IAAcA,EAAUgC,OAChDhC,EAAU5I,KAAI,SAACC,EAAMqK,GACnB,OACE,cAACvH,EAAD,CAEEjF,KAAMmC,EAAKnC,KACXkF,SAAUA,IAAa/C,EAAKiC,GAC5BmB,KAAMpD,EAAK0J,aAAe1J,EAAK0J,aAAe,EAC9CtI,MAAOpB,EAAKoB,MAAQpB,EAAKoB,MAAQ,EACjCkC,MAAO,CAACtD,EAAKmK,WAAYnK,EAAKoK,UAC9BlK,QAAS,WA7DL,IAAC4F,EA8DH4C,EAAY1I,EAAKiC,IA7DnC8G,EAAc,QADOjD,EA+DW9F,SA9DlB,IAAC8F,OAAD,EAACA,EAAQ4D,cACvBZ,EAAShD,EAAO7D,IAChBkG,EAAmByB,SAAnB,OAA8BpB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAcvG,GAC5CkG,EAAmB0B,SAAnB,OAA8B/D,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAQjI,KAAKiD,WAC3CqH,EAAmB2B,YAAnB,OAAiChE,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAQ4D,aAAa5I,WACtDqH,EAAmB/G,MAAnB,OAA2B0E,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAQ1E,MAAMN,WACzCqH,EAAmB4B,MAAnB,OAA2BjE,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAQ7D,KAgDdjC,EAAKiC,OAahB,OAEN,cAAC,IAAD,a,4DCjJG2I,I,OAAgB,CAC3B,CACE/M,KAAK,iCACLgN,KAAK,WACL5I,GAAG,EACH6I,MAAM,QAER,CACEjN,KAAK,qBACLgN,KAAK,SACL5I,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,SACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,SACLoE,GAAG,EACHN,MAAM,KAIZ,CACE9D,KAAK,qBACLgN,KAAK,SACL5I,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,uCACL8D,MAAM,EACNM,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,mBAKb,CACEhN,KAAK,qBACLgN,KAAK,WACL5I,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,SACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,SACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,qBACLgN,KAAK,SACL5I,GAAG,GACH6I,MAAM,eAER,CACEjN,KAAK,qBACLgN,KAAK,SACL5I,GAAG,GACH6I,MAAM,eAER,CACEjN,KAAK,iCACLoE,GAAG,GACH4I,KAAK,0BACLC,MAAM,YAER,CACEjN,KAAK,uCACLgN,KAAK,uBACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,SACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,mDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,gCACL5I,GAAG,OAKX,CACEpE,KAAK,6CACLgN,KAAK,kBACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,uCACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,2BACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,uCACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,OAKDoJ,GAAU,CACrB,CACElN,KAAK,qBACLgN,KAAK,cACL5I,GAAG,EACH6I,MAAM,eAER,CACEjN,KAAK,qBACLgN,KAAK,cACL5I,GAAG,EACH6I,MAAM,eAER,CACEjN,KAAK,qBACLgN,KAAK,aACL5I,GAAG,EACH6I,MAAM,eAER,CACEjN,KAAK,qBACLgN,KAAK,MACL5I,GAAG,EACH6I,MAAM,gBAGGE,GAAc,CACzB,CACEnN,KAAK,uCACLgN,KAAK,cACL5I,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,uBACL5I,GAAG,IAGP,CACEpE,KAAK,eACLoE,GAAG,EACHN,MAAM,KAIZ,CACE9D,KAAK,2BACLgN,KAAK,cACL5I,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,uBACL5I,GAAG,IAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,2BACLgN,KAAK,OACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,sBACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,qBACLgN,KAAK,QACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,iBACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,qBACLgN,KAAK,UACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,mBACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,qBACLgN,KAAK,QACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,iBACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,iCACLgN,KAAK,kBACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,2BACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,iCACLgN,KAAK,iBACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,0BACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,qBACLgN,KAAK,QACL5I,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,yDACL8D,MAAM,EACNM,GAAG,GACH6I,MAAM,QACNvK,SAAS,CACPsK,KAAK,iBACL5I,GAAG,KAGP,CACEpE,KAAK,eACLoE,GAAG,GACHN,MAAM,MAKDsJ,GAAS,CACpB,CACEpN,KAAK,6CACLgN,KAAK,OACL5I,GAAG,EACH6I,MAAM,SAER,CACEjN,KAAK,6EACLgN,KAAK,aACL5I,GAAG,EACH6I,MAAM,QAER,CACEjN,KAAK,iEACLgN,KAAK,WACL5I,GAAG,EACH6I,MAAM,QAER,CACEjN,KAAK,iCACLgN,KAAK,cACL5I,GAAG,EACHiJ,YAAW,EACXJ,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,SACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,SACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,SACLoE,GAAG,EACHN,MAAM,KAIZ,CACE9D,KAAK,iCACLgN,KAAK,aACL5I,GAAG,EACHiJ,YAAW,EACXJ,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,iCACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,oDACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,2BACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,uCACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,mDACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,yDACLgN,KAAK,cACL5I,GAAG,GACHiJ,YAAW,EACXJ,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,qBACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,2BACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,2BACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,yDACLgN,KAAK,aACL5I,GAAG,GACHiJ,YAAW,EACXJ,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,SACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,SACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,qKACLgN,KAAK,SACL5I,GAAG,GACHiJ,YAAW,EACXJ,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,qBACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,GAER,CACE9D,KAAK,eACLoE,GAAG,GACHN,MAAM,KAIZ,CACE9D,KAAK,yDACLoE,GAAG,GACH4I,KAAK,UACLC,MAAM,aCtkBFK,GAAaC,KAAbD,SASKE,GAAiC,SAACjN,GAC7C,MAA0BK,qBAA1B,mBAAO6M,EAAP,KAAcC,EAAd,KACA,EAAwB9M,mBAAc,IAAtC,mBAAOsG,EAAP,KAAa8D,EAAb,KACA,EAAkCpK,oBAAkB,GAApD,mBAAO+M,EAAP,KAAkBC,EAAlB,KACA,EAAkChN,qBAAlC,mBAAOiN,EAAP,KAAkBC,EAAlB,KACA,EAAkDlN,qBAAlD,mBAAOmN,EAAP,KAA0BC,EAA1B,KAGA3M,qBAAU,WAcR,OAbAqM,EAASnN,EAAMkN,OACXlN,EAAM0N,cACRC,EAAO3N,EAAMkN,OAEXlN,EAAM4N,iBACJ5N,EAAM4N,iBAAmBJ,GAAqBN,IAAUlN,EAAMkN,QAChEO,EAAqBzN,EAAM4N,gBAC3BC,EAAQ7N,EAAMkN,OACM,IAAhBlN,EAAMkN,OACRY,MAIC,WACLX,EAAS,GACTE,GAAa,MAEd,CAACrN,EAAMkN,MAAOlN,EAAM0N,aAAc1N,EAAM4N,iBAG3C,IAAMC,EAAU,SAACX,GACf,OAAQA,GACN,KAAK,EACHpE,EAAQiF,cAAc,CAAEC,iBAAkBhO,EAAM4N,iBAAkB1C,MAChE,SAAC/B,GACKA,EAAI9B,QACF8B,EAAIxC,KACN8D,EAAQtB,EAAIxC,MAEZ8D,EAAQ,IAGVrD,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH2B,EAAQmF,QAAQ,CAAED,iBAAkBhO,EAAM4N,iBAAkB1C,MAC1D,SAAC/B,GACKA,EAAI9B,QACF8B,EAAIxC,KACN8D,EAAQtB,EAAIxC,MAEZ8D,EAAQ,IAGVrD,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH2B,EAAQoF,YAAY,CAAEF,iBAAkBhO,EAAM4N,iBAAkB1C,MAC9D,SAAC/B,GACKA,EAAI9B,QACF8B,EAAIxC,KACN8D,EAAQtB,EAAIxC,MAEZ8D,EAAQ,IAGVrD,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH2B,EAAQqF,SAAS,CAAEH,iBAAkBhO,EAAM4N,iBAAkB1C,MAC3D,SAAC/B,GACKA,EAAI9B,QACF8B,EAAIxC,KACN8D,EAAQtB,EAAIxC,MAEZ8D,EAAQ,IAGVrD,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH2B,EAAQsF,OAAO,CAAEJ,iBAAkBhO,EAAM4N,iBAAkB1C,MACzD,SAAC/B,GACKA,EAAI9B,QACF8B,EAAIxC,KACN8D,EAAQtB,EAAIxC,MAEZ8D,EAAQ,IAGVrD,IAAQD,MAAMgC,EAAIhC,YAQxB2G,EAAQ,WACZhF,EAAQuF,YAAY,IAAInD,MAAK,SAAC/B,GACxBA,EAAI9B,QACF8B,EAAIxC,MAAQwC,EAAIxC,KAAK2H,uBACvBf,EAAapE,EAAIxC,KAAK2H,uBAGxBlH,IAAQD,MAAMgC,EAAIhC,WAKlBwG,EAAS,SAACT,GACd,OAAQA,GACN,KAAK,EACHpE,EAAQyF,oBAAR,2BACK5H,GADL,IAEEqH,iBAAkBhO,EAAM4N,kBACvB1C,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAGtB,MACF,KAAK,EACH2B,EAAQ2F,cAAR,2BACK9H,GADL,IAEEqH,iBAAkBhO,EAAM4N,kBACvB1C,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAGtB,MACF,KAAK,EACH2B,EAAQ4F,kBAAR,2BACK/H,GADL,IAEEqH,iBAAkBhO,EAAM4N,kBACvB1C,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAGtB,MACF,KAAK,EACH2B,EAAQ6F,eAAR,2BACKhI,GADL,IAEEqH,iBAAkBhO,EAAM4N,kBACvB1C,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAGtB,MACF,KAAK,EACH2B,EAAQ8F,aAAR,2BACKjI,GADL,IAEEqH,iBAAkBhO,EAAM4N,kBACvB1C,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAK1BnH,EAAM6O,iBAAgB,IAGlBC,EAAa,SAACrF,EAAUgD,EAAcsC,GAC1C,IAAMC,EAAU,eAAQrI,GACxB,GAAa,IAAToI,EACF,GAAU,gBAAPtC,EAAqB,CACtB,GAAGhD,GAAK,IACN,OAEAuF,EAAMvC,GAAQhD,EAAIwF,QAAQ,QAExB,GAAU,gBAAPxC,EAAqB,CAC5B,GAAGhD,GAAK,IACN,OAEAuF,EAAMvC,GAAQyC,SAASzF,QAErB,GAAU,eAAPgD,GAA4B,QAAPA,GAAqB,QAAPA,EAAa,CACvD,GAAGhD,GAAK,IACN,OAEAuF,EAAMvC,GAAQyC,SAASzF,QAGzBuF,EAAMvC,GAAQhD,OAEE,IAATsF,GACNC,EAAMG,eACPH,EAAMG,aAAa,IAElBH,EAAMI,gCACPJ,EAAMI,8BAA8B,IAEnCJ,EAAMK,uBACPL,EAAMK,qBAAqB,IAE7BL,EAAMvC,GAAQhD,EAAI6F,OAAO/L,OACP,IAATwL,IACTC,EAAMvC,GAAQtH,IAAOsE,GAAKrE,OAAO,eAGnCqF,EAAQuE,IAGV,OACE,sBAAKzN,UAAU,eAAf,UACE,wBACEO,QAAS,kBAAMuL,GAAa,IAC5BtL,MAAO,CACLC,gBAAiBoL,EAAY,UAAY,OACzC3K,MAAO2K,EAAY,GAAK,UACxBxI,aAAc,EACd2K,YAAa,GANjB,SASa,IAAVrC,EACG,6CACU,IAAVA,EACA,2BACU,IAAVA,EACA,2BACU,IAAVA,EACA,2BACU,IAAVA,EACA,2BACA,OAWLE,EAAY,KACX,8BACa,IAAVF,EACC,cAAC,IAAD,CACEhB,WAAY,CAAE5J,MAAO,OACrBoB,UAAQ,EACR3B,MAAO,CAAEC,gBAAiB,QAH5B,SAKGwK,IACDH,MAAMC,QAAQE,KACdA,GAAgBD,OACZC,GAAgB7K,KAAI,SAACC,GACnB,GAAmB,SAAfA,EAAK8K,MAAkB,CACzB,IAAI8C,EACF7I,GAAQA,EAAK/E,EAAK6K,MACdtH,IAAOwB,EAAK/E,EAAK6K,OAAOrH,OAAO,cAC/B,KACN,OACE,cAAC,IAAavD,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC,IAAD,CACEwG,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACiL,EAAME,GAAP,OACRZ,EAAWY,EAAY9N,EAAK6K,KAAM,OARjC7K,EAAKiC,IAaT,MAAmB,UAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC,KAAM0G,MAAP,CACEpM,MACEoD,GAAQA,EAAK/E,EAAK6K,OAEd9F,GAA4B,IAApBA,EAAK/E,EAAK6K,MADlB9F,EAAK/E,EAAK6K,MAGV,KAENlI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,IAR5C,SAUG7K,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,GAEW,IAAD,EA2BlB,EA5BT,OAAIA,EAAMnD,OAASmD,EAAM1N,SACL,uBAAdP,EAAKnC,KAEL,eAAC,KAAD,CAEE8D,MAAOsM,EAAMtM,MAFf,UAIGsM,EAAMpQ,KACNkH,GACDA,EAAK/E,EAAK6K,OACU,IAApB9F,EAAK/E,EAAK6K,MACR,cAAC,KAAD,CACE1K,MAAO,CAAEO,MAAO,SAChBiB,MACEoD,GACAA,EAAI,UAACkJ,EAAM1N,gBAAP,aAAC,EAAgBsK,MAEvBlI,SAAU,SAACqL,GAAD,OACRd,EACEc,EACAC,EAAM1N,SAASsK,KACf,MAIJ,OArBCoD,EAAMhM,IA0Bb,eAAC,KAAD,CAEEN,MAAOsM,EAAMtM,MAFf,UAIGsM,EAAMpQ,KACNkH,GACDA,EAAK/E,EAAK6K,OACU,IAApB9F,EAAK/E,EAAK6K,MACR,cAAC,KAAD,CACE1K,MAAO,CAAEO,MAAO,SAChBiB,MACEoD,GACAA,EAAI,UAACkJ,EAAM1N,gBAAP,aAAC,EAAgBsK,MAEvBlI,SAAU,SAACqL,GAAD,OACRd,EACEc,EACAC,EAAM1N,SAASsK,KACf,MAIJ,OArBCoD,EAAMhM,IA2Bf,cAAC,KAAD,CAAsBN,MAAOsM,EAAMtM,MAAnC,SACGsM,EAAMpQ,MADGoQ,EAAMhM,OAMxB,QAlFDjC,EAAKiC,IAsFU,aAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC8D,GAAD,CACExJ,MACEoD,GAAQA,EAAK/E,EAAK6K,MAAQ9F,EAAK/E,EAAK6K,MAAQ,KAE9ClI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,OARvC7K,EAAKiC,IAYU,gBAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKiB,uBAAdrH,EAAKnC,KACJ,gCACE,cAAC,KAAD,CACE8D,MACEoD,GAAQA,EAAK/E,EAAK6K,MACd9F,EAAK/E,EAAK6K,MACV,KAENlI,SAAU,SAACkF,GAAD,OACRqF,EAAWrF,EAAK7H,EAAK6K,KAAM,IAE7B1K,MAAO,CAAEO,MAAO,OAVpB,kBAcgB,uBAAdV,EAAKnC,KACP,gCACE,cAAC,KAAD,CACE8D,MACEoD,GAAQA,EAAK/E,EAAK6K,MACd9F,EAAK/E,EAAK6K,MACV,KAENlI,SAAU,SAACkF,GAAD,OACRqF,EAAWrF,EAAK7H,EAAK6K,KAAM,IAE7B1K,MAAO,CAAEO,MAAO,OAVpB,kBAeA,cAAC,KAAD,CACEiB,MACEoD,GAAQA,EAAK/E,EAAK6K,MAAQ9F,EAAK/E,EAAK6K,MAAQ,KAE9ClI,SAAU,SAACkF,GAAD,OAASqF,EAAWrF,EAAK7H,EAAK6K,KAAM,OAvC7C7K,EAAKiC,SAHT,KAiDT,OAEM,IAAVqJ,EACF,cAAC,IAAD,CACEhB,WAAY,CAAE5J,MAAO,OACrBoB,UAAQ,EACR3B,MAAO,CAAEC,gBAAiB,QAH5B,SAKG2K,IAAaN,MAAMC,QAAQK,KAAcA,GAAUJ,OAChDI,GAAUhL,KAAI,SAACC,GACb,GAAmB,gBAAfA,EAAK8K,MACP,OACE,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKiB,uBAAdrH,EAAKnC,KACJ,gCACE,cAAC,KAAD,CACEqQ,IAAK,EACLvM,MACEoD,GAAQA,EAAK/E,EAAK6K,MACd9F,EAAK/E,EAAK6K,MACV,KAENlI,SAAU,SAACkF,GAAD,OACRqF,EAAWrF,EAAK7H,EAAK6K,KAAM,IAE7B1K,MAAO,CAAEO,MAAO,OAXpB,YAegB,uBAAdV,EAAKnC,MAgBS,uBAAdmC,EAAKnC,KAfP,gCACE,cAAC,KAAD,CACEqQ,IAAK,EACLvM,MACEoD,GAAQA,EAAK/E,EAAK6K,MACd9F,EAAK/E,EAAK6K,MACV,KAENlI,SAAU,SAACkF,GAAD,OACRqF,EAAWrF,EAAK7H,EAAK6K,KAAM,IAE7B1K,MAAO,CAAEO,MAAO,OAXpB,mBA+BgB,uBAAdV,EAAKnC,KACP,gCACE,cAAC,KAAD,CACEqQ,IAAK,EACLvM,MACEoD,GAAQA,EAAK/E,EAAK6K,MACd9F,EAAK/E,EAAK6K,MACV,KAENlI,SAAU,SAACkF,GAAD,OACRqF,EAAWrF,EAAK7H,EAAK6K,KAAM,IAE7B1K,MAAO,CAAEO,MAAO,OAElB,sBAAMP,MAAO,CAAEE,OAAQ,aAAvB,eACA,cAAC,KAAD,CACE6N,IAAK,EACLvM,MAAOoD,GAAQA,EAAKoJ,IAAMpJ,EAAKoJ,IAAM,KACrCxL,SAAU,SAACkF,GAAD,OAASqF,EAAWrF,EAAK,MAAO,IAC1C1H,MAAO,CAAEO,MAAO,OAlBpB,UAuBA,cAAC,KAAD,CACEwN,IAAK,EACLvM,MACEoD,GAAQA,EAAK/E,EAAK6K,MAAQ9F,EAAK/E,EAAK6K,MAAQ,KAE9ClI,SAAU,SAACkF,GAAD,OAASqF,EAAWrF,EAAK7H,EAAK6K,KAAM,OAjF7C7K,EAAKiC,OAwFlB,OAEM,IAAVqJ,EACF,cAAC,IAAD,CACEhB,WAAY,CAAE5J,MAAO,OACrBoB,UAAQ,EACR3B,MAAO,CAAEC,gBAAiB,QAH5B,SAKG4K,IACDP,MAAMC,QAAQM,KACdA,GAAcL,OACVK,GAAcjL,KAAI,SAACC,GACjB,GAAmB,UAAfA,EAAK8K,MACP,OACE,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC,KAAM0G,MAAP,CACEpM,MACEoD,GAAQA,EAAK/E,EAAK6K,MAAQ9F,EAAK/E,EAAK6K,MAAQ,KAE9ClI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,IAJ5C,SAME,cAAC,KAAD,CAAOuD,UAAU,WAAjB,SACGpO,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,GACmB,IAAD,IAAnC,OAAIA,EAAMnD,OAASmD,EAAM1N,SAErB,eAAC,KAAD,CAEEoB,MAAOsM,EAAMtM,MAFf,UAIGsM,EAAMpQ,KACNkH,GACDA,EAAK/E,EAAK6K,OACU,IAApB9F,EAAK/E,EAAK6K,MACR,cAAC,KAAD,CACE1K,MAAO,CAAEO,MAAO,SAChBiC,SAAU,SAACqL,GAAD,OACRd,EACEc,EACAC,EAAM1N,SAASsK,KACf,IAGJlJ,MACEoD,GACAA,EAAI,UAACkJ,EAAM1N,gBAAP,aAAC,EAAgBsK,MACjB9F,EAAI,UAACkJ,EAAM1N,gBAAP,aAAC,EAAgBsK,MACrB,OAGN,OAvBCoD,EAAMhM,IA4Bb,cAAC,KAAD,CAEEN,MAAOsM,EAAMtM,MAFf,SAIGsM,EAAMpQ,MAHFoQ,EAAMhM,OAQnB,UAvDHjC,EAAKiC,OA8DlB,OAEM,IAAVqJ,EACF,eAAC,KAAD,CAAKnL,MAAO,CAAEC,gBAAiB,OAAQiO,UAAW,KAAlD,UACE,cAAC,KAAD,CAAKhH,KAAM,EAAX,SACE,sBAAMlH,MAAO,CAAEmO,MAAO,SAAtB,0DAEF,eAAC,KAAD,CAAKjH,KAAM,GAAX,UACE,cAAC8D,GAAD,CACEoD,KAAM,GACN5M,MAAOoD,GAAQA,EAAKyJ,QAAUzJ,EAAKyJ,QAAU,KAC7C7L,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAG,UAAW,MAE3CtC,GAAajB,MAAMC,QAAQgB,IAAcA,EAAUf,OAChDe,EAAU3L,KAAI,SAACC,EAAMqK,GACnB,OACE,yBACEnK,QAAS,kBAAMgN,EAAWlN,EAAKY,KAAM,UAAW,IAEhDT,MAAO,CACLC,gBAAiB,OACjBM,MAAO,IACPzB,OAAQ,GACR4C,UAAW,GACX8L,YAAa,GACbxK,OAAQ,qBATZ,2CAYQkH,EAAQ,IAVTrK,EAAKiC,OAchB,QAEN,cAAC,KAAD,CAAKoF,KAAM,OAED,IAAViE,EACF,cAAC,IAAD,CACEhB,WAAY,CAAE5J,MAAO,OACrBoB,UAAQ,EACR3B,MAAO,CAAEC,gBAAiB,QAH5B,SAKG6K,IAAYR,MAAMC,QAAQO,KAAaA,GAASN,OAC7CM,GAASlL,KAAI,SAACC,GACZ,GAAmB,SAAfA,EAAK8K,MAAkB,CACzB,IAAI8C,EACF7I,GAAQA,EAAK/E,EAAK6K,MACdtH,IAAOwB,EAAK/E,EAAK6K,OAAOrH,OAAO,cAC/B,KACN,OACE,cAAC,IAAavD,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC,IAAD,CACEwG,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACiL,EAAME,GAAP,OACRZ,EAAWY,EAAY9N,EAAK6K,KAAM,OARjC7K,EAAKiC,IAaT,MAAmB,UAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKGrH,EAAKkL,WACJ,cAAC,KAAM6C,MAAP,CACEpM,MACEoD,GAAQA,EAAK/E,EAAK6K,OAEd9F,GAA4B,IAApBA,EAAK/E,EAAK6K,MADlB9F,EAAK/E,EAAK6K,MAGV,KAENlI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,IAR5C,SAUG7K,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,GACjB,OACE,cAAC,KAAD,CAAsBtM,MAAOsM,EAAMtM,MAAnC,SACGsM,EAAMpQ,MADGoQ,EAAMhM,OAKtB,OAGN,cAAC,KAAM8L,MAAP,CACEpM,MACEoD,GAAQA,EAAK/E,EAAK6K,OAEd9F,GAA4B,IAApBA,EAAK/E,EAAK6K,MADlB9F,EAAK/E,EAAK6K,MAGV,KAENlI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,IAR5C,SAUE,cAAC,KAAD,CAAOuD,UAAU,WAAjB,SACGpO,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,GACjB,OACE,cAAC,KAAD,CAEEtM,MAAOsM,EAAMtM,MAFf,SAIGsM,EAAMpQ,MAHFoQ,EAAMhM,OAOjB,UApDLjC,EAAKiC,IA0DU,aAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC8D,GAAD,CACExJ,MACEoD,GAAQA,EAAK/E,EAAK6K,MAAQ9F,EAAK/E,EAAK6K,MAAQ,KAE9ClI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,OARvC7K,EAAKiC,IAYU,UAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAEEuK,MAAOxK,EAAKnC,KACZwJ,KAAM,EAHR,SAKE,cAAC,KAAD,CACE1F,MACEoD,GAAQA,EAAK/E,EAAK6K,MAAQ9F,EAAK/E,EAAK6K,MAAQ,KAE9ClI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,OARvC7K,EAAKiC,SAHT,KAiBT,OAEJ,W,QC7yBDwM,I,OAAW,CACtB,CACEC,SAAQ,EACR7Q,KAAK,2BACL8Q,MAAM,2BACNC,MAAM,uCACN3M,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,mDACL8Q,MAAM,OACNE,MAAM,eACND,MAAM,GACNE,MAAM,GACN7M,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,kDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,gDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,iDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,iDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,yBACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,KAGM8M,GAAW,CACtB,CACEL,SAAQ,EACR7Q,KAAK,2BACL8Q,MAAM,2BACNC,MAAM,uCACN3M,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,mDACL8Q,MAAM,OACNE,MAAM,eACND,MAAM,GACNE,MAAM,GACN7M,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,sDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,sDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,wDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,IAGM+M,GAAkB,CAC7B,CACEN,SAAQ,EACR7Q,KAAK,2BACL8Q,MAAM,2BACNC,MAAM,uCACN3M,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,6CACL8Q,MAAM,OACNE,MAAM,eACND,MAAM,GACNE,MAAM,GACN7M,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,2BACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,2BACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,+BACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,8BACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,sDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,sDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,sDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,GAEL,CACEyM,SAAQ,EACR7Q,KAAK,uCACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,IAEL,CACEyM,SAAQ,EACR7Q,KAAK,mDACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,IAEL,CACEyM,SAAQ,EACR7Q,KAAK,6CACL8Q,MAAM,QACNE,MAAM,MACND,MAAM,QACNE,MAAM,MACNvO,SAAS,CAAC,CAAC1C,KAAK,iBAAO8D,MAAM,GAAG,CAAC9D,KAAK,+CAAY8D,MAAM,GAAG,CAAC9D,KAAK,qDAAa8D,MAAM,GAAG,CAAC9D,KAAK,iBAAO8D,MAAM,IAC1GM,GAAG,KCxNDgN,GAAQ,CACZ,CACEC,UAAW,MACXrR,KAAM,qBACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,2BACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,qBACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,qBACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,MACNsR,OAAQ,KACRC,SAAU,OAIRC,GAAQ,CACZ,CACEH,UAAW,QACXrR,KAAM,2BACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,QACXrR,KAAM,2BACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,QACXrR,KAAM,mCACNsR,OAAQ,KACRC,SAAU,OAIRE,GAAe,CACnB,CACEJ,UAAW,MACXrR,KAAM,MACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,MACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,OACXrR,KAAM,OACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,MACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,OACXrR,KAAM,8BACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,iCACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,UACXrR,KAAM,iCACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,KACXrR,KAAM,eACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,KACXrR,KAAM,2BACNsR,OAAQ,KACRC,SAAU,MAEZ,CACEF,UAAW,MACXrR,KAAM,qBACNsR,OAAQ,KACRC,SAAU,OAGDG,GAA+B,SAACnR,GAC3C,MAA0BK,qBAA1B,mBAAO6M,EAAP,KAAcC,EAAd,KACA,EAAkC9M,qBAAlC,mBAAO+Q,EAAP,KAAkBC,EAAlB,KACA,EAA0ChR,qBAA1C,mBAAOiR,EAAP,KAAsBC,EAAtB,KACA,EAAwBlR,mBAAc,IAAtC,mBAAOsG,EAAP,KAAa8D,EAAb,KACA,EAAkCpK,oBAAkB,GAApD,mBAAO+M,EAAP,KAAkBC,EAAlB,KACA,EAAkDhN,qBAAlD,mBAAOmN,EAAP,KAA0BC,EAA1B,KAGA3M,qBAAU,WACRyQ,EAAiBH,EAAYjM,IAAOiM,GAAWhM,OAAO,cAAgB,QACrE,CAACgM,IACJtQ,qBAAU,WAWR,OAVAqM,EAASnN,EAAMkN,OACXlN,EAAM0N,cACRC,EAAO3N,EAAMkN,OAEXlN,EAAM4N,iBACJ5N,EAAM4N,iBAAmBJ,GAAqBN,IAAUlN,EAAMkN,QAChEO,EAAqBzN,EAAM4N,gBAC3BC,EAAQ7N,EAAMkN,SAGX,WACLC,EAAS,GACTE,GAAa,MAEd,CAACrN,EAAMkN,MAAOlN,EAAM0N,aAAc1N,EAAM4N,iBAE3C,IAAMC,EAAU,SAACX,GACfpE,EAAQ0I,cAAc,CAAExD,iBAAkBhO,EAAM4N,iBAAkB1C,MAChE,SAAC/B,GACKA,EAAI9B,SACF8B,EAAIxC,MAAQwC,EAAIxC,KAAK8K,aACvBJ,EAAalI,EAAIxC,KAAK8K,aAGtBtI,EAAIxC,MACJwC,EAAIxC,KAAK+K,YACTrF,MAAMC,QAAQnD,EAAIxC,KAAK+K,aACvBvI,EAAIxC,KAAK+K,WAAWnF,OAEpB9B,EAAQtB,EAAIxC,KAAK+K,aAEjBL,EAAa,MACbM,MAGFvK,IAAQD,MAAMgC,EAAIhC,WAMpBwK,EAAkB,WACtB7I,EAAQ8I,6BAA6B,CACnC5D,iBAAkBhO,EAAM4N,iBACvB1C,MAAK,SAAC/B,GACHA,EAAI9B,SACF8B,EAAIxC,MAAQwC,EAAIxC,KAAK8K,aACvBJ,EAAalI,EAAIxC,KAAK8K,aAGtBtI,EAAIxC,MACJwC,EAAIxC,KAAK+K,YACTrF,MAAMC,QAAQnD,EAAIxC,KAAK+K,aACvBvI,EAAIxC,KAAK+K,WAAWnF,OAEpB9B,EAAQtB,EAAIxC,KAAK+K,aAEjBL,EAAa,MACC,IAAVnE,EACFzC,EAAQI,KAAKC,MAAMD,KAAKjE,UAAUiK,MACf,IAAV3D,EACTzC,EAAQI,KAAKC,MAAMD,KAAKjE,UAAUqK,MACf,IAAV/D,GACTzC,EAAQI,KAAKC,MAAMD,KAAKjE,UAAUsK,OAGtC9J,IAAQC,QAAQ,6BAEhBD,IAAQD,MAAMgC,EAAIhC,WAKlBwG,EAAS,SAACT,GACdpE,EAAQ+I,oBAAoB,CAC1B7D,iBAAkBhO,EAAM4N,eACxB8D,WAAY/K,EACZ8K,YAAaL,IACZlG,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,OAEpBnH,EAAM6O,iBAAgB,OAIpBC,EAAa,SAACrF,EAAUgD,EAAcsC,GAC1C,IAAMC,EAAK,aAAOrI,GACL,IAAToI,EACFC,EAAMvC,GAAMsE,OAAStH,EAAI6F,OAAO/L,MACd,IAATwL,IACTC,EAAMvC,GAAMuE,SAAWvH,EAAI6F,OAAO/L,OAEpCkH,EAAQuE,IAGV,OACE,sBAAKzN,UAAU,aAAf,UACE,wBACEO,QAAS,kBAAMuL,GAAa,IAC5BtL,MAAO,CACLC,gBAAiBoL,EAAY,UAAY,OACzC3K,MAAO2K,EAAY,GAAK,UACxBxI,aAAc,EACd2K,YAAa,GANjB,SASa,IAAVrC,EACG,qBACU,IAAVA,EACA,qBACU,IAAVA,EACA,uCACA,OAMN,wBACEpL,QAAS6P,EACT5P,MAAO,CACLmO,MAAO,QACPlO,gBAAiB,UACjBS,MAAO,QALX,sCAUC2K,EAAY,KACX,qBAAKrL,MAAO,CAAEC,gBAAiB,OAAQ8P,WAAY,IAAnD,SACa,IAAV5E,EACC,8BACGmD,IAAchE,MAAMC,QAAQ+D,KAAeA,GAAW9D,OACnD8D,GAAW1O,KAAI,SAACC,EAAMqK,GACpB,OAAIrK,EAAK0O,QAEL,eAAC,KAAD,CAAK/O,UAAU,MAAf,UACE,cAAC,KAAD,CAAKA,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAKnC,OAER,cAAC,KAAD,CAAK8B,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAK2O,QAER,cAAC,KAAD,CAAKhP,UAAU,UAAU0H,KAAM,GAA/B,SACGrH,EAAK4O,UARgB5O,EAAKiC,IAc/B,eAAC,KAAD,CAAKtC,UAAU,MAAf,UACE,cAAC,KAAD,CAAKA,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAKnC,OAER,cAAC,KAAD,CAAK8B,UAAU,UAAU0H,KAAM,EAA/B,SACkB,SAAfrH,EAAK2O,MACJ,cAAC,IAAD,CACEd,YAAY,EACZlM,MACE+N,EAAgBnM,IAAOmM,GAAiB,KAE1C/M,SAAU,SAACiL,EAAME,GAAP,OACR2B,EAAa3B,MAGA,UAAf9N,EAAK2O,MACP,cAAC,KAAMZ,MAAP,CACEpM,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG+E,SAChB,KAENzM,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAQ,EAAG,IAP7B,SAUGrK,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,EAAO5D,GACxB,OACE,cAAC,KAAD,CAAmB1I,MAAOsM,EAAMtM,MAAhC,SACGsM,EAAMpQ,MADGwM,MAKhB,OAEW,UAAfrK,EAAK2O,MACP,cAAC,KAAD,CACExO,MAAO,CAAEO,MAAO,OAChBiB,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG8E,OAChB,KAENxM,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAQ,EAAG,MAG7B,OAEN,cAAC,KAAD,CAAK1K,UAAU,UAAU0H,KAAM,GAA/B,SACkB,SAAfrH,EAAK4O,MACJ,cAAC,IAAD,CACEf,YAAY,EACZlM,MACE+N,EAAgBnM,IAAOmM,GAAiB,KAE1C/M,SAAU,SAACiL,EAAME,GAAP,OACR2B,EAAa3B,MAGA,UAAf9N,EAAK4O,MACP,cAAC,KAAMb,MAAP,CACEpM,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG+E,SAChB,KAENzM,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAQ,EAAG,IAP7B,SAUGrK,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,EAAO5D,GACxB,OACE,cAAC,KAAD,CAAmB1I,MAAOsM,EAAMtM,MAAhC,SACGsM,EAAMpQ,MADGwM,MAKhB,OAEJ,SAtFkBrK,EAAKiC,OA4FrC,OAEM,IAAVqJ,EACF,8BACGyD,IAActE,MAAMC,QAAQqE,KAAeA,GAAWpE,OACnDoE,GAAWhP,KAAI,SAACC,EAAMqK,GACpB,OAAIrK,EAAK0O,QAEL,eAAC,KAAD,CAAK/O,UAAU,MAAf,UACE,cAAC,KAAD,CAAKA,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAKnC,OAER,cAAC,KAAD,CAAK8B,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAK2O,QAER,cAAC,KAAD,CAAKhP,UAAU,UAAU0H,KAAM,GAA/B,SACGrH,EAAK4O,UARgB5O,EAAKiC,IAc/B,eAAC,KAAD,CAAKtC,UAAU,MAAf,UACE,cAAC,KAAD,CAAKA,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAKnC,OAER,cAAC,KAAD,CAAK8B,UAAU,UAAU0H,KAAM,EAA/B,SACkB,SAAfrH,EAAK2O,MACJ,cAAC,IAAD,CACEd,YAAY,EACZlM,MACE+N,EAAgBnM,IAAOmM,GAAiB,KAE1C/M,SAAU,SAACiL,EAAME,GAAP,OACR2B,EAAa3B,MAGA,UAAf9N,EAAK2O,MACP,cAAC,KAAMZ,MAAP,CACEpM,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG+E,SAChB,KAENzM,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAQ,EAAG,IAP7B,SAUGrK,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,EAAO5D,GACxB,OACE,cAAC,KAAD,CAAmB1I,MAAOsM,EAAMtM,MAAhC,SACGsM,EAAMpQ,MADGwM,MAKhB,OAEW,UAAfrK,EAAK2O,MACP,cAAC,KAAD,CACExO,MAAO,CAAEO,MAAO,OAChBiB,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG8E,OAChB,KAENxM,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAQ,EAAG,MAG7B,OAEN,cAAC,KAAD,CAAK1K,UAAU,UAAU0H,KAAM,GAA/B,SACkB,SAAfrH,EAAK4O,MACJ,cAAC,IAAD,CACEf,YAAY,EACZlM,MACE+N,EAAgBnM,IAAOmM,GAAiB,KAE1C/M,SAAU,SAACiL,EAAME,GAAP,OACR2B,EAAa3B,MAGA,UAAf9N,EAAK4O,MACP,cAAC,KAAMb,MAAP,CACEpM,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG+E,SAChB,KAENzM,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAQ,EAAG,IAP7B,SAUGrK,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,EAAO5D,GACxB,OACE,cAAC,KAAD,CAAmB1I,MAAOsM,EAAMtM,MAAhC,SACGsM,EAAMpQ,MADGwM,MAKhB,OAEJ,SAtFkBrK,EAAKiC,OA4FrC,OAEM,IAAVqJ,EACF,8BACG0D,IACDvE,MAAMC,QAAQsE,KACdA,GAAkBrE,OACdqE,GAAkBjP,KAAI,SAACC,EAAMqK,GAC3B,OAAIrK,EAAK0O,QAEL,eAAC,KAAD,CAAK/O,UAAU,MAAf,UACE,cAAC,KAAD,CAAKA,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAKnC,OAER,cAAC,KAAD,CAAK8B,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAK2O,QAER,cAAC,KAAD,CAAKhP,UAAU,UAAU0H,KAAM,GAA/B,SACGrH,EAAK4O,UARgB5O,EAAKiC,IAc/B,eAAC,KAAD,CAAKtC,UAAU,MAAf,UACE,cAAC,KAAD,CAAKA,UAAU,UAAU0H,KAAM,EAA/B,SACGrH,EAAKnC,OAER,cAAC,KAAD,CAAK8B,UAAU,UAAU0H,KAAM,EAA/B,SACkB,SAAfrH,EAAK2O,MACJ,cAAC,IAAD,CACEd,YAAY,EACZlM,MACE+N,EAAgBnM,IAAOmM,GAAiB,KAE1C/M,SAAU,SAACiL,EAAME,GAAP,OACR2B,EAAa3B,MAGA,UAAf9N,EAAK2O,MACP,cAAC,KAAMZ,MAAP,CACEpM,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG+E,SAChB,KAENzM,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAQ,EAAG,IAP7B,SAUGrK,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,EAAO5D,GACxB,OACE,cAAC,KAAD,CAAmB1I,MAAOsM,EAAMtM,MAAhC,SACGsM,EAAMpQ,MADGwM,MAKhB,OAEW,UAAfrK,EAAK2O,MACP,cAAC,KAAD,CACExO,MAAO,CAAEO,MAAO,OAChBiB,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG8E,OAChB,KAENxM,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAQ,EAAG,MAG7B,OAEN,cAAC,KAAD,CAAK1K,UAAU,UAAU0H,KAAM,GAA/B,SACkB,SAAfrH,EAAK4O,MACJ,cAAC,IAAD,CACEf,YAAY,EACZlM,MACE+N,EAAgBnM,IAAOmM,GAAiB,KAE1C/M,SAAU,SAACiL,EAAME,GAAP,OACR2B,EAAa3B,MAGA,UAAf9N,EAAK4O,MACP,cAAC,KAAMb,MAAP,CACEpM,MACEoD,GAAQA,EAAKsF,EAAQ,GACjBtF,EAAKsF,EAAQ,GAAG+E,SAChB,KAENzM,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAQ,EAAG,IAP7B,SAUGrK,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,EAAO5D,GACxB,OACE,cAAC,KAAD,CAAmB1I,MAAOsM,EAAMtM,MAAhC,SACGsM,EAAMpQ,MADGwM,MAKhB,OAEJ,SAtFkBrK,EAAKiC,OA4FrC,OAEJ,W,SCtlBNlB,I,OAAWC,IAAXD,QAEFoP,GAAY,CAChB,CAAEC,YAAa,GACf,CAAEA,YAAa,GACf,CAAEA,YAAa,GACf,CAAEA,YAAa,GACf,CAAEA,YAAa,IAGXC,GAAU,CAAC,GAAI,GAAI,GAAI,GAAI,IAC3BC,GAAmB,CAAC,GAAI,IAEjBC,GAAmC,SAACnS,GAC/C,MAA0BK,qBAA1B,mBAAO6M,EAAP,KAAcC,EAAd,KACA,EAAkC9M,oBAAkB,GAApD,mBAAO+M,EAAP,KAAkBC,EAAlB,KACA,EAAoChN,qBAApC,mBAAO0D,EAAP,KAAmBqO,EAAnB,KACA,EAAsC/R,qBAAtC,mBAAOgS,EAAP,KAAoBC,EAApB,KACA,EAAsCjS,mBAAc,CAAC,GAAI,GAAI,GAAI,GAAI,KAArE,mBAAOkS,EAAP,KAAoBC,EAApB,KACA,EAAwCnS,qBAAxC,mBAAOoS,EAAP,KAAqBC,EAArB,KACA,EAAoCrS,qBAApC,mBAAOyL,EAAP,KAAmB6G,EAAnB,KACA,EAAkDtS,qBAAlD,mBAAOmN,EAAP,KAA0BC,EAA1B,KACA3M,qBAAU,WAYR,OAXAqM,EAASnN,EAAMkN,OACXlN,EAAM0N,cACRC,EAAO3N,EAAMkN,OAEXlN,EAAM4N,iBACJ5N,EAAM4N,iBAAmBJ,GAAqBN,IAAUlN,EAAMkN,QAChEO,EAAqBzN,EAAM4N,gBAC3BC,EAAQ7N,EAAMkN,OACdY,MAGG,WACLX,EAAS,GACTE,GAAa,MAEd,CAACrN,EAAMkN,MAAOlN,EAAM0N,aAAc1N,EAAM4N,iBAC3C9M,qBAAU,WACS,IAAduR,GAECD,EADS,IAARlF,GAAqB,IAARA,EACArC,KAAKC,MAAMD,KAAKjE,UAAUmL,KAE1BlH,KAAKC,MAAMD,KAAKjE,UAAUqL,MAG1B,IAAfQ,GACDD,EAAe3H,KAAKC,MAAMD,KAAKjE,UAAUsL,QAE3C,CAACG,EAAYI,IAEf,IAAM5E,EAAU,SAACX,GACf,OAAQA,GACN,KAAK,EACHpE,EAAQ8J,WAAW,CAAE5E,iBAAkBhO,EAAM4N,iBAAkB1C,MAC7D,SAAC/B,GACC,GAAIA,EAAI9B,QACN,GAAI8B,EAAIxC,KAAM,CAGZ,GAFA2L,EAAenJ,EAAIxC,KAAKkM,sBACxBH,EAAgBvJ,EAAIxC,KAAKmM,4BAEvB3J,EAAIxC,KAAKoM,yBACT1G,MAAMC,QAAQnD,EAAIxC,KAAKoM,0BACvB5J,EAAIxC,KAAKoM,wBAAwBxG,OAEjC,GAAIpD,EAAIxC,KAAKoM,wBAAwBxG,QAAU,EAC7C6F,EAAcjJ,EAAIxC,KAAKoM,6BAClB,CACL,IAAI/D,EAAa,GACjBnE,KAAKC,MAAMD,KAAKjE,UAAUqL,KAAUtQ,KAAI,SAACC,EAAWqK,GAC9C9C,EAAIxC,KAAKoM,wBAAwB9G,GACnC+C,EAAMgE,KAAK7J,EAAIxC,KAAKoM,wBAAwB9G,IAE5C+C,EAAMgE,KAAKpR,MAGfwQ,EAAcpD,QAGhBoD,EAAcvH,KAAKC,MAAMD,KAAKjE,UAAUqL,MAE1C,GACE9I,EAAIxC,KAAKsM,8BACT5G,MAAMC,QAAQnD,EAAIxC,KAAKsM,+BACvB9J,EAAIxC,KAAKsM,6BAA6B1G,OAEtC,GAAIpD,EAAIxC,KAAKsM,6BAA6B1G,QAAU,EAClDiG,EAAerJ,EAAIxC,KAAKsM,kCACnB,CACL,IAAIjE,EAAa,GACjBnE,KAAKC,MAAMD,KAAKjE,UAAUsL,KAAmBvQ,KAAI,SAACC,EAAWqK,GACvD9C,EAAIxC,KAAKsM,6BAA6BhH,GACxC+C,EAAMgE,KACJ7J,EAAIxC,KAAKsM,6BAA6BhH,IAGxC+C,EAAMgE,KAAKpR,MAGf4Q,EAAexD,QAGjBwD,EAAe3H,KAAKC,MAAMD,KAAKjE,UAAUsL,WAG3CE,EAAcvH,KAAKC,MAAMD,KAAKjE,UAAUqL,MACxCO,EAAe3H,KAAKC,MAAMD,KAAKjE,UAAUsL,MACzCI,EAAe,GACfI,EAAgB,QAGlBtL,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH2B,EAAQoK,aAAa,CAAElF,iBAAkBhO,EAAM4N,iBAAkB1C,MAC/D,SAAC/B,GACC,GAAIA,EAAI9B,QACN,GAAI8B,EAAIxC,KAEN,GADA2L,EAAenJ,EAAIxC,KAAKwM,aAEtBhK,EAAIxC,KAAKyM,0BACT/G,MAAMC,QAAQnD,EAAIxC,KAAKyM,2BACvBjK,EAAIxC,KAAKyM,yBAAyB7G,OAElC,GAAIpD,EAAIxC,KAAKyM,yBAAyB7G,QAAU,EAC9C6F,EAAcjJ,EAAIxC,KAAKyM,8BAClB,CACL,IAAIpE,EAAa,GACjBnE,KAAKC,MAAMD,KAAKjE,UAAUmL,KAAYpQ,KAAI,SAACC,EAAWqK,GAChD9C,EAAIxC,KAAKyM,yBAAyBnH,GACpC+C,EAAMgE,KAAK7J,EAAIxC,KAAKyM,yBAAyBnH,IAE7C+C,EAAMgE,KAAKpR,MAGfwQ,EAAcpD,QAGhBoD,EAAcvH,KAAKC,MAAMD,KAAKjE,UAAUmL,WAG1CK,EAAcvH,KAAKC,MAAMD,KAAKjE,UAAUmL,MACxCO,EAAe,QAGjBlL,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH2B,EAAQuK,cAAc,CAAErF,iBAAkBhO,EAAM4N,iBAAkB1C,MAChE,SAAC/B,GACC,GAAIA,EAAI9B,QACN,GAAI8B,EAAIxC,KAEN,GADA2L,EAAenJ,EAAIxC,KAAK2M,QAEtBnK,EAAIxC,KAAK4M,2BACTlH,MAAMC,QAAQnD,EAAIxC,KAAK4M,4BACvBpK,EAAIxC,KAAK4M,0BAA0BhH,OAEnC,GAAIpD,EAAIxC,KAAK4M,0BAA0BhH,QAAU,EAC/C6F,EAAcjJ,EAAIxC,KAAK4M,+BAClB,CACL,IAAIvE,EAAa,GACjBnE,KAAKC,MAAMD,KAAKjE,UAAUmL,KAAYpQ,KAAI,SAACC,EAAWqK,GAChD9C,EAAIxC,KAAK4M,0BAA0BtH,GACrC+C,EAAMgE,KAAK7J,EAAIxC,KAAK4M,0BAA0BtH,IAE9C+C,EAAMgE,KAAKpR,MAGfwQ,EAAcpD,QAGhBoD,EAAcvH,KAAKC,MAAMD,KAAKjE,UAAUmL,WAG1CK,EAAcvH,KAAKC,MAAMD,KAAKjE,UAAUmL,MACxCO,EAAe,QAGjBlL,IAAQD,MAAMgC,EAAIhC,YAQxB2G,EAAQ,WACZhF,EAAQuF,YAAY,IAAInD,MAAK,SAAC/B,GACxBA,EAAI9B,QACF8B,EAAIxC,MACNgM,EAAcxJ,EAAIxC,MAGpBS,IAAQD,MAAMgC,EAAIhC,WAKlBwG,EAAS,SAACT,GACd,IAAI8B,EAAa,GACjBjL,EAAWpC,KAAI,SAACC,GACd,GAAc,IAAVsL,EAAa,CACf,IAAIsG,OAAO/G,KAAK7K,GAAM2K,OAGpB,OAAO,EAFPyC,EAAMgE,KAAKpR,OAIR,CACL,IAAI4R,OAAO/G,KAAK7K,GAAM2K,QAAuC,IAA7BiH,OAAO/G,KAAK7K,GAAM2K,OAGhD,OAAO,EAFPyC,EAAMgE,KAAKpR,OAMjB,IAAI6R,EAAc,GAQlB,OAPAlB,EAAY5Q,KAAI,SAACC,GACf,IAAI4R,OAAO/G,KAAK7K,GAAM2K,OAGpB,OAAO,EAFPkH,EAAOT,KAAKpR,MAKRsL,GACN,KAAK,EACH,IAAIwG,GAAY,EA0ChB,GAzCA1E,EAAMrN,KAAI,SAACC,EAAWqK,GACpB,OAAIuH,OAAO/G,KAAK7K,GAAM2K,OAAS,GAC7BmH,GAAY,GACL,GAC+B,IAA7BF,OAAO/G,KAAK7K,GAAM2K,SAC3BiH,OAAO/G,KAAK7K,GAAMD,KAAI,SAACkO,GACrB,OAAIb,EAAM/C,GAAO4D,IAGL,kBAAVA,GACwB,IAAxBb,EAAM/C,GAAO4D,KAIb6D,GAAY,IAPL,MAWJ,MAKXD,EAAO9R,KAAI,SAACC,EAAWqK,GACrB,OAAIuH,OAAO/G,KAAK7K,GAAM2K,OAAS,GAC7BmH,GAAY,GACL,GAC+B,IAA7BF,OAAO/G,KAAK7K,GAAM2K,SAC3BiH,OAAO/G,KAAK7K,GAAMD,KAAI,SAACkO,GACrB,OAAI4D,EAAOxH,GAAO4D,IAAmC,IAAzB4D,EAAOxH,GAAO4D,KAGxC6D,GAAY,IAFL,MAMJ,MAKPA,EAEF,OADAtM,IAAQuM,QAAQ,kCACT3T,EAAM6O,iBAAgB,GAE7B/F,EAAQ8K,iBAAiB,CACvB3B,QAASjD,EACT6E,UAAWJ,EACXzF,iBAAkBhO,EAAM4N,eACxBiF,qBAAsBR,EACtBS,2BAA4BL,IAC3BvH,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH,IAAI2M,GAAY,EAqBhB,GApBA9E,EAAMrN,KAAI,SAACC,EAAWqK,GACpB,OAAIuH,OAAO/G,KAAK7K,GAAM2K,OAAS,GAC7BuH,GAAY,GACL,GAC+B,IAA7BN,OAAO/G,KAAK7K,GAAM2K,SAC3BiH,OAAO/G,KAAK7K,GAAMD,KAAI,SAACkO,GACrB,OAAIb,EAAM/C,GAAO4D,IAEI,gBAAVA,IAGTiE,GAAY,IAJL,MAQJ,MAKPA,EAEF,OADA1M,IAAQuM,QAAQ,kCACT3T,EAAM6O,iBAAgB,GAE7B/F,EAAQiL,mBAAmB,CACzBvE,KAAMR,EACNhB,iBAAkBhO,EAAM4N,eACxBuF,YAAad,IACZnH,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAIxB,MACF,KAAK,EACH,IAAI6M,GAAY,EAiChB,GAhCAhF,EAAMrN,KAAI,SAACC,EAAWqK,GACpB,OAAIuH,OAAO/G,KAAK7K,GAAM2K,OAAS,GAC7ByH,GAAY,GACL,GAC+B,IAA7BR,OAAO/G,KAAK7K,GAAM2K,SAC3BiH,OAAO/G,KAAK7K,GAAMD,KAAI,SAACkO,GAarB,MAZc,YAAVA,GAEA/D,EAAWmI,iBACXnI,EAAWmI,gBAAgB7I,MACzB,SAAC8I,GAAD,OAAgBA,EAAMzU,OAASmC,EAAKiO,QAGtCjO,EAAKuS,WAAarI,EAAWmI,gBAAgB7I,MAC3C,SAAC8I,GAAD,OAAgBA,EAAMzU,OAASmC,EAAKiO,MACpChM,IAGFmL,EAAM/C,GAAO4D,IAEI,gBAAVA,IAGTmE,GAAY,IAJL,MAQJ,MAKPA,EAEF,OADA5M,IAAQuM,QAAQ,kCACT3T,EAAM6O,iBAAgB,GAE7B/F,EAAQsL,oBAAoB,CAC1BC,SAAUrF,EACVhB,iBAAkBhO,EAAM4N,eACxB0F,OAAQjB,IACPnH,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,UAM5BnH,EAAM6O,iBAAgB,IAGlBC,EAAa,SAACrF,EAAUwC,EAAeQ,EAAcsC,GACzD,IAAMC,EAAU,aAAOjL,GACV,IAATgL,EACFC,EAAM/C,GAAOQ,GAAQhD,EACH,IAATsF,EAEPC,EAAM/C,GAAOQ,GADF,gBAATA,EACmBhD,EAAI6F,OAAOgF,QAAU,EAAI,EAEzB7K,EAAI6F,OAAO/L,MAEhB,IAATwL,IACTC,EAAM/C,GAAOQ,GAAQtH,IAAOsE,GAAKrE,OAAO,eAE1CgN,EAAcpD,IAGVuF,EAAc,SAAC9K,EAAUwC,EAAeQ,EAAcsC,GAC1D,IAAMC,EAAU,aAAOuD,GACV,IAATxD,EACFC,EAAM/C,GAAOQ,GAAQhD,EACH,IAATsF,EAEPC,EAAM/C,GAAOQ,GADF,gBAATA,EACmBhD,EAAI6F,OAAOgF,QAAU,EAAI,EAEzB7K,EAAI6F,OAAO/L,MAEhB,IAATwL,IACTC,EAAM/C,GAAOQ,GAAQtH,IAAOsE,GAAKrE,OAAO,eAE1CoN,EAAexD,IAGXwF,EAAc,SAAC7N,EAAW8D,EAAmBwB,GACjD,IAAM+C,EAAK,aAAOrI,GAClBqI,EAAMyF,OAAOxI,EAAQ,EAAG,EAAa,IAAViB,EAAc,GAAK,CAAC8E,YAAa,IAC5DvH,EAAQuE,IAGJ0F,EAAc,SAAC/N,EAAW8D,EAAmBwB,GACjD,GAAGtF,IAAO4L,GACR,GAAG5L,EAAK4F,QAAQ,EAEd,YADAnF,IAAQuM,QAAQ,uFAIlB,GAAGhN,EAAK4F,QAAQ,EAEd,YADAnF,IAAQuM,QAAQ,kFAIpB,IAAM3E,EAAK,aAAOrI,GAClBqI,EAAMyF,OAAOxI,EAAO,GACpBxB,EAAQuE,IAIJlL,EAAe,CACnB,CACExC,MAAO,qBACPe,UAAW,iBACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,IAAD,CACElK,MAAO,CAAEO,MAAO,QAChBe,YAAY,uCACZE,MAAOkG,EACPlF,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAO,iBAAkB,IAL7C,SAQGH,GACDA,EAAW6I,kBACXtI,MAAMC,QAAQR,EAAW6I,mBACzB7I,EAAW6I,iBAAiBpI,OACxBT,EAAW6I,iBAAiBhT,KAAI,SAACC,GAC/B,OACE,cAAC,GAAD,CAAsB2B,MAAO3B,EAAKnC,KAAlC,SACGmC,EAAKnC,MADKmC,EAAKiC,OAKtB,SAIV,CACEvC,MAAO,2DACPe,UAAW,aACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,aAAc,IAErC5I,YAAY,6CACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,2DACPe,UAAW,WACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,WAAY,IAEnC5I,YAAY,6CACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,sDACPe,UAAW,gBACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,eAAC,KAAM0D,MAAP,CACEpM,MAAOkG,EACPlF,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAO,gBAAiB,IAH5C,UAME,cAAC,KAAD,CAAO1I,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,yBAIN,CACEjC,MAAO,eACPe,UAAW,UACXC,MAAO,IACPC,OAAQ,SAACkH,EAAa7F,EAAaqI,GAA3B,OACN,gCACE,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,WAEnBF,QAAS,kBAAM0S,EAAYzQ,EAAYqO,EAAenG,IATxD,0BAaA,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,UACjBwB,WAAY,IAEd1B,QAAS,kBAAM4S,EAAY3Q,EAAYqO,EAAenG,IAVxD,gCAmBF2I,EAAgB,CACpB,CACEtT,MAAO,yDACPe,UAAW,iBACXE,OAAQ,SAACkH,EAAa7F,EAAaqI,GACjC,OACE,cAAC,KAAD,CACE1I,MAAOkG,GAAY,GACnBlF,SAAU,SAACqL,GACT2E,EAAY3E,EAAG3D,EAAO,iBAAkB,IAE1C5I,YAAY,yDACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,gEACPe,UAAW,iBACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACT2E,EAAY3E,EAAG3D,EAAO,iBAAkB,IAE1C5I,YAAY,qEACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,eACPe,UAAW,UACXC,MAAO,IACPC,OAAQ,SAACkH,EAAa7F,EAAaqI,GAA3B,OACN,gCACE,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,WAEnBF,QAAS,kBAAM0S,EAAYjC,EAAaC,EAAgBvG,IAT1D,0BAaA,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,UACjBwB,WAAY,IAEd1B,QAAS,kBAAM4S,EAAYnC,EAAaC,EAAgBvG,IAV1D,gCAmBF4I,EAAgB,CACpB,CACEvT,MAAO,eACPe,UAAW,UACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,IAAD,CACElK,MAAO,CAAEO,MAAO,QAChBiB,MAAOkG,EACPpG,YAAY,6CACZkB,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAO,UAAW,IALtC,SAQGH,GACDA,EAAWmI,iBACX5H,MAAMC,QAAQR,EAAWmI,kBACzBnI,EAAWmI,gBAAgB1H,OACvBT,EAAWmI,gBAAgBtS,KAAI,SAACC,GAC9B,OACE,cAAC,GAAD,CAAsB2B,MAAO3B,EAAKnC,KAAlC,SACGmC,EAAKnC,MADKmC,EAAKiC,OAKtB,SAIV,CACEvC,MAAO,2BACPe,UAAW,SACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,KAAD,CACE5I,YAAY,6CACZE,MAAOkG,EACPlF,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,SAAU,QAKvC,CACE3K,MAAO,2DACPe,UAAW,aACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,aAAc,IAErC5I,YAAY,6CACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,2DACPe,UAAW,WACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,WAAY,IAEnC5I,YAAY,6CACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,2BACPe,UAAW,cACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,KAAD,CACEqI,UAAS7K,EACTlF,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,cAAe,QAK5C,CACE3K,MAAO,eACPe,UAAW,UACXC,MAAO,IACPC,OAAQ,SAACkH,EAAa7F,EAAaqI,GAA3B,OACN,gCACE,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,WAEnBF,QAAS,kBAAM0S,EAAYzQ,EAAYqO,EAAenG,IATxD,0BAaA,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,UACjBwB,WAAY,IAEd1B,QAAS,kBAAM4S,EAAY3Q,EAAYqO,EAAenG,IAVxD,gCAmBF6I,EAAgB,CACpB,CACExT,MAAO,qBACPe,UAAW,UACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,IAAD,CACElK,MAAO,CAAEO,MAAO,QAChBe,YAAY,6CACZE,MAAOkG,EACPlF,SAAU,SAACkF,GACTqF,EAAWrF,EAAKwC,EAAO,UAAW,IALtC,SAQGH,GACDA,EAAWmI,iBACX5H,MAAMC,QAAQR,EAAWmI,kBACzBnI,EAAWmI,gBAAgB1H,OACvBT,EAAWmI,gBAAgBtS,KAAI,SAACC,GAC9B,OACE,cAAC,GAAD,CAAsB2B,MAAO3B,EAAKnC,KAAlC,SACGmC,EAAKnC,MADKmC,EAAKiC,OAKtB,SAIV,CACEvC,MAAO,2BACPe,UAAW,kBACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,KAAD,CACE5I,YAAY,6CACZE,MAAOkG,EACPlF,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,kBAAmB,QAKhD,CACE3K,MAAO,2BACPe,UAAW,SACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,KAAD,CACE5I,YAAY,6CACZE,MAAOkG,EACPlF,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,SAAU,QAKvC,CACE3K,MAAO,2DACPe,UAAW,aACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,aAAc,IAErC5I,YAAY,6CACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,2DACPe,UAAW,WACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAC1C,IAAIuD,EAAY/F,EAAMtE,IAAOsE,GAAKrE,OAAO,cAAgB,KACzD,OACE,cAAC,IAAD,CACEqK,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,WAAY,IAEnC5I,YAAY,6CACZtB,MAAO,CAAEO,MAAO,YAKxB,CACEhB,MAAO,2BACPe,UAAW,cACXE,OAAQ,SAACkH,EAAsB7F,EAAaqI,GAApC,OACN,cAAC,KAAD,CACEqI,UAAS7K,EACTlF,SAAU,SAACqL,GACTd,EAAWc,EAAG3D,EAAO,cAAe,QAK5C,CACE3K,MAAO,eACPe,UAAW,UACXC,MAAO,IACPC,OAAQ,SAACkH,EAAa7F,EAAaqI,GAA3B,OACN,gCACE,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,WAEnBF,QAAS,kBAAM0S,EAAYzQ,EAAYqO,EAAenG,IATxD,0BAaA,wBACElK,MAAO,CACLO,MAAO,GACPzB,OAAQ,GACRsL,UAAW,SACXpH,OAAQ,OACRtC,MAAO,OACPT,gBAAiB,UACjBwB,WAAY,IAEd1B,QAAS,kBAAM4S,EAAY3Q,EAAYqO,EAAenG,IAVxD,gCAmBR,OACE,sBAAK1K,UAAU,iBAAf,UACE,wBACEO,QAAS,kBAAMuL,GAAa,IAC5BtL,MAAO,CACLC,gBAAiBoL,EAAY,UAAY,OACzC3K,MAAO2K,EAAY,GAAK,UACxBxI,aAAc,EACd2K,YAAa,GANjB,SASa,IAAVrC,EACG,qBACU,IAAVA,EACA,qBACU,IAAVA,EACA,qBACA,OAMLE,EAAY,KACX,qBAAKrL,MAAO,CAAE8C,QAAS,GAAI7C,gBAAiB,QAA5C,SACa,IAAVkL,EACC,gCACE,sBAAK3L,UAAU,SAAf,UACE,wBADF,oCAIA,sBAAKA,UAAU,OAAf,6DAEE,eAAC,KAAMoO,MAAP,CAAapM,MACT8O,IAEoB,IAAhBA,EACAA,EACA,MAEN9N,SAAU,SAACqL,GACT0C,EAAe1C,EAAEN,OAAO/L,QAR5B,UAUE,cAAC,KAAD,CAAOA,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,0BAGJ,cAAC,IAAD,CACExB,MAAO,CAAEgT,QAAS1C,EAAc,GAAK,QACrCtO,WAAYA,EACZD,QAASA,EACTJ,UAAQ,EACRO,YAAY,IAEd,sBAAK1C,UAAU,SAAf,UACE,wBADF,wBAIA,sBAAKA,UAAU,OAAf,2FAEE,eAAC,KAAMoO,MAAP,CAAapM,MACTkP,IAEqB,IAAjBA,EACAA,EACA,MAENlO,SAAU,SAACqL,GACT8C,EAAgB9C,EAAEN,OAAO/L,QAR7B,UAUE,cAAC,KAAD,CAAOA,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,0BAGJ,cAAC,IAAD,CACExB,MAAO,CAAEgT,QAAStC,EAAe,GAAK,QACtC1O,WAAYwO,EACZzO,QAAS8Q,EACTlR,UAAQ,EACRO,YAAY,OAGJ,IAAViJ,EACF,gCACE,sBAAK3L,UAAU,OAAf,yFAEE,eAAC,KAAMoO,MAAP,CACEpM,MACE8O,IAEoB,IAAhBA,EACAA,EACA,MAEN9N,SAAU,SAACqL,GACT0C,EAAe1C,EAAEN,OAAO/L,QAT5B,UAYE,cAAC,KAAD,CAAOA,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,0BAGJ,cAAC,IAAD,CACExB,MAAO,CAAEgT,QAAS1C,EAAc,GAAK,QACrCtO,WAAYA,EACZD,QAAS+Q,EACTnR,UAAQ,EACRO,YAAY,OAGJ,IAAViJ,EACF,gCACE,sBAAK3L,UAAU,OAAf,oJAEE,eAAC,KAAMoO,MAAP,CAAapM,MACT8O,IAEoB,IAAhBA,EACAA,EACA,MAEN9N,SAAU,SAACqL,GACT0C,EAAe1C,EAAEN,OAAO/L,QAR5B,UAUE,cAAC,KAAD,CAAOA,MAAO,EAAd,oBACA,cAAC,KAAD,CAAOA,MAAO,EAAd,0BAGJ,cAAC,IAAD,CACExB,MAAO,CAAEgT,QAAS1C,EAAc,GAAK,QACrCtO,WAAYA,EACZD,QAASgR,EACTpR,UAAQ,EACRO,YAAY,OAGd,WCxiCD+Q,I,OAAU,CACrB,CACEvV,KAAK,yDACLgN,KAAK,qBACL5I,GAAG,EACH6I,MAAM,QAER,CACEjN,KAAK,iCACLgN,KAAK,YACL5I,GAAG,EACH6I,MAAM,QACNvK,SAAS,CACP,CACE1C,KAAK,+FACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,sJACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,qDACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,uEACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,iBACLoE,GAAG,EACHN,MAAM,GAER,CACE9D,KAAK,8EACLoE,GAAG,EACHN,MAAM,EACNmJ,MAAM,WACNvK,SAAS,CACPsK,KAAK,qBCtCPM,GAAaC,KAAbD,SAQKkI,GAAmC,SAACjV,GAC/C,MAAkCK,oBAAkB,GAApD,mBAAO+M,EAAP,KAAkBC,EAAlB,KACA,EAAwBhN,mBAAc,IAAtC,mBAAOsG,EAAP,KAAa8D,EAAb,KACA,EAAkDpK,qBAAlD,mBAAOmN,EAAP,KAA0BC,EAA1B,KAGA3M,qBAAU,WAUR,OATId,EAAM0N,cACRC,IAEE3N,EAAM4N,gBACJ5N,EAAM4N,iBAAmBJ,IAC3BC,EAAqBzN,EAAM4N,gBAC3BC,KAGG,WACLR,GAAa,MAEd,CAACrN,EAAM0N,aAAc1N,EAAM4N,iBAE9B,IAAMC,EAAU,WACd/E,EAAQoM,QAAQ,CAAElH,iBAAkBhO,EAAM4N,iBAAkB1C,MAAK,SAAC/B,GAC5DA,EAAI9B,QACF8B,EAAIxC,KACN8D,EAAQtB,EAAIxC,MAEZ8D,EAAQ,IAGVrD,IAAQD,MAAMgC,EAAIhC,WAKlBwG,EAAS,WACb7E,EAAQqM,cAAR,aACEnH,iBAAkBhO,EAAM4N,gBACrBjH,IACFuE,MAAK,SAAC/B,GACHA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpBnH,EAAMwO,kBAENpH,IAAQD,MAAMgC,EAAIhC,OAEpBnH,EAAM6O,iBAAgB,OAIpBC,EAAa,SAACrF,EAAUgD,EAAcsC,GAC1C,IAAMC,EAAU,eAAQrI,GACX,IAAToI,EACFC,EAAMvC,GAAQhD,EACI,IAATsF,EACTC,EAAMvC,GAAQhD,EAAI6F,OAAO/L,MACP,IAATwL,IACTC,EAAMvC,GAAQtH,IAAOsE,GAAKrE,OAAO,eAGnCqF,EAAQuE,IAGV,OACE,sBAAKzN,UAAU,iBAAf,UACE,wBACEO,QAAS,kBAAMuL,GAAa,IAC5BtL,MAAO,CACLC,gBAAiBoL,EAAY,UAAY,OACzC3K,MAAO2K,EAAY,OAAS,UAC5BxI,aAAc,EACd2K,YAAa,GANjB,sCAeCnC,EAAY,KACX,cAAC,IAAD,CACElB,WAAY,CAAE5J,MAAO,OACrBoB,UAAQ,EACR3B,MAAO,CAAEC,gBAAiB,QAH5B,SAKGgT,IAAa3I,MAAMC,QAAQ0I,KAAcA,GAAUzI,OAChDyI,GAAUrT,KAAI,SAACC,GACb,GAAmB,SAAfA,EAAK8K,MAAkB,CACzB,IAAI8C,EACF7I,GAAQA,EAAK/E,EAAK6K,MACdtH,IAAOwB,EAAK/E,EAAK6K,OAAOrH,OAAO,cAC/B,KACN,OACE,cAAC,IAAavD,KAAd,CAAiCuK,MAAOxK,EAAKnC,KAAMwJ,KAAM,EAAzD,SACE,cAAC,IAAD,CACEwG,YAAY,EACZlM,MAAOiM,EAAOrK,IAAOqK,GAAQ,KAC7BjL,SAAU,SAACiL,EAAME,GAAP,OACRZ,EAAWY,EAAY9N,EAAK6K,KAAM,OALhB7K,EAAKiC,IAU1B,MAAmB,UAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAAiCuK,MAAOxK,EAAKnC,KAAMwJ,KAAM,EAAzD,SACE,cAAC,KAAM0G,MAAP,CACE5N,MAAO,CAAEO,MAAO,QAChBiB,MACEoD,GAAQA,EAAK/E,EAAK6K,OAEd9F,GAA4B,IAApBA,EAAK/E,EAAK6K,MADlB9F,EAAK/E,EAAK6K,MAGV,KAENlI,SAAU,SAACqL,GAAD,OAAOd,EAAWc,EAAGhO,EAAK6K,KAAM,IAT5C,SAWE,cAAC,KAAD,CAAOuD,UAAU,WAAWjO,MAAO,CAAEO,MAAO,QAA5C,SACGV,EAAKO,UACNkK,MAAMC,QAAQ1K,EAAKO,WACnBP,EAAKO,SAASoK,OACV3K,EAAKO,SAASR,KAAI,SAACkO,GACjB,OAAIA,EAAMnD,OAASmD,EAAM1N,SAErB,sBAEEJ,MAAO,CAAEO,MAAO,MAAOmB,UAAW,IAFpC,UAIE,cAAC,KAAD,CAAsBF,MAAOsM,EAAMtM,MAAnC,SACGsM,EAAMpQ,MADGoQ,EAAMhM,IAGlB,cAAC,GAAD,CACE9B,MAAO,CACLO,MAAO,OACPyS,QACEpO,GACAA,EAAK/E,EAAK6K,OACU,IAApB9F,EAAK/E,EAAK6K,MACN,GACA,QAERlJ,MACEoD,GAAQA,EAAKkJ,EAAM1N,SAASsK,OAExB9F,GAC8B,IAA9BA,EAAKkJ,EAAM1N,SAASsK,MAFpB9F,EAAKkJ,EAAM1N,SAASsK,MAIpB,KAENlI,SAAU,SAACqL,GAAD,OACRd,EAAWc,EAAGC,EAAM1N,SAASsK,KAAM,QAzBlCoD,EAAMhM,IAgCb,cAAC,KAAD,CACE9B,MAAO,CAAE0B,UAAW,IAEpBF,MAAOsM,EAAMtM,MAHf,SAKGsM,EAAMpQ,MAHFoQ,EAAMhM,OAQnB,UA9DcjC,EAAKiC,IAmEP,aAAfjC,EAAK8K,MAEZ,cAAC,IAAa7K,KAAd,CAAiCuK,MAAOxK,EAAKnC,KAAMwJ,KAAM,EAAzD,SACE,cAAC,GAAD,CAAU1F,MAAO3B,EAAK6K,QADA7K,EAAKiC,SAF1B,KAQT,WCzLDuR,I,OAAmBjL,cAAS,WACvC,IAAQJ,EAAuBC,KAAvBD,mBACJsL,EAAkBtL,EAAmBuL,OACzC,EAA0BjV,oBAAwB,WAChD,OAAIgV,EACKnG,SAASmG,GACJ,QAHhB,mBAAOE,EAAP,KAAcC,EAAd,KAKA,EAA6CnV,qBAA7C,mBAAOuN,EAAP,KAAuB6H,EAAvB,KACA,EAAwCpV,oBAAkB,GAA1D,mBAAOqN,EAAP,KAAqBmB,EAArB,KACA,EAAgCxO,qBAAhC,mBAAOqV,EAAP,KAAiBC,EAAjB,KAEA7U,qBAAU,WACJiJ,EAAmBiB,WACrB4K,GAAQ,KAET,CAAC7L,EAAmBiB,YAEvBlK,qBAAU,WAIR,OAHIiJ,EAAmB4B,OACrBiK,IAEK,WACLH,EAAmB,MACnBD,EAAS,MACTG,EAAY,MACZ9G,GAAgB,MAEjB,CAAC9E,EAAmB4B,QAEvB,IAAMiK,EAAU,SAACC,GACf/M,EAAQgN,QAAQ,CAAEC,iBAAkBhM,EAAmB4B,QAAST,MAC9D,SAAC/B,GAG0B,IAAD,IAFpBA,EAAI9B,SACNsO,EAAYxM,EAAIxC,MACXkP,IACC1M,EAAIxC,MAAJ,UAAYwC,EAAIxC,KAAK,UAArB,iBAAY,EAAaqP,yBAAzB,OAAY,EAAgCC,SAC9CT,EAASrM,EAAIxC,KAAK,GAAGqP,kBAAkBC,SAEzCR,EAAmBtM,EAAIxC,KAAK,GAAG9C,MAGjCuD,IAAQD,MAAMgC,EAAIhC,WAMpBqH,EAAiB,WACrBzE,EAAmBiB,WAAY,GAE3BkL,EAAkBrK,mBAAQ,WAC9B,OAAK0J,EAGO,IAAVA,GACU,IAAVA,GACU,IAAVA,GACU,KAAVA,GACU,KAAVA,EAGE,cAAC,GAAD,CACE3H,eAAgBA,EAChBF,aAAcA,EACdc,eAAgBA,EAChBK,gBAAiBA,EACjB3B,MACY,IAAVqI,EACI,EACU,IAAVA,EACA,EACU,IAAVA,EACA,EACU,KAAVA,EACA,EACA,IAIS,IAAVA,GAAyB,IAAVA,GAAyB,IAAVA,EAErC,cAAC,GAAD,CACE3H,eAAgBA,EAChBF,aAAcA,EACdc,eAAgBA,EAChBK,gBAAiBA,EACjB3B,MAAiB,IAAVqI,EAAc,EAAc,IAAVA,EAAc,EAAI,IAG5B,IAAVA,GAAyB,IAAVA,GAAyB,IAAVA,EAErC,cAAC,GAAD,CACE3H,eAAgBA,EAChBF,aAAcA,EACdc,eAAgBA,EAChBK,gBAAiBA,EACjB3B,MAAiB,IAAVqI,EAAc,EAAc,IAAVA,EAAc,EAAI,SAP1C,EArCE,OAgDR,CAACA,EAAO3H,EAAgBF,IAC3B,OACE,sBAAKnM,UAAU,SAAf,UACE,qBAAKA,UAAU,SAAf,SACGqM,GACD8H,GACArJ,MAAMC,QAAQoJ,IACdA,EAASnJ,OACLmJ,EAAS/T,KAAI,SAACC,GAAU,IAAD,UACrB,OACE,wBAEEG,MAAO,CACLO,OAAO,UAAAV,EAAKoU,yBAAL,mBAAwBvW,YAAxB,eAA8B8M,QAAS,EAAI,IAAM,GACxDvK,gBACEuT,KAAK,UAAK3T,EAAKoU,yBAAV,aAAK,EAAwBC,SAC9B,OACArU,EAAKsF,OACL,UACA,GACNzE,MACE8S,KAAK,UAAK3T,EAAKoU,yBAAV,aAAK,EAAwBC,SAC9B,UACA,GACNlR,OACEwQ,KAAK,UAAK3T,EAAKoU,yBAAV,aAAK,EAAwBC,SAC9B,oBACA,IAERnU,QAAS,WAAO,IAAD,EACb0T,EAAQ,UAAC5T,EAAKoU,yBAAN,aAAC,EAAwBC,SACjClM,EAAmBuL,OAAS1T,EAAKqU,QACjCR,EAAmB7T,EAAKiC,KAtB5B,SAyBGjC,EAAKoU,kBAAkBvW,MAxBnBmC,EAAKiC,OA4BhB,OAEN,8BACwB,KAAb,OAAR6R,QAAQ,IAARA,OAAA,EAAAA,EAAUnJ,QACT,cAAC,GAAD,CACEqB,eAAgBA,EAChBF,aAAcA,EACdc,eAAgBA,EAChBK,gBAAiBA,IAGnBqH,IAGJ,qBAAKnU,MAAO,CAAEgT,QAAS,OAAQoB,eAAgB,UAA/C,SACE,wBACEpU,MAAO,CACL0B,UAAW,GACXnB,MAAO,GACPzB,OAAQ,GACRmB,gBAAiB,UACjBS,MAAO,OACPsC,OAAQ,OACRqR,aAAc,GAEhBtU,QAAS,kBAAM+M,GAAgB,IAVjC,mC,oBC5JD,SAASwH,GAAQrW,GACtB,OACE,sBAAK+B,MAAO,CAAEO,MAAO,QAArB,UACE,qBACEP,MAAO,CACLuU,SAAU,GACV7T,MAAO,OACP8T,WAAY,IACZ3R,aAAc,IALlB,SAQG5E,EAAMP,OAET,qBACEsC,MAAO,CACLlB,OAAQ,OACRkU,QAAS,OACTyB,cAAoB,OAALxW,QAAK,IAALA,KAAOwW,cAAgBxW,EAAMwW,cAAgB,UAJhE,SAOGxW,EAAMmC,cfTR,SAASsU,GAASzW,GACvB,OACE,sBACE+B,MAAO,CACLO,OAAY,OAALtC,QAAK,IAALA,OAAA,EAAAA,EAAOsC,QAAS,OACvByS,QAAS,OACToB,gBAAqB,OAALnW,QAAK,IAALA,OAAA,EAAAA,EAAOmW,iBAAkB,aACzCO,WAAY,SACZ9R,aAAc,IANlB,UASqB,KAAb,OAAL5E,QAAK,IAALA,OAAA,EAAAA,EAAOkH,SAAP,OAAuBlH,QAAvB,IAAuBA,KAAOkH,OAC7B,qBACEnF,MAAO,CACLqU,aAAc,GACd9T,MAAO,EACPzB,OAAQ,EACR0O,YAAa,EACbvN,gBAAiB6G,EAAY8N,OAAM,OAAC3W,QAAD,IAACA,OAAD,EAACA,EAAOkH,YAG7C,KACJ,sBACEnF,MAAO,CACLwN,YAAkB,OAALvP,QAAK,IAALA,KAAOP,KAAO,EAAI,EAC/B6W,UAAe,OAALtW,QAAK,IAALA,OAAA,EAAAA,EAAOsW,WAAY,GAC7B7T,MAAO,QAJX,UAOGzC,EAAMoM,MACD,OAALpM,QAAK,IAALA,KAAOP,MAAP,OAAeO,QAAf,IAAeA,KAAOmC,SAAW,SAAM,QAEpC,OAALnC,QAAK,IAALA,KAAOP,KACN,qBACEsC,MAAO,CACLuU,UAAe,OAALtW,QAAK,IAALA,OAAA,EAAAA,EAAOsW,WAAY,GAC7B7T,MAAO,UACP8T,YAAiB,OAALvW,QAAK,IAALA,OAAA,EAAAA,EAAOuW,aAAc,KAJrC,SAOGvW,EAAMP,OAEP,KACHO,EAAMmC,YgBrDN,SAASyU,GAAiB5W,GAC/B,OACE,sBAAK+B,MAAO,CAAEO,MAAO,QAArB,UACE,sBACEP,MAAO,CACLuU,SAAU,GACV7T,MAAO,kBACPsS,QAAS,OACToB,gBAAqB,OAALnW,QAAK,IAALA,OAAA,EAAAA,EAAO6W,SAAU,iBALrC,UAQE,qCAAM7W,QAAN,IAAMA,OAAN,EAAMA,EAAOP,OACb,qCAAMO,QAAN,IAAMA,OAAN,EAAMA,EAAOuD,WAEf,qBAAKxB,MAAO,CAAEgT,QAAS,OAAQnQ,aAAc,GAAInB,UAAW,IAA5D,gBACGzD,QADH,IACGA,OADH,EACGA,EAAOmC,e,ShBXX0G,O,wBAAAA,I,wBAAAA,I,yBAAAA,M,yBiBPE,SAASiO,GAAa9W,GAC3B,OACE,sBACE+B,MAAO,CAAEgT,QAAS,OAAQyB,cAAe,SAAUE,WAAY,UADjE,UAGE,qBAAK3U,MAAO,CAAEuU,SAAU,GAAI7T,MAAO,QAAnC,gBAA8CzC,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAOP,OACrD,qBAAKsC,MAAO,CAAEuU,SAAU,GAAI7T,MAAO,OAAQ8T,WAAY,IAAK1R,QAAS,GAArE,gBACG7E,QADH,IACGA,OADH,EACGA,EAAO+W,W,OCLT,SAASC,GAAYhX,GAC1B,IAAIiX,EAAYjX,EAAMkX,WAClBP,OAAOxR,IAAO,IAAIgS,MAAQC,KAAKpX,EAAMkX,aAAe,IAAO,UAC3DG,EACAC,EAAU,eAcd,OAbIL,IACEA,EAAO,GACTA,GAAe,GAAPA,GAAWvU,WAAW2G,MAAM,KAAK,GACzCiO,EAAU,gBACDL,EAAO,IAChBA,GAAQA,EAAO,IAAIvU,WAAW2G,MAAM,KAAK,GACzCiO,EAAU,UACDL,EAAO,IAChBA,EAAOA,EAAKvU,WAAW2G,MAAM,KAAK,GAClCiO,EAAU,iBAKZ,sBAAK/V,UAAU,eAAf,UACE,qBAAKQ,MAAO,CAAEwU,WAAY,QAA1B,gBAAqCvW,QAArC,IAAqCA,OAArC,EAAqCA,EAAOP,OAC3CO,EAAMmC,SACN8U,EACC,sBAAKlV,MAAO,CAAE0B,UAAW,GAAI6S,SAAU,GAAI7T,MAAO,QAAlD,UACGwU,EACAK,EAFH,YAIE,QC/BV,IAcalV,GAAoB,CAC/B,CACEd,MAAO,eACPe,UAAW,KACXC,MAAO,IAET,CACEhB,MAAO,eACPe,UAAW,eACXE,OAAQ,SAACC,GAAD,OACN,qBAAKT,MAAO,CAAEU,MAAO,WAArB,UAAuC,OAAJD,QAAI,IAAJA,OAAA,EAAAA,EAAME,aAAc,QAG3D,CACEpB,MAAO,WACPe,UAAW,OACXE,OAAQ,SAACC,GAAD,OAAgC,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAME,aAAc,MAE1D,CACEpB,MAAO,iCACPe,UAAW,eAEb,CACEf,MAAO,2BACPe,UAAW,UAEb,CACEf,MAAO,eACPe,UAAW,SACXE,OAAQ,SAACC,GAAD,OA3CM,SAACuM,GACjB,OAAQA,GACN,IAAK,IACL,KAAK,EACH,MAAO,SACT,IAAK,IACL,KAAK,EACH,MAAO,SACT,QACE,MAAO,IAkC2BwI,CAAU/U,KAEhD,CACElB,MAAO,eACPe,UAAW,WACXE,OAAQ,SAACC,GACP,OAAIA,EAEA,8BACGmU,OAAOxR,IAAO,IAAIgS,MAAQ/R,OAAO,SAChCuR,OAAOxR,IAAO3C,GAAM4C,OAAO,WAGrB,MAGlB,CACE9D,MAAO,2BACPe,UAAW,aACXE,OAAQ,SAACC,GACP,OAAIA,EACK,8BAAM2C,IAAO3C,GAAM4C,OAAO,gBAE1B,MAIb,CACE9D,MAAO,eACPe,UAAW,WACXC,MAAO,IACPC,OAAQ,SAACC,GACP,MAAoB,kBAATA,EACF,qBAGL,8BACE,cAAC,KAAD,CACEgV,QAAShV,EACTiV,YAAa,EACb1V,MAAO,CAAEuU,SAAU,IACnBoB,YAAY,gBAOxB,CACEpW,MAAO,2BACPe,UAAW,qBACXE,OAAQ,SAACC,GAAD,cAAeA,QAAf,IAAeA,OAAf,EAAeA,EAAM/C,OAE/B,CACE6B,MAAO,2BACPe,UAAW,gBACXE,OAAQ,SAACC,GAAD,OAAmB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAME,aAAc,OASlCiV,GACE,eADFA,GAED,CACR,CAAElY,KAAM,eAAM8D,MAAO,KACrB,CAAE9D,KAAM,SAAK8D,MAAO,KACpB,CAAE9D,KAAM,SAAK8D,MAAO,MCvFhBZ,GAAWC,IAAXD,OAEKiV,GAAO,SAAC5X,GAA+C,IAAD,EAC3DC,EAAYC,cAClB,EAAsCG,mBAASC,OAAOC,aAAtD,mBAAOA,EAAP,KAAoBsX,EAApB,KACA,EAA8BxX,mBAAiB,IAA/C,mBAAOyX,EAAP,KAAgBC,EAAhB,KACA,EAA8B1X,mBAAiB,GAA/C,mBAAO2X,EAAP,KAAgBC,EAAhB,KACA,EAAoC5X,oBAAkB,GAAtD,mBAAO6X,EAAP,KAAmBC,EAAnB,KACA,EAAoC9X,mBAAiB,IAArD,mBAAO+X,EAAP,KAAmBC,EAAnB,KACA,EAA4BhY,mBAAiB,KAA7C,mBAAOiY,EAAP,KAAeC,EAAf,KACA,EAAoClY,mBAAwB,MAA5D,mBAAmBmY,GAAnB,WACA,EAAsCnY,mBAAc,IAApD,mBAAOoY,EAAP,KAAoBC,EAApB,KACA,EAA0BrY,mBAAS,GAAnC,mBAAO2C,EAAP,KAAc2V,EAAd,KACA,EAAwBtY,mBAAS,GAAjC,mBAAO4C,GAAP,KAAaC,GAAb,KACA,GAAgC7C,mBAAS,IAAzC,qBAAO8C,GAAP,MAAiBC,GAAjB,MACA,GAAgC/C,qBAAhC,qBAAiBuY,IAAjB,aACA,GAAoCvY,mBAAc,IAAlD,qBAAOwY,GAAP,MAAmBC,GAAnB,MACA,GAAgCzY,oBAAkB,GAAlD,qBAAO0Y,GAAP,MAAiBC,GAAjB,MACA,GAAsC3Y,mBAAc,IAApD,qBAAO4Y,GAAP,MAAoBC,GAApB,MACA,GAA8B7Y,oBAAkB,GAAhD,qBAAO8Y,GAAP,MAAgBC,GAAhB,MACA,GAAkC/Y,mBAAc8E,IAAO,IAAIgS,OAA3D,qBAAOkC,GAAP,MAAkBC,GAAlB,MACA,GAAoBjZ,qBAApB,qBAAOkZ,GAAP,MAAWC,GAAX,MAEM5Y,GAAS,WACb,IAAI0B,EAAQhC,OAAOmZ,WACf5Y,EAASP,OAAOC,YAChB+B,EAAQ,MACVyV,EAAW,IACXE,EAAW,MAEXF,EAAW,IACXE,EAAW,IAEbJ,EAAehX,IAKjBC,qBAAU,WACRoC,GAAQ,GACRE,GAAY,IACZiV,EAAc,IACdE,EAAU,KACVC,EAAc,MACdkB,GAAe,CAAEzW,KAAM,EAAGuB,MAAO,KACjCmV,GAAW,CAAE1W,KAAM,EAAGuB,MAAO,IAC7BoV,KACAC,KAXAvZ,OAAOS,iBAAiB,SAAUH,MAajC,IAEH,IAAM8Y,GAAiB,SAAChT,GACtB,IAAMgB,EAAsC,CAC1ClD,MAAK,OAAEkC,QAAF,IAAEA,OAAF,EAAEA,EAAQlC,MACf/E,KAAM2Y,EACNnV,KAAI,OAAEyD,QAAF,IAAEA,OAAF,EAAEA,EAAQzD,KACdqV,UAEFxP,EAAQgR,mBAAmBpS,GAAQwD,MAAK,SAAC/B,GACrB,IAAD,EAAbA,EAAI9B,SACNqR,EAAevP,EAAIxC,KAAKA,MACxBgS,EAAQ,UAACxP,EAAIxC,YAAL,aAAC,EAAU3D,QAEnBoE,IAAQD,MAAMgC,EAAIhC,WAKlByS,GAAc,WAClB9Q,EAAQuF,YAAY,IAAInD,MAAK,SAAC/B,GACxBA,EAAI9B,QACNuR,GAAYzP,EAAIxC,MAEhBS,IAAQD,MAAMgC,EAAIhC,WAIlB0S,GAAa,uCAAG,4BAAA/S,EAAA,sEACCgC,EAAQ+Q,gBADT,QAChB1Q,EADgB,QAEZ9B,QACNyR,GAAc3P,EAAIxC,MAElBS,IAAQD,MAAMgC,EAAIhC,OALA,2CAAH,qDASbwS,GAAa,SAACjS,GAClBoB,EAAQ6Q,WAAWjS,GAAQwD,MAAK,SAAC/B,GAIrB,IAAD,EAHLA,EAAI9B,QACe,KAAX,OAANK,QAAM,IAANA,OAAA,EAAAA,EAAQzE,MACViW,GAAe/P,EAAIxC,KAAKA,OAEM,KAA1B,UAAAwC,EAAIxC,KAAKA,YAAT,eAAe4F,QACjByM,IAAY,GAEZA,IAAY,GAEdE,GAAe,GAAD,oBAAKD,IAAL,aAAqB9P,EAAIxC,KAAKA,SAG9CS,IAAQD,MAAMgC,EAAIhC,WAKlB4S,GAAc,WAClBX,IAAW,GACX,IAAI1R,EAAS,CACXsS,GAAIT,GACJU,WAAY9U,IAAOkU,IAAWjU,OAAO,eAEnC,OAACsC,QAAD,IAACA,KAAQsS,IAIT,OAACtS,QAAD,IAACA,KAAQuS,YAAqC,kBAAjB,OAANvS,QAAM,IAANA,OAAA,EAAAA,EAAQuS,cACjCvS,EAAOuS,WAAa9U,IAAO,IAAIgS,MAAQ/R,OAAO,cAC9CkU,GAAanU,IAAO,IAAIgS,MAAQ/R,OAAO,gBAGzC0D,EAAQoR,cAAR,eAA2BxS,IAAUwD,MAAK,SAAC/B,GACrCA,EAAI9B,SACND,IAAQC,QAAQ8B,EAAIhC,OACpB0S,KACAH,KACAvB,GAAc,IAEd/Q,IAAQD,MAAMgC,EAAIhC,OAEpBiS,IAAW,OAjBXhS,IAAQuM,QAAQ,wDAqBdwG,GAAkB,WACtBhC,GAAc,IAoBViC,GAAe,SAAC7W,EAAYwL,GAChC,OAAQA,GACN,IAAK,KACHyK,GAAMjW,GACN,MACF,IAAK,aACH+V,GAAanU,IAAO5B,GAAO6B,OAAO,iBAiBlCiV,GAAexO,mBAAQ,WAC3B,OACE,cAAC,KAAD,CACEvK,MAAM,2BACNgZ,QAASpC,EACT3W,UAAU,aACVgZ,cAAe,CAAEpB,WAASpX,MAAO,CAAEC,gBAAiB,YACpDwY,KAAMT,GACNU,SAAUN,GANZ,SAQE,gCACE,sBACEpY,MAAO,CACLO,MAAO,OACPyS,QAAS,OACT2B,WAAY,SACZ9R,aAAc,IALlB,UAQE,qBAAK7C,MAAO,CAAEO,MAAO,IAAK6J,UAAW,SAArC,gDACA,cAAC,KAAD,CACEpK,MAAO,CAAEgT,QAAS,OAAQzS,MAAO,KACjCe,YAAY,gDACZE,MAAOgW,GACPhV,SAAU,SAACqL,GACTwK,GAAaxK,EAAEN,OAAO/L,MAAO,YAInC,sBAAKxB,MAAO,CAAEgT,QAAS,OAAQ2B,WAAY,UAA3C,UACE,qBAAK3U,MAAO,CAAEO,MAAO,IAAK6J,UAAW,SAArC,6CACA,cAAC,IAAD,CACE9I,YAAY,6CACZE,MAAO4B,IAAOkU,IACd9U,SAAU,SAACqL,GACTwK,GAAaxK,EAAG,2BAO3B,CAACsI,EAAYiB,GAASI,GAAIF,KAE7B,OACE,sBAAK9X,UAAU,YAAf,UACE,eAAC,KAAD,CAAKmZ,OAAQ,CAAEC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAA3C,UACE,eAAC,KAAD,CAAK7R,KAAM6O,EAAX,UACE,sBAAKvW,UAAU,mBAAf,UACE,qCAAMsX,SAAN,IAAMA,QAAN,EAAMA,GAAYkC,OAClB,sBAAKxZ,UAAU,mBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,cAACkV,GAAD,CAAUrK,MAAM,2BAAO3M,KAAK,qBAAM6W,SAAS,SAC3C,cAACG,GAAD,CACErK,MAAM,iCACN3M,KAAI,OAAEoZ,SAAF,IAAEA,QAAF,EAAEA,GAAYmC,MAClB1E,SAAS,OACTH,eAAe,gBAGnB,sBAAK5U,UAAU,kBAAf,UACE,qBAAKQ,MAAO,CAAEO,MAAO,OAArB,SACE,cAACsU,GAAD,CACEnX,KAAK,2BACL8D,MAAK,kCACkB,KAAX,OAAVsV,SAAU,IAAVA,QAAA,EAAAA,GAAYoC,MAAa,GAAc,OAAVpC,SAAU,IAAVA,QAAA,EAAAA,GAAYoC,OAAQ,EAD9C,KAFP,SAME,cAAC,KAAD,CACElZ,MAAO,CAAE0B,UAAW,GACpB+T,QAAO,OAAEqB,SAAF,IAAEA,QAAF,EAAEA,GAAYoC,KACrBxD,YAAa,GACbC,YAAY,UACZwD,UAAU,QAIhB,8BACE,cAACpE,GAAD,CAAcrX,KAAK,iCAAQsX,MAAK,OAAE8B,SAAF,IAAEA,QAAF,EAAEA,GAAYsC,eAIpD,sBAAK5Z,UAAU,eAAf,UACE,cAACkV,GAAD,CACErK,MAAM,2BACN3M,KAAI,OAAEoZ,SAAF,IAAEA,QAAF,EAAEA,GAAYuC,KAClB9E,SAAS,OACTH,eAAe,WAEjB,sBAAK5U,UAAU,kBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,cAACuV,GAAD,CAAcrX,KAAK,qBAAMsX,MAAK,OAAE8B,SAAF,IAAEA,QAAF,EAAEA,GAAYwC,QAE9C,qBAAK9Z,UAAU,eAAf,SACE,cAACuV,GAAD,CAAcrX,KAAK,2BAAOsX,MAAK,OAAE8B,SAAF,IAAEA,QAAF,EAAEA,GAAYyC,qBAMvD,sBACE/Z,UAAU,mBACVQ,MAAO,CACLwZ,eAAgB,EAChB1a,OAAQN,EAAc,IACtB0P,UAAW,IACX/N,cAA2B,KAAZ4V,EAAiB,GAAK,KANzC,UASE,sBAAKvW,UAAU,qBAAf,UACE,8BACE,cAAC,IAAD,CACEA,UAAU,mBACVQ,MAAO,CAAEwN,YAAa,IACtBzN,QAAS,WACPqW,GAAc,IAJlB,wCAUF,sBAAKpW,MAAO,CAAEgT,QAAS,QAAvB,UACE,cAAC,KAAD,CACEhT,MAAO,CAAEuB,SAAU,IAAKiM,YAAa,IACrChO,UAAU,mBACVgC,MAAO6U,EACP7T,SAAU,SAACqL,GACTyI,EAAczI,EAAEN,OAAO/L,QAEzBF,YAAY,0BAEd,qBACE9B,UAAU,sBACVQ,MAAO,CAAEwN,YAAa,IAFxB,SAIE,cAAC,IAAD,CACElM,YAAasU,GACb5V,MAAO,CAAEuB,SAAU,KACnBC,MAAO+U,EACP/T,SAAU,SAACqL,GAAD,OAAO2I,EAAU3I,IAJ7B,mBAMG+H,UANH,aAMG,EAAuBhW,KAAI,SAACC,EAAMqK,GAAP,OAC1B,cAAC,GAAD,CAAQ1I,MAAO3B,EAAK2B,MAApB,SACG3B,EAAKnC,MADwBwM,UAMtC,cAAC,IAAD,CACE1K,UAAU,mBACV5B,KAAM,cAAC6b,GAAA,EAAD,IACN1Z,QAAS,WACP4X,GAAe,CAAEzW,KAAM,EAAGuB,MAAOrB,MAJrC,gCAWJ,qBAAK5B,UAAU,aAAf,SACE,cAAC,IAAD,CACEQ,MAAO,CAAE0B,UAAW,IACpBC,UAAU,EACVC,OAAQ,SAACC,GAAD,OAAcA,EAAIC,GAAGnB,YAC7BoB,QAAS1B,GACT2B,WAAY0U,EACZzU,MAAO,SAACJ,GACN,MAAO,CACL9B,QAAS,WACPkE,aAAayV,QAAQ,eAAgB5Q,KAAKjE,UAAUhD,IACpD3D,EAAU,2BAAD,OAA4B2D,EAAIC,QAI/CI,WAAY,CACVC,gBAAiB,CAAC,KAAM,KAAM,KAAM,OACpCC,UAAW,SAACnB,GAAD,uBAAgBA,EAAhB,wBACXoB,iBAAiB,EACjBC,iBAAiB,EACjBC,QAASrB,GACTE,SAAUA,GACVH,MAAOA,EACPuB,SAnMiC,SAC/CmX,EACAlX,GAEA,IAAIC,EAAcD,IAAUrB,GAAWuY,EAAQ,GAC1ClX,IAAUrB,IAAYuY,IAAUzY,IAASuB,IAAUrB,MACtDC,GAAYoB,GACZtB,GAAQuB,GACRiV,GAAe,CAAEzW,KAAMwB,EAAaD,MAAOA,iBAiMzC,cAAC,KAAD,CAAKyE,KAAM+O,EAAX,SACE,qBACEjW,MAAO,CACLgD,OAAQ,mCACRF,QAAS,GACThE,OAAQN,EAAc,IACtB0P,UAAW,IACX0L,UAAW,UANf,SASE,eAACtF,GAAD,CAAS5W,KAAK,2BAAd,iBACGwZ,SADH,IACGA,QADH,EACGA,GAAatX,KAAI,SAACC,EAAYqK,GAAb,OAChB,cAAC,GAAD,CAEExM,KAAI,OAAEmC,QAAF,IAAEA,OAAF,EAAEA,EAAMga,KACZ1E,WAAU,OAAEtV,QAAF,IAAEA,OAAF,EAAEA,EAAMia,SAHpB,SAKE,sBAAK9Z,MAAO,CAAEgT,QAAS,OAAQtR,UAAW,IAA1C,iBACG7B,QADH,IACGA,OADH,EACGA,EAAMsF,OADT,eAEE,sBAAKnF,MAAO,CAAEU,MAAO,WAArB,iBACGb,QADH,IACGA,OADH,EACGA,EAAMka,aADT,WACwBla,QADxB,IACwBA,OADxB,EACwBA,EAAMma,MAD9B,WACsCna,QADtC,IACsCA,OADtC,EACsCA,EAAMwO,eAPzCnE,MAYT,qBACE1K,UAAU,kBACVQ,MAAO,CACLia,OAAQ,UACRjH,QAASgE,GAAW,QAAU,QAEhCjX,QAAS,YApQF,WACnB,IAAImB,EAAO,EACPwB,EAAcyK,SAAS+M,OAAOhD,GAAY1M,OAAS,IACvD,GAAoB,IAAhB9H,EACFxB,EAAO,OACF,GAAIwB,IAAgBwU,GAAY1M,OAAS,EAC9CtJ,EAAOwB,EAAc,OAChB,GAAIA,IAAgBwU,GAAY1M,OAAS,EAE9C,YADAyM,IAAY,GAGdW,GAAW,CACT1W,KAAMA,EACNuB,MAAO,IAwPK0X,IAPJ,gDAgBP7B,OC5aD8B,I,OAAehS,cAAS,SAACnK,GAC7B,IAAQ+J,EAAuBC,KAAvBD,mBACR,OACE,sBAAKxI,UAAU,yBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKQ,MAAO,CAAEuU,SAAU,GAAIC,WAAY,QAAxC,gBACGxM,QADH,IACGA,OADH,EACGA,EAAoB0B,WAEvB,sBAAK1J,MAAO,CAAEgT,QAAS,OAAQtR,UAAW,IAA1C,UACE,cAACgT,GAAD,CACErK,MAAM,2BACN3M,KAAI,OAAEsK,QAAF,IAAEA,OAAF,EAAEA,EAAoB/G,MAC1BuT,WAAY,MAEd,cAACE,GAAD,CACErK,MAAM,qBACN3M,KAAI,OAAEsK,QAAF,IAAEA,OAAF,EAAEA,EAAoB2B,YAC1B6K,WAAY,YAIlB,qBACExU,MAAO,CACLlB,OAAQ,OACRyB,MAAO,OACPmB,UAAW,IAJf,gBAOGzD,QAPH,IAOGA,OAPH,EAOGA,EAAOmC,kB,OCjCT,SAASia,GAASpc,GACvB,IAAMC,EAAYC,cACFE,cAMhB,OAJAU,qBAAU,WACRb,EAAU,WACT,IAEI,qBAAKsB,UAAU,cCHjB,IAAM1B,GAAS,CACpB,CACEJ,KAAM,QACN4c,QACE,cAAC,EAAD,UACE,cAAC,IAAD,MAGJla,SAAU,CACR,CACE1C,KAAM,QACN4c,QAAS,cAAC,GAAD,KAEX,CACE5c,KAAM,gBACN4c,QAAS,cAAC,GAAD,IACTla,SAAU,CACR,CACE1C,KAAM,QACN4c,QAAS,cAAC,GAAD,KAEX,CACE5c,KAAM,SACN4c,QACE,cAACF,GAAD,UACE,cAAC,GAAD,OAIN,CACE1c,KAAM,IACN4c,QACE,sBAAMta,MAAO,CAAE8C,QAAS,QAAxB,SACE,0EAMV,CACEpF,KAAM,IACN4c,QACE,sBAAMta,MAAO,CAAE8C,QAAS,QAAxB,SACE,0EAMV,CACEpF,KAAM,UACN4c,QACE,cAAC,EAAD,UACE,cAAC,EAAD,OAIN,CACE5c,KAAM,IACN4c,QAAS,cAAC,GAAD,M,8BC9DAC,I,OAAM,WA0BjB,OACE,cAAC,KAAD,CAAgBC,OAAQC,KAAxB,SACE,cAAC,IAAD,UA1Ba,SAAC3c,GAChB,IAAM4c,EAAgB,SAAhBA,EAAiBC,GACrB,MAAmB,UAAfA,EAAMjd,KACD,cAAC,IAAD,CAAuBwM,OAAK,EAACoQ,QAASK,EAAML,SAAhCK,EAAMhd,KAGvB,cAAC,IAAD,CAAuBid,KAAMD,EAAMjd,KAAM4c,QAASK,EAAML,QAAxD,UACQ,OAALK,QAAK,IAALA,OAAA,EAAAA,EAAOva,WACNua,EAAMva,SAASR,KAAI,SAACC,EAAWlC,GAC7B,OAAO+c,EAAc,2BAAK7a,GAAN,IAAYlC,aAH1Bgd,EAAMhd,MASxB,OACE,cAAC,IAAD,iBACGG,QADH,IACGA,OADH,EACGA,EAAQ8B,KAAI,SAACC,EAAWlC,GACvB,OAAO+c,EAAc,2BAAK7a,GAAN,IAAYlC,cAQvBkd,CAAS/c,UCvBRgd,QACW,cAA7Bvc,OAAOqI,SAASmU,UAEe,UAA7Bxc,OAAOqI,SAASmU,UAEhBxc,OAAOqI,SAASmU,SAASC,MACvB,2DCZNC,IAASza,OAAO,cAAC,GAAD,IAASlB,SAAS4b,eAAe,SD6H3C,kBAAmBhd,WACrBA,UAAUid,cAAcC,MACrBjS,MAAK,SAAAkS,GACJA,EAAaC,gBAEdC,OAAM,SAAAnW,GACLlG,QAAQkG,MAAMA,EAAMC,c","file":"static/js/main.e8374822.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Layout, Menu } from \"antd\";\r\nimport \"./index.scss\";\r\nimport { useLocation, useNavigate } from \"react-router\";\r\nimport { HomeOutlined, FileZipOutlined } from \"@ant-design/icons\";\r\nimport { queryToObj } from \"../../toos\";\r\n/* 图片 */\r\nconst { Header, Content } = Layout;\r\n\r\nconst headerLayout = [\r\n  {\r\n    name: \"项目管理\",\r\n    key: \"1\",\r\n    icon: <HomeOutlined />,\r\n    router: \"/home\",\r\n  },\r\n  {\r\n    name: \"数据导出\",\r\n    key: \"2\",\r\n    icon: <FileZipOutlined />,\r\n    router: \"/export\",\r\n  },\r\n];\r\n\r\nconst MainLayout = (props: any) => {\r\n  const navigator = useNavigate();\r\n  const history = useLocation();\r\n\r\n  const [screenHeight, setScreenHeight] = useState<number>(window.innerHeight);\r\n  const [selectKeys, setSelectKeys] = useState<any>();\r\n  const changeLayout = (e: any) => {\r\n    navigator(e.router);\r\n  };\r\n\r\n  const resize = () => {\r\n    let height = window.innerHeight;\r\n    setScreenHeight(height);\r\n  };\r\n\r\n  const screenChange = () => {\r\n    window.addEventListener(\"resize\", resize);\r\n  };\r\n  useEffect(() => {\r\n    screenChange();\r\n    return () => {\r\n      window.removeEventListener(\"resize\", () => {\r\n        console.log(\"卸载视图监听\");\r\n      });\r\n      window.removeEventListener(\"popstate\", () => {\r\n        console.log(\"卸载回退按钮监听\");\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (history.pathname.indexOf(\"/patientDetail\") !== -1) {\r\n      document.title = \"患者详情页\";\r\n    } else if (history.pathname === \"/home\") {\r\n      document.title = \"项目详情\";\r\n    }\r\n    if (history.pathname.indexOf(\"/home\") !== -1) {\r\n      setSelectKeys(\"1\");\r\n    } else if (history.pathname.indexOf(\"/export\") !== -1) {\r\n      setSelectKeys(\"2\");\r\n    }\r\n  }, [history]);\r\n\r\n  return (\r\n    <Layout className=\"mainLayout\">\r\n      <Header className=\"header\">\r\n        <div className=\"logo\">临床科研管理系统</div>\r\n        <Menu\r\n          theme=\"light\"\r\n          mode=\"horizontal\"\r\n          className=\"layout\"\r\n          selectedKeys={selectKeys}\r\n        >\r\n          {headerLayout.map((item) => (\r\n            <Menu.Item\r\n              className=\"layoutItem\"\r\n              key={item.key}\r\n              icon={item.icon}\r\n              onClick={() => {\r\n                changeLayout(item);\r\n              }}\r\n            >\r\n              {item.name}\r\n            </Menu.Item>\r\n          ))}\r\n        </Menu>\r\n      </Header>\r\n      <Layout className=\"body-layout\">\r\n        <Layout\r\n          className=\"mainLayout-content\"\r\n          style={{\r\n            height: screenHeight - 50,\r\n            backgroundColor: \"#fff\",\r\n          }}\r\n        >\r\n          <Content\r\n            style={{\r\n              margin: 0,\r\n              paddingBottom: 10,\r\n            }}\r\n          >\r\n            {props.children}\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n};\r\nexport { MainLayout };\r\n","import { Button } from \"antd\";\r\n\r\nexport const tableColumns: any = [\r\n  {\r\n    title: \"序号\",\r\n    dataIndex: \"id\",\r\n    width: 70,\r\n  },\r\n  {\r\n    title: \"导出名称\",\r\n    dataIndex: \"export_name\",\r\n    render: (text?: string) => (\r\n      <div style={{ color: \"#1abc9c\" }}>{text?.toString() || \"/\"}</div>\r\n    ),\r\n  },\r\n  {\r\n    title: \"开始时间\",\r\n    dataIndex: \"start_at\",\r\n    render: (text?: string | number) => text?.toString() || \"/\",\r\n  },\r\n  {\r\n    title: \"结束时间\",\r\n    dataIndex: \"end_at\",\r\n  },\r\n  {\r\n    title: \"有效期\",\r\n    dataIndex: \"time_of_validity\",\r\n  },\r\n  {\r\n    title: \"状态\",\r\n    dataIndex: \"status\",\r\n  },\r\n  {\r\n    title: \"大小\",\r\n    dataIndex: \"files\",\r\n  },\r\n  {\r\n    title: \"操作\",\r\n    render: () => <Button>下载</Button>,\r\n  },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport { Button, Select, DatePicker, Table } from \"antd\";\r\nimport \"./index.scss\";\r\nimport { tableColumns } from \"./config\";\r\nimport { CurrentPaginationType } from \"../../request/types\";\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\ninterface Props {}\r\n\r\nexport function Export(props: Partial<Props>): React.ReactElement {\r\n  const [total, setTotal] = useState(500);\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10);\r\n\r\n  const currentPagination: CurrentPaginationType = (\r\n    page: number,\r\n    limit: number\r\n  ) => {\r\n    let currentPage = limit === pageSize ? page : 1;\r\n    setPageSize(pageSize);\r\n    setPage(currentPage);\r\n  };\r\n\r\n  return (\r\n    <div className=\"export\">\r\n      <div className=\"search-header\">\r\n        <div className=\"config\">\r\n          <Select placeholder=\"请选择项目\" style={{ minWidth: 150 }}>\r\n            <Option value={1}>项目一</Option>\r\n            <Option value={2}>项目一</Option>\r\n            <Option value={3}>项目一</Option>\r\n            <Option value={4}>项目一</Option>\r\n          </Select>\r\n          <Select\r\n            placeholder=\"请选择状态\"\r\n            style={{ minWidth: 150, marginLeft: 15 }}\r\n          >\r\n            <Option value={1}>所有</Option>\r\n            <Option value={2}>已过期</Option>\r\n            <Option value={3}>成功</Option>\r\n          </Select>\r\n          <RangePicker style={{ marginLeft: 15 }} />\r\n        </div>\r\n        <div style={{ width: 100 }}>\r\n          <Button>重置</Button>\r\n        </div>\r\n      </div>\r\n      <div style={{ backgroundColor: \"#ffffff\" }}>\r\n        <Table\r\n          style={{ marginTop: 15 }}\r\n          bordered={true}\r\n          rowKey={(row: any) => row.id.toString()}\r\n          columns={tableColumns}\r\n          dataSource={[]}\r\n          onRow={() => {\r\n            return {\r\n              onClick: () => {},\r\n            };\r\n          }}\r\n          pagination={{\r\n            pageSizeOptions: [\"10\", \"20\", \"50\", \"100\"],\r\n            showTotal: (total) => `共 ${total} 条数据`, // 用于显示数据总量和当前数据顺序\r\n            showSizeChanger: true,\r\n            showQuickJumper: true,\r\n            current: page,\r\n            pageSize: pageSize,\r\n            total: total,\r\n            onChange: currentPagination,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { ReactNode, useEffect, useState } from \"react\";\r\nimport \"./index.scss\";\r\nimport moment from \"moment\";\r\n\r\ninterface Props {\r\n  selected?: boolean;\r\n  name?: string;\r\n  done?: string | number;\r\n  total?: string | number;\r\n  month?: Array<string |null>;\r\n  onClick: () => void;\r\n  children?: ReactNode;\r\n}\r\n\r\nexport function BaseLineComponent(props: Props): React.ReactElement {\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: props?.selected ? \"#42b8a3\" : \"#fff\",\r\n        marginBottom: 10,\r\n        padding: 10,\r\n        boxSizing: \"border-box\",\r\n        border: \"1px solid rgb(242, 242, 242)\",\r\n        color: props?.selected ? \"#fff\" : \"#000\",\r\n      }}\r\n      onClick={props.onClick}\r\n    >\r\n      <div style={{ marginBottom: 15 }}>\r\n        {props?.name}（{props?.done}/{props?.total}）\r\n      </div>\r\n      <div style={{ whiteSpace: \"nowrap\" }}>\r\n        {props.month&&props.month[0]?moment(props.month[0])\r\n          .format(\"YYYY-MM-DD\"):null}\r\n        ~ {props.month&&props.month[1]?moment(props.month[1])\r\n          .format(\"YYYY-MM-DD\"):null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const appConfig = {\r\n  VERSION: \"v1.1.0\",\r\n\r\n  server: {\r\n    dev: {\r\n      API_PROTOCOL: \"https://\",\r\n      // API_PROTOCOL: \"http://\",\r\n      API_HOST: \"ckd-hx.sersmed.cn/api\",\r\n      // API_HOST: \"192.168.12.83:8002/api\",\r\n    },\r\n    prod: {\r\n      API_PROTOCOL: \"\",\r\n      API_HOST: \"/api\",\r\n    },\r\n  },\r\n};\r\n\r\nexport const SERVER_URL =\r\n  process.env.NODE_ENV === \"development\"\r\n    ? `${appConfig.server.dev.API_PROTOCOL}${appConfig.server.dev.API_HOST}`\r\n    : `${appConfig.server.prod.API_PROTOCOL}${appConfig.server.prod.API_HOST}`;\r\n","import axios, { AxiosInstance } from \"axios\";\r\nimport moment from \"moment\";\r\nimport { SERVER_URL } from \"./api\";\r\nimport { message } from \"antd\";\r\n\r\nconst qs = require(\"qs\");\r\n\r\nconst baseURL = SERVER_URL;\r\n\r\n// class ---------------------------------------------------\r\nexport interface ApiResultInterface {\r\n  errno?: number;\r\n  error: string;\r\n  data: any;\r\n  success: boolean;\r\n  timestamp: string;\r\n}\r\n\r\nexport type ApiResult = ApiResultInterface;\r\n\r\nexport type RestfulOperateType = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\r\n\r\nexport type ApiParam = {\r\n  url: string;\r\n  params?: object;\r\n  withToken?: boolean;\r\n  multipart?: boolean;\r\n};\r\n\r\nexport class Api {\r\n  static get getInstance() {\r\n    return this.instance || (this.instance = new this());\r\n  }\r\n\r\n  static instance: Api;\r\n  // public token = \"Bearer fFQqjDYK1PaxBWxJ4LHRRdp95vTnTbVj\";\r\n  public token = localStorage.getItem(\"h_search\");\r\n  readonly _api: AxiosInstance;\r\n  readonly timeout: number = 300000;\r\n\r\n  constructor() {\r\n    this._api = axios.create({\r\n      baseURL,\r\n      timeout: this.timeout,\r\n    });\r\n\r\n    this._api.interceptors.request.use((config) => {\r\n      config.data = qs.stringify(config.data);\r\n      return config;\r\n    });\r\n    this._api.interceptors.response.use(\r\n      async (response: any) => {\r\n        if (response.data.errno === 999900) {\r\n          if (this.token) {\r\n            await localStorage.removeItem(\"h_search\");\r\n            await Api.redirectToLoginScreen(response.data);\r\n          }\r\n        }\r\n        if (\r\n          response.status >= 200 &&\r\n          response.status <= 300 &&\r\n          response.data.error !== 999900\r\n        ) {\r\n          return response.data;\r\n        } else if (response.status >= 400) {\r\n          let data = response.data;\r\n          if (data) {\r\n            message.error(data?.error);\r\n          }\r\n          return data;\r\n        }\r\n      },\r\n      (error) => {\r\n        return {\r\n          errno: 0,\r\n          error: error,\r\n          data: null,\r\n          success: false,\r\n          timestamp: Api.getTimeStamp(),\r\n        };\r\n      }\r\n    );\r\n  }\r\n\r\n  private static getTimeStamp(): string {\r\n    return moment().format(\"x\");\r\n  }\r\n\r\n  static async redirectToLoginScreen(data?: any) {\r\n    message.destroy();\r\n    message.error(`${data.error}，即将跳转回首页`);\r\n    setTimeout(() => {\r\n      window.location.href = data?.url || \"https://ckd.sersmed.cn/login\";\r\n    }, 5000);\r\n  }\r\n\r\n  private async RestfulOperate(\r\n    operate: RestfulOperateType,\r\n    url: string,\r\n    params: any,\r\n    withToken: boolean,\r\n    multipart: boolean\r\n  ): Promise<ApiResult> {\r\n    let response: any;\r\n    const headers: any = {\r\n      Authorization: \"\",\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    };\r\n    if (withToken) {\r\n      headers[\"Authorization\"] = this.token;\r\n    }\r\n    if (multipart) {\r\n      headers[\"Content-Type\"] = \"multipart/form-data\";\r\n    }\r\n    switch (operate) {\r\n      case \"get\":\r\n        response = await this._api.get(url, { params, headers });\r\n        break;\r\n      case \"post\":\r\n        response = await this._api.post(url, params, { headers });\r\n        break;\r\n      case \"put\":\r\n        response = await this._api.put(url, params, { headers });\r\n        break;\r\n      case \"patch\":\r\n        response = await this._api.patch(url, params, { headers });\r\n        break;\r\n      case \"delete\":\r\n        response = await this._api.delete(url, { params, headers });\r\n        break;\r\n      default:\r\n        return {\r\n          errno: 500,\r\n          error: \"请求格式错误\",\r\n          data: null,\r\n          success: false,\r\n          timestamp: Api.getTimeStamp(),\r\n        };\r\n    }\r\n    switch (response.errno) {\r\n      case 0:\r\n        return {\r\n          errno: response.errno,\r\n          error: response.error,\r\n          data: response.data,\r\n          success:\r\n            typeof response.success === \"boolean\" ? response.success : true,\r\n          timestamp: Api.getTimeStamp(),\r\n        };\r\n      case 999900:\r\n        return Promise.reject({\r\n          errno: response.errno,\r\n          error: response.error,\r\n          data: null,\r\n          success: false,\r\n          timestamp: Api.getTimeStamp(),\r\n        });\r\n      default:\r\n        return {\r\n          errno: response.errno,\r\n          error: response.error,\r\n          data: null,\r\n          success: false,\r\n          timestamp: Api.getTimeStamp(),\r\n        };\r\n    }\r\n  }\r\n\r\n  async get(param: ApiParam): Promise<ApiResult> {\r\n    const { url, params = {}, withToken = true } = param;\r\n    return this.RestfulOperate(\"get\", url, params, withToken, false);\r\n  }\r\n\r\n  async post(param: ApiParam): Promise<ApiResult> {\r\n    const { url, params = {}, withToken = true, multipart = false } = param;\r\n    return this.RestfulOperate(\"post\", url, params, withToken, multipart);\r\n  }\r\n\r\n  async put(param: ApiParam): Promise<ApiResult> {\r\n    const { url, params = {}, withToken = true } = param;\r\n    return this.RestfulOperate(\"put\", url, params, withToken, false);\r\n  }\r\n\r\n  async patch(param: ApiParam): Promise<ApiResult> {\r\n    const { url, params = {}, withToken = true } = param;\r\n    return this.RestfulOperate(\"patch\", url, params, withToken, false);\r\n  }\r\n\r\n  async delete(param: ApiParam): Promise<ApiResult> {\r\n    const { url, params = {}, withToken = true } = param;\r\n    return this.RestfulOperate(\"delete\", url, params, withToken, false);\r\n  }\r\n}\r\n","import React, { ReactNode } from \"react\";\r\nimport { Property } from \"csstype\";\r\n\r\ninterface Props {\r\n  name?: string;\r\n  label?: string;\r\n  width?: Property.Width;\r\n  fontWeight?: Property.FontWeight;\r\n  fontSize?: Property.FontSize;\r\n  justifyContent?: Property.JustifyContent;\r\n  status?: string | number;\r\n  children?: ReactNode;\r\n}\r\n\r\nenum statusColor {\r\n  \"#d9d9d9\",\r\n  \"#1abc9c\",\r\n  \"#f5222d\",\r\n}\r\n\r\nexport function FormText(props: Props): React.ReactElement {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: props?.width || \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: props?.justifyContent || \"flex-start\",\r\n        alignItems: \"center\",\r\n        marginBottom: 14,\r\n      }}\r\n    >\r\n      {props?.status === 0 || props?.status ? (\r\n        <div\r\n          style={{\r\n            borderRadius: 50,\r\n            width: 6,\r\n            height: 6,\r\n            marginRight: 6,\r\n            backgroundColor: statusColor[Number(props?.status)],\r\n          }}\r\n        />\r\n      ) : null}\r\n      <div\r\n        style={{\r\n          marginRight: props?.name ? 2 : 0,\r\n          fontSize: props?.fontSize || 14,\r\n          color: \"#666\",\r\n        }}\r\n      >\r\n        {props.label}\r\n        {props?.name || props?.children ? \"：\" : null}\r\n      </div>\r\n      {props?.name ? (\r\n        <div\r\n          style={{\r\n            fontSize: props?.fontSize || 14,\r\n            color: \"#999999\",\r\n            fontWeight: props?.fontWeight || 400,\r\n          }}\r\n        >\r\n          {props.name}\r\n        </div>\r\n      ) : null}\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n","import { Api } from \"./config\";\r\nimport {\r\n  GetPatientListType,\r\n  ImportPatientType,\r\n  ExampleType,\r\n  VisitType,\r\n  FormType,\r\n  PopulationType,\r\n} from \"./types\";\r\n\r\nclass KingApi {\r\n  static async Example(params: ExampleType) {\r\n    return await Api.getInstance.get({\r\n      url: \"/api/research/config/detail\",\r\n      params,\r\n    });\r\n  }\r\n  static async importPatient(params: ImportPatientType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/patient/patient/import\",\r\n      params,\r\n    });\r\n  }\r\n  static async requestPatientList(params?: Partial<GetPatientListType>) {\r\n    return await Api.getInstance.post({\r\n      url: \"/patient/patient/patientList\",\r\n      params,\r\n    });\r\n  }\r\n  static async getDistList(params: ExampleType) {\r\n    return await Api.getInstance.get({\r\n      url: \"/patient/dict/dictList\",\r\n      params,\r\n    });\r\n  }\r\n  static async getStatistics(params?: ExampleType) {\r\n    return await Api.getInstance.get({\r\n      url: \"/project/project/statistics\",\r\n      params,\r\n    });\r\n  }\r\n  /* 查询患者访视 */\r\n  static async visitApi(params: VisitType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getPatientVisit\",\r\n      params,\r\n    });\r\n  }\r\n  /* 查询患者表单 */\r\n  static async formApi(params: FormType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getVisitContent\",\r\n      params,\r\n    });\r\n  }\r\n  /*人口学  */\r\n  static async populationApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getPopulationFeature\",\r\n      params,\r\n    });\r\n  }\r\n  /*生命体征  */\r\n  static async lifeApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getVitalSigns\",\r\n      params,\r\n    });\r\n  }\r\n  /*体格检查  */\r\n  static async physiqueApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/physicalExam\",\r\n      params,\r\n    });\r\n  }\r\n  /*合并治疗  */\r\n  static async mergeApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/combined\",\r\n      params,\r\n    });\r\n  }\r\n  /*不良事件  */\r\n  static async badApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/adverseEvents\",\r\n      params,\r\n    });\r\n  }\r\n  /*实验室检查  */\r\n  static async laboratoryApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/summary\",\r\n      params,\r\n    });\r\n  }\r\n  /*实验室检查同步  */\r\n  static async laboratorySynchronizationApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getLisResult\",\r\n      params,\r\n    });\r\n  }\r\n  /*停止用药  */\r\n  static async stopApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/stopMedicationInfo\",\r\n      params,\r\n    });\r\n  }\r\n  /*治疗史  */\r\n  static async treatmentApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getTreatHistory\",\r\n      params,\r\n    });\r\n  }\r\n  /*疾病史  */\r\n  static async diseaseApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getDiseaseHistory\",\r\n      params,\r\n    });\r\n  }\r\n  /*用药史  */\r\n  static async medicationApi(params: PopulationType) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/getMedicalHistory\",\r\n      params,\r\n    });\r\n  }\r\n  /*人口学保存  */\r\n  static async submitPopulationApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addPopulationFeature\",\r\n      params,\r\n    });\r\n  }\r\n  /*生命体征保存  */\r\n  static async submitLifeApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addVitalSigns\",\r\n      params,\r\n    });\r\n  }\r\n  /*体格检验保存  */\r\n  static async submitPhysiqueApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addPhysicalExam\",\r\n      params,\r\n    });\r\n  }\r\n  /*合并治疗保存  */\r\n  static async submitMergeApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addCombined\",\r\n      params,\r\n    });\r\n  }\r\n  /*不良事件保存  */\r\n  static async submitBadApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addAdverseEvents\",\r\n      params,\r\n    });\r\n  }\r\n  /*实验室检查保存  */\r\n  static async submitLaboratoryApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addSummary\",\r\n      params,\r\n    });\r\n  }\r\n  /*停止用药保存 */\r\n  static async submitStopApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addStopMedication\",\r\n      params,\r\n    });\r\n  }\r\n  /*治疗史保存  */\r\n  static async submitTreatmentApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addTreatHistory\",\r\n      params,\r\n    });\r\n  }\r\n  /*用药保存  */\r\n  static async submitMedicationApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addMedicalHistory\",\r\n      params,\r\n    });\r\n  }\r\n  /*疾病史保存  */\r\n  static async submitDiseaseApi(params: any) {\r\n    return await Api.getInstance.post({\r\n      url: \"/project/project/addDiseaseHistory\",\r\n      params,\r\n    });\r\n  }\r\n  static async getDynamic(params?: Partial<GetPatientListType>) {\r\n    return await Api.getInstance.get({\r\n      url: \"/project/project/getDynamic\",\r\n      params,\r\n    });\r\n  }\r\n}\r\nexport { KingApi };\r\n","export const columnsBanner = [\r\n  { name: \"科研项目\", key: \"name\", span: 3 },\r\n  { name: \"科研中心编号\", key: \"project_num\", span: 2 },\r\n  { name: \"入组时间\", key: \"created_at\", span: 1 },\r\n  { name: \"姓名缩写\", key: \"pinyin\", span: 2 },\r\n  { name: \"受试者编号\", key: \"patient_num\", span: 1 },\r\n  { name: \"当前访视\", key: \"current_name\", span: 2 },\r\n  { name: \"访视时间\", key: \"current_time_at\", span: 1 },\r\n];\r\n","export const queryToObj = (url: string): Object => {\r\n  let res: any = {};\r\n  const search = url.substring(1); //去掉前面的“?”\r\n  search.split(\"&\").forEach((paramStr) => {\r\n    const arr = paramStr.split(\"=\");\r\n    const val = arr[1];\r\n    const key = arr[0];\r\n    res[key] = val;\r\n  });\r\n  return res;\r\n};\r\n","import { makeAutoObservable, observable } from \"mobx\";\r\n\r\nexport class PatientDetailStore {\r\n  @observable isRefresh: boolean = false;\r\n  @observable detailId: string | number = \"\";\r\n  @observable tabId: string | number = \"\";\r\n  @observable finishCount?: string = \"\";\r\n  @observable tabTitle?: string = \"\";\r\n  @observable nameId?: string = \"\";\r\n  @observable total?: string = \"\";\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n}\r\n","import { createContext, useContext } from \"react\";\r\nimport { PatientDetailStore } from \"./PatientDetailStore\";\r\n\r\nconst StoreContext = createContext({\r\n  patientDetailStore: new PatientDetailStore(),\r\n});\r\n\r\nexport const useStore = () => useContext(StoreContext);\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { Descriptions, message } from \"antd\";\r\nimport \"./index.scss\";\r\nimport { BaseLineComponent } from \"../../component/BaselineComponent\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { KingApi } from \"../../request/king\";\r\nimport { useLocation, useNavigate } from \"react-router\";\r\nimport { columnsBanner } from \"./config\";\r\nimport { queryToObj } from \"../../toos\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStore } from \"../../store/useStore\";\r\ninterface Props {}\r\n\r\nexport const PatientDetail = observer(\r\n  (props: Partial<Props>): React.ReactElement => {\r\n    const location = useLocation();\r\n    const navigator = useNavigate();\r\n    const { patientDetailStore } = useStore();\r\n    const searchParams: any = queryToObj(location.search);\r\n    const [selected, setSelected] = useState<string | number | null>();\r\n    const [visitData, setVisitData] = useState<any>(); //访视数据\r\n    const [data, setData] = useState<any>({});\r\n    const [tabId, setTabId] = useState<any>(); //访视数据\r\n    const [finishCount, setFinishCount] = useState<any>(); //访视数据\r\n\r\n    useEffect(() => {\r\n      getVisit();\r\n      let data: any = localStorage.getItem(\"patient_data\");\r\n      if (data) {\r\n        setData({ ...JSON.parse(data) });\r\n      }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      window.scrollTo(0, 0);\r\n    }, [location]);\r\n\r\n    useEffect(() => {\r\n      if (patientDetailStore.isRefresh) {\r\n        let params: any = queryToObj(location.search);\r\n        patientDetailStore.isRefresh = false;\r\n        KingApi.visitApi({ id: searchParams?.id }).then((res: any) => {\r\n          if (res.success) {\r\n            setVisitData(res.data);\r\n            let finish = res.data.find((item: any) => selected === item.id);\r\n            navigator(\r\n              `/home/patientDetail/detail?id=${searchParams?.id}&tab_id=${params?.tab_id}&total=${params?.total}&finish_count=${finish?.finish_count}`,\r\n              { replace: true }\r\n            );\r\n          } else {\r\n            message.error(res.error);\r\n          }\r\n        });\r\n      }\r\n    }, [patientDetailStore.isRefresh]);\r\n\r\n    // 获取访视\r\n    const getVisit = () => {\r\n      KingApi.visitApi({ id: searchParams?.id }).then((res: any) => {\r\n        if (res.success) {\r\n          setVisitData(res.data);\r\n          setSelected(res.data[0]?.id);\r\n          patientDetailStore.detailId = searchParams?.id;\r\n          patientDetailStore.tabTitle = res.data[0]?.name.toString();\r\n          patientDetailStore.finishCount = res.data[0]?.finish_count.toString();\r\n          patientDetailStore.total = res.data[0]?.total.toString();\r\n          patientDetailStore.tabId = res.data[0]?.id;\r\n          // navigator(\r\n          //   `detail?id=${searchParams?.id}&tab_id=${res.data[0]?.id}&total=${res.data[0]?.total}&finish_count=${res.data[0]?.finish_count}`\r\n          // );\r\n        } else {\r\n          message.error(res.error);\r\n        }\r\n      });\r\n    };\r\n    const checkBaseline = (params: any) => {\r\n      setFinishCount(params?.finish_count);\r\n      setTabId(params.id);\r\n      patientDetailStore.detailId = searchParams?.id;\r\n      patientDetailStore.tabTitle = params?.name.toString();\r\n      patientDetailStore.finishCount = params?.finish_count.toString();\r\n      patientDetailStore.total = params?.total.toString();\r\n      patientDetailStore.tabId = params?.id;\r\n      // navigator(\r\n      //   `detail?id=${searchParams?.id}&tab_id=${params.id}&total=${params?.total}&finish_count=${params?.finish_count}`\r\n      // );\r\n    };\r\n\r\n    const currentHeaderMemo = useMemo(() => {\r\n      let selectData = visitData?.find((item: any) => item.id === selected);\r\n      if (selectData?.begin_date || selectData?.end_date) {\r\n        data[\r\n          \"current_time_at\"\r\n        ] = `${selectData?.begin_date} ~ ${selectData?.end_date}`;\r\n      } else {\r\n        data[\"current_time_at\"] = \"\";\r\n      }\r\n      data[\"current_name\"] = selectData?.name;\r\n      return (\r\n        <Descriptions bordered>\r\n          {columnsBanner.map((item, index) => {\r\n            return (\r\n              <Descriptions.Item\r\n                key={index}\r\n                labelStyle={{\r\n                  width: 200,\r\n                  backgroundColor: \"#f5f5f5\",\r\n                  textAlign: \"end\",\r\n                }}\r\n                style={{ height: 51 }}\r\n                label={item.name + \"：\"}\r\n                span={item.span}\r\n              >\r\n                {data[item.key]}\r\n              </Descriptions.Item>\r\n            );\r\n          })}\r\n        </Descriptions>\r\n      );\r\n    }, [data, selected]);\r\n\r\n    return (\r\n      <div className=\"patientDetail\">\r\n        {currentHeaderMemo}\r\n        <div className=\"sider\">\r\n          <div style={{ minWidth: 200 }}>\r\n            {visitData && Array.isArray(visitData) && visitData.length\r\n              ? visitData.map((item, index) => {\r\n                  return (\r\n                    <BaseLineComponent\r\n                      key={item.id}\r\n                      name={item.name}\r\n                      selected={selected === item.id}\r\n                      done={item.finish_count ? item.finish_count : 0}\r\n                      total={item.total ? item.total : 0}\r\n                      month={[item.begin_date, item.end_date]}\r\n                      onClick={() => {\r\n                        setSelected(item.id);\r\n                        checkBaseline(item);\r\n                      }}\r\n                    />\r\n                  );\r\n                })\r\n              : null}\r\n          </div>\r\n          <Outlet />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","export const populationDatas=[\r\n  {\r\n    name:'出生日期：',\r\n    keys:'birthday',\r\n    id:1,\r\n    types:'date',\r\n  },\r\n  {\r\n    name:'性别：',\r\n    keys:'gender',\r\n    id:2,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'男',\r\n        id:3,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'女',\r\n        id:4,\r\n        value:2,\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name:'民族：',\r\n    keys:'nation',\r\n    id:5,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'汉族',\r\n        id:6,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'其他，请说明',\r\n        value:2,\r\n        id:7,\r\n        types:'input',\r\n        children:{\r\n          keys:'nation_other',\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name:'婚否：',\r\n    keys:'marriage',\r\n    id:8,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'是',\r\n        id:9,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'否',\r\n        id:10,\r\n        value:0,\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name:'身高：',\r\n    keys:'height',\r\n    id:11,\r\n    types:'inputNumber',\r\n  },\r\n  {\r\n    name:'体重：',\r\n    keys:'weight',\r\n    id:12,\r\n    types:'inputNumber',\r\n  },\r\n  {\r\n    name:'重要病史：',\r\n    id:13,\r\n    keys:'import_sickness_history',\r\n    types:'textArea',\r\n  },\r\n  {\r\n    name:'药物过敏史：',\r\n    keys:'drug_allergy_history',\r\n    id:14,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'无',\r\n        id:15,\r\n        value:0,\r\n      },\r\n      {\r\n        name:'有，若有，请说明',\r\n        value:1,\r\n        id:16,\r\n        types:'input',\r\n        children:{\r\n          keys:'drug_allergy_history_specific',\r\n          id:17,\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name:'医疗费用来源：',\r\n    keys:'expenses_source',\r\n    id:18,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'公费',\r\n        id:19,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'基本医疗保险',\r\n        id:20,\r\n        value:2,\r\n      },\r\n      {\r\n        name:'商业保险',\r\n        id:21,\r\n        value:3,\r\n      },\r\n      {\r\n        name:'农村合作医疗',\r\n        id:22,\r\n        value:4,\r\n      },\r\n      {\r\n        name:'自费',\r\n        id:23,\r\n        value:5,\r\n      },\r\n      {\r\n        name:'其他',\r\n        id:24,\r\n        value:6,\r\n      },\r\n    ]\r\n  },\r\n]\r\nexport const lifeDatas=[\r\n  {\r\n    name:'体温：',\r\n    keys:'temperature',\r\n    id:1,\r\n    types:'inputNumber',\r\n  },\r\n  {\r\n    name:'呼吸：',\r\n    keys:'breathe_num',\r\n    id:2,\r\n    types:'inputNumber',\r\n  },\r\n  {\r\n    name:'心率：',\r\n    keys:'heart_rate',\r\n    id:3,\r\n    types:'inputNumber',\r\n  },\r\n  {\r\n    name:'血压：',\r\n    keys:'sbp',\r\n    id:4,\r\n    types:'inputNumber',\r\n  },\r\n]\r\nexport const physiqueDatas=[\r\n  {\r\n    name:'皮肤、粘膜：',\r\n    keys:'skin_mucosa',\r\n    id:1,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:2,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:3,\r\n        types:'input',\r\n        children:{\r\n          keys:'skin_mucosa_abnormal',\r\n          id:4,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:5,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'淋巴结：',\r\n    keys:'lymph_gland',\r\n    id:6,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:7,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:8,\r\n        types:'input',\r\n        children:{\r\n          keys:'lymph_gland_abnormal',\r\n          id:9,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:10,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'头颈部：',\r\n    keys:'neck',\r\n    id:11,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:12,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:13,\r\n        types:'input',\r\n        children:{\r\n          keys:'neck_gland_abnormal',\r\n          id:14,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:15,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'胸部：',\r\n    keys:'chest',\r\n    id:16,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:17,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:18,\r\n        types:'input',\r\n        children:{\r\n          keys:'chest_abnormal',\r\n          id:19,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:20,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'腹部：',\r\n    keys:'abdomen',\r\n    id:21,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:22,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:23,\r\n        types:'input',\r\n        children:{\r\n          keys:'abdomen_abnormal',\r\n          id:24,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:25,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'脊柱：',\r\n    keys:'spine',\r\n    id:26,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:27,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:28,\r\n        types:'input',\r\n        children:{\r\n          keys:'spine_abnormal',\r\n          id:29,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:30,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'肌肉骨骼：',\r\n    keys:'musculoskeletal',\r\n    id:31,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:32,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:33,\r\n        types:'input',\r\n        children:{\r\n          keys:'musculoskeletal_abnormal',\r\n          id:34,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:35,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'神经系统：',\r\n    keys:'nervous_system',\r\n    id:36,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:37,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:38,\r\n        types:'input',\r\n        children:{\r\n          keys:'nervous_system_abnormal',\r\n          id:39,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:40,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'其他：',\r\n    keys:'other',\r\n    id:41,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'正常',\r\n        id:42,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'异常，异常情况描述',\r\n        value:2,\r\n        id:43,\r\n        types:'input',\r\n        children:{\r\n          keys:'other_abnormal',\r\n          id:44,\r\n        }\r\n      },\r\n      {\r\n        name:'未查',\r\n        id:45,\r\n        value:3,\r\n      },\r\n    ]\r\n  },\r\n]\r\nexport const badDatas=[\r\n  {\r\n    name:'不良事件名称：',\r\n    keys:'name',\r\n    id:1,\r\n    types:'input',\r\n  },\r\n  {\r\n    name:'开始发生日期（年/月/日）：',\r\n    keys:'start_date',\r\n    id:2,\r\n    types:'date',\r\n  },\r\n  {\r\n    name:'终止日期（年/月/日）：',\r\n    keys:'end_date',\r\n    id:3,\r\n    types:'date',\r\n  },\r\n  {\r\n    name:'严重程度：',\r\n    keys:'severity_id',\r\n    id:4,\r\n    transverse:true,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'轻',\r\n        id:5,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'中',\r\n        id:6,\r\n        value:2,\r\n      },\r\n      {\r\n        name:'重',\r\n        id:7,\r\n        value:3,\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    name:'采取措施：',\r\n    keys:'measure_id',\r\n    id:8,\r\n    transverse:false,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'无任何措施',\r\n        id:9,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'暂停用药/剂量调整',\r\n        id:10,\r\n        value:2,\r\n      },\r\n      {\r\n        name:'中止试验',\r\n        id:11,\r\n        value:3,\r\n      },\r\n      {\r\n        name:'采取合并用药',\r\n        id:12,\r\n        value:4,\r\n      },\r\n      {\r\n        name:'住院或着住院延长',\r\n        id:13,\r\n        value:5,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'与研究药物的关系：',\r\n    keys:'medicine_id',\r\n    id:14,\r\n    transverse:false,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'肯定',\r\n        id:15,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'很可能',\r\n        id:16,\r\n        value:2,\r\n      },\r\n      {\r\n        name:'可能',\r\n        id:17,\r\n        value:3,\r\n      },\r\n      {\r\n        name:'可能无关',\r\n        id:18,\r\n        value:4,\r\n      },\r\n      {\r\n        name:'肯定无关',\r\n        id:19,\r\n        value:5,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'是否严重不良事件：',\r\n    keys:'serious_id',\r\n    id:20,\r\n    transverse:true,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'是',\r\n        id:21,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'否',\r\n        id:22,\r\n        value:0,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'不良事件的结局（在不良事件终止或研究结束时填写此栏）：',\r\n    keys:'end_id',\r\n    id:23,\r\n    transverse:false,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'痊愈',\r\n        id:24,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'缓解',\r\n        id:25,\r\n        value:2,\r\n      },\r\n      {\r\n        name:'无改变',\r\n        id:26,\r\n        value:3,\r\n      },\r\n      {\r\n        name:'加重',\r\n        id:27,\r\n        value:4,\r\n      },\r\n      {\r\n        name:'死亡',\r\n        id:28,\r\n        value:5,\r\n      },\r\n      {\r\n        name:'失访',\r\n        id:29,\r\n        value:6,\r\n      },\r\n    ]\r\n  },\r\n  {\r\n    name:'不良事件补充说明：',\r\n    id:30,\r\n    keys:'explain',\r\n    types:'textArea',\r\n  },\r\n]","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport {\r\n  Descriptions,\r\n  DatePicker,\r\n  Radio,\r\n  Input,\r\n  InputNumber,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  message,\r\n} from \"antd\";\r\nimport moment from \"moment\";\r\nimport \"./index.scss\";\r\nimport { populationDatas, lifeDatas, physiqueDatas, badDatas } from \"./datas\";\r\nimport { KingApi } from \"../../../../../request/king\";\r\nconst { TextArea } = Input;\r\ninterface IProps {\r\n  orTab: number;\r\n  patientVisitId: number | null | undefined;\r\n  currentRefresh: () => void;\r\n  preservation: boolean;\r\n  setPreservation: Function;\r\n}\r\n/* 人口学特征----生命体征-----体格检查---合并治疗----不良事件 */\r\nexport const Demographics: React.FC<IProps> = (props) => {\r\n  const [orTab, setorTab] = useState<number>(); //传过来的值 1--人口学特征 2----生命体征 3---体格检查 4----合并治疗 5---不良事件\r\n  const [data, setData] = useState<any>({});\r\n  const [orInquiry, setOrInquiry] = useState<boolean>(false); //是否为质询\r\n  const [quickData, setquickData] = useState<any>(); //快捷键数据\r\n  const [sonPatientVisitId, setsonPatientVisitId] = useState<\r\n    number | null | undefined\r\n  >();\r\n  useEffect(() => {\r\n    setorTab(props.orTab);\r\n    if (props.preservation) {\r\n      submit(props.orTab);\r\n    }\r\n    if (props.patientVisitId) {\r\n      if (props.patientVisitId !== sonPatientVisitId || orTab !== props.orTab) {\r\n        setsonPatientVisitId(props.patientVisitId);\r\n        getData(props.orTab);\r\n        if (props.orTab === 4) {\r\n          quick();\r\n        }\r\n      }\r\n    }\r\n    return () => {\r\n      setorTab(0);\r\n      setOrInquiry(false);\r\n    };\r\n  }, [props.orTab, props.preservation, props.patientVisitId]);\r\n\r\n  // 查询\r\n  const getData = (orTab: number) => {\r\n    switch (orTab) {\r\n      case 1:\r\n        KingApi.populationApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setData(res.data);\r\n              } else {\r\n                setData({});\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n      case 2:\r\n        KingApi.lifeApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setData(res.data);\r\n              } else {\r\n                setData({});\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n      case 3:\r\n        KingApi.physiqueApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setData(res.data);\r\n              } else {\r\n                setData({});\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n      case 4:\r\n        KingApi.mergeApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setData(res.data);\r\n              } else {\r\n                setData({});\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n      case 5:\r\n        KingApi.badApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setData(res.data);\r\n              } else {\r\n                setData({});\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n    }\r\n  };\r\n  /* 获取合并治疗快捷选项 */\r\n  const quick = () => {\r\n    KingApi.getDistList({}).then((res) => {\r\n      if (res.success) {\r\n        if (res.data && res.data.config_treatment_plan) {\r\n          setquickData(res.data.config_treatment_plan);\r\n        }\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n  // 提交\r\n  const submit = (orTab: number) => {\r\n    switch (orTab) {\r\n      case 1:\r\n        KingApi.submitPopulationApi({\r\n          ...data,\r\n          visit_content_id: props.patientVisitId,\r\n        }).then((res) => {\r\n          if (res.success) {\r\n            message.success(res.error);\r\n            props.currentRefresh();\r\n          } else {\r\n            message.error(res.error);\r\n          }\r\n        });\r\n        break;\r\n      case 2:\r\n        KingApi.submitLifeApi({\r\n          ...data,\r\n          visit_content_id: props.patientVisitId,\r\n        }).then((res) => {\r\n          if (res.success) {\r\n            message.success(res.error);\r\n            props.currentRefresh();\r\n          } else {\r\n            message.error(res.error);\r\n          }\r\n        });\r\n        break;\r\n      case 3:\r\n        KingApi.submitPhysiqueApi({\r\n          ...data,\r\n          visit_content_id: props.patientVisitId,\r\n        }).then((res) => {\r\n          if (res.success) {\r\n            message.success(res.error);\r\n            props.currentRefresh();\r\n          } else {\r\n            message.error(res.error);\r\n          }\r\n        });\r\n        break;\r\n      case 4:\r\n        KingApi.submitMergeApi({\r\n          ...data,\r\n          visit_content_id: props.patientVisitId,\r\n        }).then((res) => {\r\n          if (res.success) {\r\n            message.success(res.error);\r\n            props.currentRefresh();\r\n          } else {\r\n            message.error(res.error);\r\n          }\r\n        });\r\n        break;\r\n      case 5:\r\n        KingApi.submitBadApi({\r\n          ...data,\r\n          visit_content_id: props.patientVisitId,\r\n        }).then((res) => {\r\n          if (res.success) {\r\n            message.success(res.error);\r\n            props.currentRefresh();\r\n          } else {\r\n            message.error(res.error);\r\n          }\r\n        });\r\n        break;\r\n    }\r\n    props.setPreservation(false);\r\n  };\r\n  // 修改事件\r\n  const dataChange = (val: any, keys: string, type: number) => {\r\n    const _data: any = { ...data };\r\n    if (type === 1) {\r\n      if(keys==='temperature'){\r\n        if(val>=100){\r\n          return\r\n        }else{\r\n          _data[keys] = val.toFixed(1);\r\n        }\r\n      }else if(keys==='breathe_num'){\r\n        if(val>=100){\r\n          return\r\n        }else{\r\n          _data[keys] = parseInt(val);\r\n        }\r\n      }else if(keys==='heart_rate'||keys==='dbp'||keys==='sbp'){\r\n        if(val>=1000){\r\n          return\r\n        }else{\r\n          _data[keys] = parseInt(val);\r\n        }\r\n      }else{\r\n        _data[keys] = val;\r\n      }\r\n    } else if (type === 2) {\r\n      if(_data.nation_other){\r\n        _data.nation_other=''\r\n      }\r\n      if(_data.drug_allergy_history_specific){\r\n        _data.drug_allergy_history_specific=''\r\n      }\r\n      if(_data.skin_mucosa_abnormal){\r\n        _data.skin_mucosa_abnormal=''\r\n      }\r\n      _data[keys] = val.target.value;\r\n    } else if (type === 3) {\r\n      _data[keys] = moment(val).format(\"YYYY-MM-DD\");\r\n    }\r\n\r\n    setData(_data);\r\n  };\r\n  // 基础信息查询\r\n  return (\r\n    <div className=\"demographics\">\r\n      <button\r\n        onClick={() => setOrInquiry(false)}\r\n        style={{\r\n          backgroundColor: orInquiry ? \"#fafafa\" : \"#fff\",\r\n          color: orInquiry ? \"\" : \"#1abc9c\",\r\n          marginBottom: 3,\r\n          marginRight: 3,\r\n        }}\r\n      >\r\n        {orTab === 1\r\n          ? \"人口统计学信息\"\r\n          : orTab === 2\r\n          ? \"生命体征\"\r\n          : orTab === 3\r\n          ? \"体格检查\"\r\n          : orTab === 4\r\n          ? \"合并治疗\"\r\n          : orTab === 5\r\n          ? \"不良事件\"\r\n          : null}\r\n      </button>\r\n      {/* <button\r\n        onClick={() => setOrInquiry(true)}\r\n        style={{\r\n          backgroundColor: orInquiry ? \"#fff\" : \"#fafafa\",\r\n          color: orInquiry ? \"#1abc9c\" : \"\",\r\n        }}\r\n      >\r\n        质询\r\n      </button> */}\r\n      {orInquiry ? null : (\r\n        <div>\r\n          {orTab === 1 ? (\r\n            <Descriptions\r\n              labelStyle={{ width: \"20%\" }}\r\n              bordered\r\n              style={{ backgroundColor: \"#fff\" }}\r\n            >\r\n              {populationDatas &&\r\n              Array.isArray(populationDatas) &&\r\n              populationDatas.length\r\n                ? populationDatas.map((item) => {\r\n                    if (item.types === \"date\") {\r\n                      let date: any =\r\n                        data && data[item.keys]\r\n                          ? moment(data[item.keys]).format(\"YYYY-MM-DD\")\r\n                          : null;\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <DatePicker\r\n                            allowClear={false}\r\n                            value={date ? moment(date) : null}\r\n                            onChange={(date, dateString) =>\r\n                              dataChange(dateString, item.keys, 3)\r\n                            }\r\n                          />\r\n                        </Descriptions.Item>\r\n                      );\r\n                    } else if (item.types === \"radio\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <Radio.Group\r\n                            value={\r\n                              data && data[item.keys]\r\n                                ? data[item.keys]\r\n                                : data && data[item.keys] === 0\r\n                                ? data[item.keys]\r\n                                : null\r\n                            }\r\n                            onChange={(e) => dataChange(e, item.keys, 2)}\r\n                          >\r\n                            {item.children &&\r\n                            Array.isArray(item.children) &&\r\n                            item.children.length\r\n                              ? item.children.map((item2) => {\r\n                                  if (item2.types && item2.children) {\r\n                                    if (item.name === \"民族：\") {\r\n                                      return (\r\n                                        <Radio\r\n                                          key={item2.id}\r\n                                          value={item2.value}\r\n                                        >\r\n                                          {item2.name}\r\n                                          {data &&\r\n                                          data[item.keys] &&\r\n                                          data[item.keys] === 2 ? (\r\n                                            <Input\r\n                                              style={{ width: \"200px\" }}\r\n                                              value={\r\n                                                data &&\r\n                                                data[item2.children?.keys]\r\n                                              }\r\n                                              onChange={(e) =>\r\n                                                dataChange(\r\n                                                  e,\r\n                                                  item2.children.keys,\r\n                                                  2\r\n                                                )\r\n                                              }\r\n                                            />\r\n                                          ) : null}\r\n                                        </Radio>\r\n                                      );\r\n                                    } else {\r\n                                      return (\r\n                                        <Radio\r\n                                          key={item2.id}\r\n                                          value={item2.value}\r\n                                        >\r\n                                          {item2.name}\r\n                                          {data &&\r\n                                          data[item.keys] &&\r\n                                          data[item.keys] === 1 ? (\r\n                                            <Input\r\n                                              style={{ width: \"200px\" }}\r\n                                              value={\r\n                                                data &&\r\n                                                data[item2.children?.keys]\r\n                                              }\r\n                                              onChange={(e) =>\r\n                                                dataChange(\r\n                                                  e,\r\n                                                  item2.children.keys,\r\n                                                  2\r\n                                                )\r\n                                              }\r\n                                            />\r\n                                          ) : null}\r\n                                        </Radio>\r\n                                      );\r\n                                    }\r\n                                  } else {\r\n                                    return (\r\n                                      <Radio key={item2.id} value={item2.value}>\r\n                                        {item2.name}\r\n                                      </Radio>\r\n                                    );\r\n                                  }\r\n                                })\r\n                              : null}\r\n                          </Radio.Group>\r\n                        </Descriptions.Item>\r\n                      );\r\n                    } else if (item.types === \"textArea\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <TextArea\r\n                            value={\r\n                              data && data[item.keys] ? data[item.keys] : null\r\n                            }\r\n                            onChange={(e) => dataChange(e, item.keys, 2)}\r\n                          />\r\n                        </Descriptions.Item>\r\n                      );\r\n                    } else if (item.types === \"inputNumber\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          {item.name === \"身高：\" ? (\r\n                            <div>\r\n                              <InputNumber\r\n                                value={\r\n                                  data && data[item.keys]\r\n                                    ? data[item.keys]\r\n                                    : null\r\n                                }\r\n                                onChange={(val) =>\r\n                                  dataChange(val, item.keys, 1)\r\n                                }\r\n                                style={{ width: 200 }}\r\n                              />\r\n                              厘米\r\n                            </div>\r\n                          ) : item.name === \"体重：\" ? (\r\n                            <div>\r\n                              <InputNumber\r\n                                value={\r\n                                  data && data[item.keys]\r\n                                    ? data[item.keys]\r\n                                    : null\r\n                                }\r\n                                onChange={(val) =>\r\n                                  dataChange(val, item.keys, 1)\r\n                                }\r\n                                style={{ width: 200 }}\r\n                              />\r\n                              公斤\r\n                            </div>\r\n                          ) : (\r\n                            <InputNumber\r\n                              value={\r\n                                data && data[item.keys] ? data[item.keys] : null\r\n                              }\r\n                              onChange={(val) => dataChange(val, item.keys, 1)}\r\n                            />\r\n                          )}\r\n                        </Descriptions.Item>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </Descriptions>\r\n          ) : orTab === 2 ? (\r\n            <Descriptions\r\n              labelStyle={{ width: \"20%\" }}\r\n              bordered\r\n              style={{ backgroundColor: \"#fff\" }}\r\n            >\r\n              {lifeDatas && Array.isArray(lifeDatas) && lifeDatas.length\r\n                ? lifeDatas.map((item) => {\r\n                    if (item.types === \"inputNumber\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          {item.name === \"体温：\" ? (\r\n                            <div>\r\n                              <InputNumber\r\n                                min={0}\r\n                                value={\r\n                                  data && data[item.keys]\r\n                                    ? data[item.keys]\r\n                                    : null\r\n                                }\r\n                                onChange={(val) =>\r\n                                  dataChange(val, item.keys, 1)\r\n                                }\r\n                                style={{ width: 200 }}\r\n                              />\r\n                              ℃\r\n                            </div>\r\n                          ) : item.name === \"呼吸：\" ? (\r\n                            <div>\r\n                              <InputNumber\r\n                                min={0}\r\n                                value={\r\n                                  data && data[item.keys]\r\n                                    ? data[item.keys]\r\n                                    : null\r\n                                }\r\n                                onChange={(val) =>\r\n                                  dataChange(val, item.keys, 1)\r\n                                }\r\n                                style={{ width: 200 }}\r\n                              />\r\n                              次/分\r\n                            </div>\r\n                          ) : item.name === \"心率：\" ? (\r\n                            <div>\r\n                              <InputNumber\r\n                                min={0}\r\n                                value={\r\n                                  data && data[item.keys]\r\n                                    ? data[item.keys]\r\n                                    : null\r\n                                }\r\n                                onChange={(val) =>\r\n                                  dataChange(val, item.keys, 1)\r\n                                }\r\n                                style={{ width: 200 }}\r\n                              />\r\n                              次/分\r\n                            </div>\r\n                          ) : item.name === \"血压：\" ? (\r\n                            <div>\r\n                              <InputNumber\r\n                                min={0}\r\n                                value={\r\n                                  data && data[item.keys]\r\n                                    ? data[item.keys]\r\n                                    : null\r\n                                }\r\n                                onChange={(val) =>\r\n                                  dataChange(val, item.keys, 1)\r\n                                }\r\n                                style={{ width: 100 }}\r\n                              />\r\n                              <span style={{ margin: \"auto 10px\" }}>/</span>\r\n                              <InputNumber\r\n                                min={0}\r\n                                value={data && data.dbp ? data.dbp : null}\r\n                                onChange={(val) => dataChange(val, \"dbp\", 1)}\r\n                                style={{ width: 100 }}\r\n                              />\r\n                              mmHg\r\n                            </div>\r\n                          ) : (\r\n                            <InputNumber\r\n                              min={0}\r\n                              value={\r\n                                data && data[item.keys] ? data[item.keys] : null\r\n                              }\r\n                              onChange={(val) => dataChange(val, item.keys, 1)}\r\n                            />\r\n                          )}\r\n                        </Descriptions.Item>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </Descriptions>\r\n          ) : orTab === 3 ? (\r\n            <Descriptions\r\n              labelStyle={{ width: \"20%\" }}\r\n              bordered\r\n              style={{ backgroundColor: \"#fff\" }}\r\n            >\r\n              {physiqueDatas &&\r\n              Array.isArray(physiqueDatas) &&\r\n              physiqueDatas.length\r\n                ? physiqueDatas.map((item) => {\r\n                    if (item.types === \"radio\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <Radio.Group\r\n                            value={\r\n                              data && data[item.keys] ? data[item.keys] : null\r\n                            }\r\n                            onChange={(e) => dataChange(e, item.keys, 2)}\r\n                          >\r\n                            <Space direction=\"vertical\">\r\n                              {item.children &&\r\n                              Array.isArray(item.children) &&\r\n                              item.children.length\r\n                                ? item.children.map((item2) => {\r\n                                    if (item2.types && item2.children) {\r\n                                      return (\r\n                                        <Radio\r\n                                          key={item2.id}\r\n                                          value={item2.value}\r\n                                        >\r\n                                          {item2.name}\r\n                                          {data &&\r\n                                          data[item.keys] &&\r\n                                          data[item.keys] === 2 ? (\r\n                                            <Input\r\n                                              style={{ width: \"300px\" }}\r\n                                              onChange={(e) =>\r\n                                                dataChange(\r\n                                                  e,\r\n                                                  item2.children.keys,\r\n                                                  2\r\n                                                )\r\n                                              }\r\n                                              value={\r\n                                                data &&\r\n                                                data[item2.children?.keys]\r\n                                                  ? data[item2.children?.keys]\r\n                                                  : null\r\n                                              }\r\n                                            />\r\n                                          ) : null}\r\n                                        </Radio>\r\n                                      );\r\n                                    } else {\r\n                                      return (\r\n                                        <Radio\r\n                                          key={item2.id}\r\n                                          value={item2.value}\r\n                                        >\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    }\r\n                                  })\r\n                                : null}\r\n                            </Space>\r\n                          </Radio.Group>\r\n                        </Descriptions.Item>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </Descriptions>\r\n          ) : orTab === 4 ? (\r\n            <Row style={{ backgroundColor: \"#fff\", minHeight: 350 }}>\r\n              <Col span={4}>\r\n                <span style={{ float: \"right\" }}>本次治疗方案：</span>\r\n              </Col>\r\n              <Col span={16}>\r\n                <TextArea\r\n                  rows={12}\r\n                  value={data && data.content ? data.content : null}\r\n                  onChange={(e) => dataChange(e, \"content\", 2)}\r\n                />\r\n                {quickData && Array.isArray(quickData) && quickData.length\r\n                  ? quickData.map((item, index) => {\r\n                      return (\r\n                        <button\r\n                          onClick={() => dataChange(item.text, \"content\", 1)}\r\n                          key={item.id}\r\n                          style={{\r\n                            backgroundColor: \"#fff\",\r\n                            width: 100,\r\n                            height: 35,\r\n                            marginTop: 20,\r\n                            marginRight: 20,\r\n                            border: \"1px solid #797979\",\r\n                          }}\r\n                        >\r\n                          快捷选项名{index + 1}\r\n                        </button>\r\n                      );\r\n                    })\r\n                  : null}\r\n              </Col>\r\n              <Col span={4}></Col>\r\n            </Row>\r\n          ) : orTab === 5 ? (\r\n            <Descriptions\r\n              labelStyle={{ width: \"20%\" }}\r\n              bordered\r\n              style={{ backgroundColor: \"#fff\" }}\r\n            >\r\n              {badDatas && Array.isArray(badDatas) && badDatas.length\r\n                ? badDatas.map((item) => {\r\n                    if (item.types === \"date\") {\r\n                      let date: any =\r\n                        data && data[item.keys]\r\n                          ? moment(data[item.keys]).format(\"YYYY-MM-DD\")\r\n                          : null;\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <DatePicker\r\n                            allowClear={false}\r\n                            value={date ? moment(date) : null}\r\n                            onChange={(date, dateString) =>\r\n                              dataChange(dateString, item.keys, 3)\r\n                            }\r\n                          />\r\n                        </Descriptions.Item>\r\n                      );\r\n                    } else if (item.types === \"radio\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          {item.transverse ? (\r\n                            <Radio.Group\r\n                              value={\r\n                                data && data[item.keys]\r\n                                  ? data[item.keys]\r\n                                  : data && data[item.keys] === 0\r\n                                  ? data[item.keys]\r\n                                  : null\r\n                              }\r\n                              onChange={(e) => dataChange(e, item.keys, 2)}\r\n                            >\r\n                              {item.children &&\r\n                              Array.isArray(item.children) &&\r\n                              item.children.length\r\n                                ? item.children.map((item2) => {\r\n                                    return (\r\n                                      <Radio key={item2.id} value={item2.value}>\r\n                                        {item2.name}\r\n                                      </Radio>\r\n                                    );\r\n                                  })\r\n                                : null}\r\n                            </Radio.Group>\r\n                          ) : (\r\n                            <Radio.Group\r\n                              value={\r\n                                data && data[item.keys]\r\n                                  ? data[item.keys]\r\n                                  : data && data[item.keys] === 0\r\n                                  ? data[item.keys]\r\n                                  : null\r\n                              }\r\n                              onChange={(e) => dataChange(e, item.keys, 2)}\r\n                            >\r\n                              <Space direction=\"vertical\">\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2) => {\r\n                                      return (\r\n                                        <Radio\r\n                                          key={item2.id}\r\n                                          value={item2.value}\r\n                                        >\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Space>\r\n                            </Radio.Group>\r\n                          )}\r\n                        </Descriptions.Item>\r\n                      );\r\n                    } else if (item.types === \"textArea\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <TextArea\r\n                            value={\r\n                              data && data[item.keys] ? data[item.keys] : null\r\n                            }\r\n                            onChange={(e) => dataChange(e, item.keys, 2)}\r\n                          />\r\n                        </Descriptions.Item>\r\n                      );\r\n                    } else if (item.types === \"input\") {\r\n                      return (\r\n                        <Descriptions.Item\r\n                          key={item.id}\r\n                          label={item.name}\r\n                          span={3}\r\n                        >\r\n                          <Input\r\n                            value={\r\n                              data && data[item.keys] ? data[item.keys] : null\r\n                            }\r\n                            onChange={(e) => dataChange(e, item.keys, 2)}\r\n                          />\r\n                        </Descriptions.Item>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </Descriptions>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export const bloodDatas=[\r\n  {\r\n    isTitle:true,\r\n    name:'化检指标',\r\n    name1:'测量结果',\r\n    name2:'临床意义判定',\r\n    id:1,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'血常规检查日期：',\r\n    name1:'date',\r\n    keys1:'inspect_date',\r\n    name2:'',\r\n    keys2:'',\r\n    id:2,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'红细胞（×10^12/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:3,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'血红蛋白（g/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:4,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'白细胞（×10^9/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:5,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'血小板（×10^9/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:6,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'HCT（%）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:7,\r\n  },\r\n]\r\nexport const urineDatas=[\r\n  {\r\n    isTitle:true,\r\n    name:'化检指标',\r\n    name1:'测量结果',\r\n    name2:'临床意义判定',\r\n    id:1,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'尿常规检查日期：',\r\n    name1:'date',\r\n    keys1:'inspect_date',\r\n    name2:'',\r\n    keys2:'',\r\n    id:2,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'尿白细胞（个/HP）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:3,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'尿红细胞（个/HP）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:4,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'24小时尿蛋白（g/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:5,\r\n  },\r\n]\r\nexport const biochemistryDatas=[\r\n  {\r\n    isTitle:true,\r\n    name:'化检指标',\r\n    name1:'测量结果',\r\n    name2:'临床意义判定',\r\n    id:1,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'生化检查日期：',\r\n    name1:'date',\r\n    keys1:'inspect_date',\r\n    name2:'',\r\n    keys2:'',\r\n    id:2,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'ALT（U/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:3,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'AST（U/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:4,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'TBil（UMOL/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:5,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'BUN（mmol/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:6,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'血清肌酐sCr（umol/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:7,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'血浆白蛋白（g/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:8,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'血浆球蛋白（g/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:9,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'尿酸（umol/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:10,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'甘油三酯（mmol/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:11,\r\n  },\r\n  {\r\n    isTitle:false,\r\n    name:'胆固醇（mmol/L）：',\r\n    name1:'input',\r\n    keys1:'111',\r\n    name2:'radio',\r\n    keys2:'111',\r\n    children:[{name:'1 正常',value:1},{name:'2 异常无临床意义',value:2},{name:'3 异常且有临床意义',value:3},{name:'4 未查',value:4}],\r\n    id:12,\r\n  },\r\n]","import React, { useState, useEffect } from \"react\";\r\nimport { DatePicker, Radio, Input, InputNumber, message, Row, Col } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { KingApi } from \"../../../../../request/king\";\r\nimport \"./index.scss\";\r\nimport { bloodDatas, urineDatas, biochemistryDatas } from \"./datas\";\r\ninterface IProps {\r\n  orTab: number;\r\n  patientVisitId: number | null | undefined;\r\n  currentRefresh: () => void;\r\n  preservation: boolean;\r\n  setPreservation: Function;\r\n}\r\n/* 实验室检验 */\r\n/* 血常规数据 */\r\nconst blood = [\r\n  {\r\n    name_code: \"RBC\",\r\n    name: \"红细胞\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"HGB\",\r\n    name: \"血红蛋白\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"WBC\",\r\n    name: \"白细胞\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"PLT\",\r\n    name: \"血小板\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"HCT\",\r\n    name: \"HCT\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n];\r\n/* 尿常规数据 */\r\nconst urine = [\r\n  {\r\n    name_code: \"WBC-F\",\r\n    name: \"尿白细胞\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"RBC-F\",\r\n    name: \"尿红细胞\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"NNADL\",\r\n    name: \"24小时尿蛋白\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n];\r\n/* 血液生化检查 */\r\nconst biochemistry = [\r\n  {\r\n    name_code: \"ALT\",\r\n    name: \"ALT\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"AST\",\r\n    name: \"AST\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"TBil\",\r\n    name: \"TBil\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"BUN\",\r\n    name: \"BUN\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"CREA\",\r\n    name: \"血清肌酐sCr\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"ALB\",\r\n    name: \"血浆白蛋白\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"ALB/GLB\",\r\n    name: \"血浆球蛋白\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"UA\",\r\n    name: \"尿酸\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"TG\",\r\n    name: \"甘油三酯\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n  {\r\n    name_code: \"TCH\",\r\n    name: \"胆固醇\",\r\n    result: null,\r\n    sense_id: null,\r\n  },\r\n];\r\nexport const Laboratory: React.FC<IProps> = (props) => {\r\n  const [orTab, setorTab] = useState<number>(); //传过来的值 1--血常规 2----尿常规 3---血液生化检查\r\n  const [startDate, setStartDate] = useState<string | null | undefined>();\r\n  const [startDateType, setStartDateType] = useState<any>();\r\n  const [data, setData] = useState<any>([]);\r\n  const [orInquiry, setOrInquiry] = useState<boolean>(false); //是否为质询\r\n  const [sonPatientVisitId, setsonPatientVisitId] = useState<\r\n    number | null | undefined\r\n  >();\r\n  useEffect(() => {\r\n    setStartDateType(startDate ? moment(startDate).format(\"YYYY-MM-DD\") : null);\r\n  }, [startDate]);\r\n  useEffect(() => {\r\n    setorTab(props.orTab);\r\n    if (props.preservation) {\r\n      submit(props.orTab);\r\n    }\r\n    if (props.patientVisitId) {\r\n      if (props.patientVisitId !== sonPatientVisitId || orTab !== props.orTab) {\r\n        setsonPatientVisitId(props.patientVisitId);\r\n        getData(props.orTab);\r\n      }\r\n    }\r\n    return () => {\r\n      setorTab(0);\r\n      setOrInquiry(false);\r\n    };\r\n  }, [props.orTab, props.preservation, props.patientVisitId]);\r\n  // 查询\r\n  const getData = (orTab: number) => {\r\n    KingApi.laboratoryApi({ visit_content_id: props.patientVisitId }).then(\r\n      (res) => {\r\n        if (res.success) {\r\n          if (res.data && res.data.report_date) {\r\n            setStartDate(res.data.report_date);\r\n          }\r\n          if (\r\n            res.data &&\r\n            res.data.lis_result &&\r\n            Array.isArray(res.data.lis_result) &&\r\n            res.data.lis_result.length\r\n          ) {\r\n            setData(res.data.lis_result);\r\n          } else {\r\n            setStartDate(null);\r\n            synchronization()\r\n          }\r\n        } else {\r\n          message.error(res.error);\r\n        }\r\n      }\r\n    );\r\n  };\r\n  /* 同步 */\r\n  const synchronization = () => {\r\n    KingApi.laboratorySynchronizationApi({\r\n      visit_content_id: props.patientVisitId,\r\n    }).then((res) => {\r\n      if (res.success) {\r\n        if (res.data && res.data.report_date) {\r\n          setStartDate(res.data.report_date);\r\n        }\r\n        if (\r\n          res.data &&\r\n          res.data.lis_result &&\r\n          Array.isArray(res.data.lis_result) &&\r\n          res.data.lis_result.length\r\n        ) {\r\n          setData(res.data.lis_result);\r\n        } else {\r\n          setStartDate(null);\r\n          if (orTab === 1) {\r\n            setData(JSON.parse(JSON.stringify(blood)));\r\n          } else if (orTab === 2) {\r\n            setData(JSON.parse(JSON.stringify(urine)));\r\n          } else if (orTab === 3) {\r\n            setData(JSON.parse(JSON.stringify(biochemistry)));\r\n          }\r\n        }\r\n        message.success(\"同步成功\");\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n  // 提交\r\n  const submit = (orTab: number) => {\r\n    KingApi.submitLaboratoryApi({\r\n      visit_content_id: props.patientVisitId,\r\n      lis_result: data,\r\n      report_date: startDate,\r\n    }).then((res) => {\r\n      if (res.success) {\r\n        message.success(res.error);\r\n        props.currentRefresh();\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n      props.setPreservation(false);\r\n    });\r\n  };\r\n  // 修改事件\r\n  const dataChange = (val: any, keys: number, type: number) => {\r\n    const _data = [...data];\r\n    if (type === 1) {\r\n      _data[keys].result = val.target.value;\r\n    } else if (type === 2) {\r\n      _data[keys].sense_id = val.target.value;\r\n    }\r\n    setData(_data);\r\n  };\r\n  // 基础信息查询\r\n  return (\r\n    <div className=\"laboratory\">\r\n      <button\r\n        onClick={() => setOrInquiry(false)}\r\n        style={{\r\n          backgroundColor: orInquiry ? \"#fafafa\" : \"#fff\",\r\n          color: orInquiry ? \"\" : \"#1abc9c\",\r\n          marginBottom: 3,\r\n          marginRight: 3,\r\n        }}\r\n      >\r\n        {orTab === 1\r\n          ? \"血常规\"\r\n          : orTab === 2\r\n          ? \"尿常规\"\r\n          : orTab === 3\r\n          ? \"血液生化检查\"\r\n          : null}\r\n      </button>\r\n      {/* <button onClick={()=>setOrInquiry(true)} style={{\r\n        backgroundColor:orInquiry?'#fff':'#fafafa',\r\n        color:orInquiry?'#1abc9c':'',\r\n      }}>质询</button> */}\r\n      <button\r\n        onClick={synchronization}\r\n        style={{\r\n          float: \"right\",\r\n          backgroundColor: \"#1abc9c\",\r\n          color: \"#fff\",\r\n        }}\r\n      >\r\n        手工同步\r\n      </button>\r\n      {orInquiry ? null : (\r\n        <div style={{ backgroundColor: \"#fff\", paddingTop: 50 }}>\r\n          {orTab === 1 ? (\r\n            <div>\r\n              {bloodDatas && Array.isArray(bloodDatas) && bloodDatas.length\r\n                ? bloodDatas.map((item, index) => {\r\n                    if (item.isTitle) {\r\n                      return (\r\n                        <Row className=\"Row\" key={item.id}>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name1}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={16}>\r\n                            {item.name2}\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <Row className=\"Row\" key={item.id}>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name1 === \"date\" ? (\r\n                              <DatePicker\r\n                                allowClear={false}\r\n                                value={\r\n                                  startDateType ? moment(startDateType) : null\r\n                                }\r\n                                onChange={(date, dateString) =>\r\n                                  setStartDate(dateString)\r\n                                }\r\n                              />\r\n                            ) : item.name1 === \"radio\" ? (\r\n                              <Radio.Group\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].sense_id\r\n                                    : null\r\n                                }\r\n                                onChange={(e) => {\r\n                                  dataChange(e, index - 2, 2);\r\n                                }}\r\n                              >\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2, index) => {\r\n                                      return (\r\n                                        <Radio key={index} value={item2.value}>\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Radio.Group>\r\n                            ) : item.name1 === \"input\" ? (\r\n                              <Input\r\n                                style={{ width: \"80%\" }}\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].result\r\n                                    : null\r\n                                }\r\n                                onChange={(val) => {\r\n                                  dataChange(val, index - 2, 1);\r\n                                }}\r\n                              />\r\n                            ) : null}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={16}>\r\n                            {item.name2 === \"date\" ? (\r\n                              <DatePicker\r\n                                allowClear={false}\r\n                                value={\r\n                                  startDateType ? moment(startDateType) : null\r\n                                }\r\n                                onChange={(date, dateString) =>\r\n                                  setStartDate(dateString)\r\n                                }\r\n                              />\r\n                            ) : item.name2 === \"radio\" ? (\r\n                              <Radio.Group\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].sense_id\r\n                                    : null\r\n                                }\r\n                                onChange={(e) => {\r\n                                  dataChange(e, index - 2, 2);\r\n                                }}\r\n                              >\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2, index) => {\r\n                                      return (\r\n                                        <Radio key={index} value={item2.value}>\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Radio.Group>\r\n                            ) : null}\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </div>\r\n          ) : orTab === 2 ? (\r\n            <div>\r\n              {urineDatas && Array.isArray(urineDatas) && urineDatas.length\r\n                ? urineDatas.map((item, index) => {\r\n                    if (item.isTitle) {\r\n                      return (\r\n                        <Row className=\"Row\" key={item.id}>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name1}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={16}>\r\n                            {item.name2}\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <Row className=\"Row\" key={item.id}>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name1 === \"date\" ? (\r\n                              <DatePicker\r\n                                allowClear={false}\r\n                                value={\r\n                                  startDateType ? moment(startDateType) : null\r\n                                }\r\n                                onChange={(date, dateString) =>\r\n                                  setStartDate(dateString)\r\n                                }\r\n                              />\r\n                            ) : item.name1 === \"radio\" ? (\r\n                              <Radio.Group\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].sense_id\r\n                                    : null\r\n                                }\r\n                                onChange={(e) => {\r\n                                  dataChange(e, index - 2, 2);\r\n                                }}\r\n                              >\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2, index) => {\r\n                                      return (\r\n                                        <Radio key={index} value={item2.value}>\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Radio.Group>\r\n                            ) : item.name1 === \"input\" ? (\r\n                              <Input\r\n                                style={{ width: \"80%\" }}\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].result\r\n                                    : null\r\n                                }\r\n                                onChange={(val) => {\r\n                                  dataChange(val, index - 2, 1);\r\n                                }}\r\n                              />\r\n                            ) : null}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={16}>\r\n                            {item.name2 === \"date\" ? (\r\n                              <DatePicker\r\n                                allowClear={false}\r\n                                value={\r\n                                  startDateType ? moment(startDateType) : null\r\n                                }\r\n                                onChange={(date, dateString) =>\r\n                                  setStartDate(dateString)\r\n                                }\r\n                              />\r\n                            ) : item.name2 === \"radio\" ? (\r\n                              <Radio.Group\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].sense_id\r\n                                    : null\r\n                                }\r\n                                onChange={(e) => {\r\n                                  dataChange(e, index - 2, 2);\r\n                                }}\r\n                              >\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2, index) => {\r\n                                      return (\r\n                                        <Radio key={index} value={item2.value}>\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Radio.Group>\r\n                            ) : null}\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </div>\r\n          ) : orTab === 3 ? (\r\n            <div>\r\n              {biochemistryDatas &&\r\n              Array.isArray(biochemistryDatas) &&\r\n              biochemistryDatas.length\r\n                ? biochemistryDatas.map((item, index) => {\r\n                    if (item.isTitle) {\r\n                      return (\r\n                        <Row className=\"Row\" key={item.id}>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name1}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={16}>\r\n                            {item.name2}\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <Row className=\"Row\" key={item.id}>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={4}>\r\n                            {item.name1 === \"date\" ? (\r\n                              <DatePicker\r\n                                allowClear={false}\r\n                                value={\r\n                                  startDateType ? moment(startDateType) : null\r\n                                }\r\n                                onChange={(date, dateString) =>\r\n                                  setStartDate(dateString)\r\n                                }\r\n                              />\r\n                            ) : item.name1 === \"radio\" ? (\r\n                              <Radio.Group\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].sense_id\r\n                                    : null\r\n                                }\r\n                                onChange={(e) => {\r\n                                  dataChange(e, index - 2, 2);\r\n                                }}\r\n                              >\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2, index) => {\r\n                                      return (\r\n                                        <Radio key={index} value={item2.value}>\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Radio.Group>\r\n                            ) : item.name1 === \"input\" ? (\r\n                              <Input\r\n                                style={{ width: \"80%\" }}\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].result\r\n                                    : null\r\n                                }\r\n                                onChange={(val) => {\r\n                                  dataChange(val, index - 2, 1);\r\n                                }}\r\n                              />\r\n                            ) : null}\r\n                          </Col>\r\n                          <Col className=\"tableTd\" span={16}>\r\n                            {item.name2 === \"date\" ? (\r\n                              <DatePicker\r\n                                allowClear={false}\r\n                                value={\r\n                                  startDateType ? moment(startDateType) : null\r\n                                }\r\n                                onChange={(date, dateString) =>\r\n                                  setStartDate(dateString)\r\n                                }\r\n                              />\r\n                            ) : item.name2 === \"radio\" ? (\r\n                              <Radio.Group\r\n                                value={\r\n                                  data && data[index - 2]\r\n                                    ? data[index - 2].sense_id\r\n                                    : null\r\n                                }\r\n                                onChange={(e) => {\r\n                                  dataChange(e, index - 2, 2);\r\n                                }}\r\n                              >\r\n                                {item.children &&\r\n                                Array.isArray(item.children) &&\r\n                                item.children.length\r\n                                  ? item.children.map((item2, index) => {\r\n                                      return (\r\n                                        <Radio key={index} value={item2.value}>\r\n                                          {item2.name}\r\n                                        </Radio>\r\n                                      );\r\n                                    })\r\n                                  : null}\r\n                              </Radio.Group>\r\n                            ) : null}\r\n                          </Col>\r\n                        </Row>\r\n                      );\r\n                    }\r\n                  })\r\n                : null}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Select,\r\n  DatePicker,\r\n  Radio,\r\n  Input,\r\n  Table,\r\n  Checkbox,\r\n  message,\r\n} from \"antd\";\r\nimport moment from \"moment\";\r\nimport { KingApi } from \"../../../../../request/king\";\r\nimport \"./index.scss\";\r\ninterface IProps {\r\n  orTab: number;\r\n  patientVisitId: number | null | undefined;\r\n  preservation: boolean;\r\n  currentRefresh: () => void;\r\n  setPreservation: Function;\r\n}\r\ninterface selectType {\r\n  id: number;\r\n  name: string;\r\n}\r\nconst { Option } = Select;\r\n/* 治疗---用药 */\r\nconst treatment = [\r\n  { is_continue: 0 },\r\n  { is_continue: 0 },\r\n  { is_continue: 0 },\r\n  { is_continue: 0 },\r\n  { is_continue: 0 },\r\n];\r\n/* 疾病 */\r\nconst disease = [{}, {}, {}, {}, {}];\r\nconst diseaseOperation = [{}, {}];\r\n/* 疾病史---治疗史---用药 */\r\nexport const MedicalHistory: React.FC<IProps> = (props) => {\r\n  const [orTab, setorTab] = useState<number>(); //传过来的值 1--疾病史 2----治疗史 3---用药\r\n  const [orInquiry, setOrInquiry] = useState<boolean>(false); //是否为质询\r\n  const [dataSource, setDataSource] = useState<any>(); //数据\r\n  const [radioSelect, setradioSelect] = useState<string | number | null>(); //有无选项\r\n  const [dataSource1, setDataSource1] = useState<any>([{}, {}, {}, {}, {}]); //疾病史---手术\r\n  const [radioSelect1, setradioSelect1] = useState<string | number | null>(); //疾病史---手术---有无选项\r\n  const [selectData, setSelectData] = useState<any>(); //下拉数据\r\n  const [sonPatientVisitId, setsonPatientVisitId] = useState<number | null | undefined>();\r\n  useEffect(() => {\r\n    setorTab(props.orTab);\r\n    if (props.preservation) {\r\n      submit(props.orTab);\r\n    }\r\n    if (props.patientVisitId) {\r\n      if (props.patientVisitId !== sonPatientVisitId || orTab !== props.orTab) {\r\n        setsonPatientVisitId(props.patientVisitId);\r\n        getData(props.orTab);\r\n        quick();\r\n      }\r\n    }\r\n    return () => {\r\n      setorTab(0);\r\n      setOrInquiry(false);\r\n    };\r\n  }, [props.orTab, props.preservation, props.patientVisitId])\r\n  useEffect(()=>{\r\n    if(radioSelect===0){\r\n      if(orTab===2 || orTab===3){\r\n        setDataSource(JSON.parse(JSON.stringify(treatment)));\r\n      }else{\r\n        setDataSource(JSON.parse(JSON.stringify(disease)));\r\n      }\r\n    }\r\n    if(radioSelect1===0){\r\n      setDataSource1(JSON.parse(JSON.stringify(diseaseOperation)));\r\n    }\r\n  },[radioSelect,radioSelect1])\r\n  // 查询\r\n  const getData = (orTab: number) => {\r\n    switch (orTab) {\r\n      case 1:\r\n        KingApi.diseaseApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setradioSelect(res.data.past_disease_history);\r\n                setradioSelect1(res.data.surgical_operation_history);\r\n                if (\r\n                  res.data.sr_disease_past_history &&\r\n                  Array.isArray(res.data.sr_disease_past_history) &&\r\n                  res.data.sr_disease_past_history.length\r\n                ) {\r\n                  if (res.data.sr_disease_past_history.length >= 5) {\r\n                    setDataSource(res.data.sr_disease_past_history);\r\n                  } else {\r\n                    let _data: any = [];\r\n                    JSON.parse(JSON.stringify(disease)).map((item: any, index: number) => {\r\n                      if (res.data.sr_disease_past_history[index]) {\r\n                        _data.push(res.data.sr_disease_past_history[index]);\r\n                      } else {\r\n                        _data.push(item);\r\n                      }\r\n                    });\r\n                    setDataSource(_data);\r\n                  }\r\n                } else {\r\n                  setDataSource(JSON.parse(JSON.stringify(disease)));\r\n                }\r\n                if (\r\n                  res.data.sr_disease_operation_history &&\r\n                  Array.isArray(res.data.sr_disease_operation_history) &&\r\n                  res.data.sr_disease_operation_history.length\r\n                ) {\r\n                  if (res.data.sr_disease_operation_history.length >= 2) {\r\n                    setDataSource1(res.data.sr_disease_operation_history);\r\n                  } else {\r\n                    let _data: any = [];\r\n                    JSON.parse(JSON.stringify(diseaseOperation)).map((item: any, index: number) => {\r\n                      if (res.data.sr_disease_operation_history[index]) {\r\n                        _data.push(\r\n                          res.data.sr_disease_operation_history[index]\r\n                        );\r\n                      } else {\r\n                        _data.push(item);\r\n                      }\r\n                    });\r\n                    setDataSource1(_data);\r\n                  }\r\n                } else {\r\n                  setDataSource1(JSON.parse(JSON.stringify(diseaseOperation)));\r\n                }\r\n              } else {\r\n                setDataSource(JSON.parse(JSON.stringify(disease)));\r\n                setDataSource1(JSON.parse(JSON.stringify(diseaseOperation)));\r\n                setradioSelect(1);\r\n                setradioSelect1(1);\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n      case 2:\r\n        KingApi.treatmentApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setradioSelect(res.data.lga_history);\r\n                if (\r\n                  res.data.sr_treat_history_medical &&\r\n                  Array.isArray(res.data.sr_treat_history_medical) &&\r\n                  res.data.sr_treat_history_medical.length\r\n                ) {\r\n                  if (res.data.sr_treat_history_medical.length >= 5) {\r\n                    setDataSource(res.data.sr_treat_history_medical);\r\n                  } else {\r\n                    let _data: any = [];\r\n                    JSON.parse(JSON.stringify(treatment)).map((item: any, index: number) => {\r\n                      if (res.data.sr_treat_history_medical[index]) {\r\n                        _data.push(res.data.sr_treat_history_medical[index]);\r\n                      } else {\r\n                        _data.push(item);\r\n                      }\r\n                    });\r\n                    setDataSource(_data);\r\n                  }\r\n                } else {\r\n                  setDataSource(JSON.parse(JSON.stringify(treatment)));\r\n                }\r\n              } else {\r\n                setDataSource(JSON.parse(JSON.stringify(treatment)));\r\n                setradioSelect(1);\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n      case 3:\r\n        KingApi.medicationApi({ visit_content_id: props.patientVisitId }).then(\r\n          (res) => {\r\n            if (res.success) {\r\n              if (res.data) {\r\n                setradioSelect(res.data.is_use);\r\n                if (\r\n                  res.data.sr_medical_history_result &&\r\n                  Array.isArray(res.data.sr_medical_history_result) &&\r\n                  res.data.sr_medical_history_result.length\r\n                ) {\r\n                  if (res.data.sr_medical_history_result.length >= 5) {\r\n                    setDataSource(res.data.sr_medical_history_result);\r\n                  } else {\r\n                    let _data: any = [];\r\n                    JSON.parse(JSON.stringify(treatment)).map((item: any, index: number) => {\r\n                      if (res.data.sr_medical_history_result[index]) {\r\n                        _data.push(res.data.sr_medical_history_result[index]);\r\n                      } else {\r\n                        _data.push(item);\r\n                      }\r\n                    });\r\n                    setDataSource(_data);\r\n                  }\r\n                } else {\r\n                  setDataSource(JSON.parse(JSON.stringify(treatment)));\r\n                }\r\n              } else {\r\n                setDataSource(JSON.parse(JSON.stringify(treatment)));\r\n                setradioSelect(1);\r\n              }\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          }\r\n        );\r\n        break;\r\n    }\r\n  };\r\n  /* 获取合并治疗快捷选项 */\r\n  const quick = () => {\r\n    KingApi.getDistList({}).then((res) => {\r\n      if (res.success) {\r\n        if (res.data) {\r\n          setSelectData(res.data);\r\n        }\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n  // 提交\r\n  const submit = (orTab: number) => {\r\n    let _data: any = [];\r\n    dataSource.map((item: any) => {\r\n      if (orTab === 1) {\r\n        if (Object.keys(item).length) {\r\n          _data.push(item);\r\n        } else {\r\n          return true;\r\n        }\r\n      } else {\r\n        if (Object.keys(item).length && Object.keys(item).length !== 1) {\r\n          _data.push(item);\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n    let _data1: any = [];\r\n    dataSource1.map((item: any) => {\r\n      if (Object.keys(item).length) {\r\n        _data1.push(item);\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n    switch (orTab) {\r\n      case 1:\r\n        let isReturn1 = false;\r\n        _data.map((item: any, index: number) => {\r\n          if (Object.keys(item).length < 4) {\r\n            isReturn1 = true;\r\n            return true;\r\n          } else if (Object.keys(item).length === 4) {\r\n            Object.keys(item).map((item2) => {\r\n              if (_data[index][item2]) {\r\n                return true;\r\n              } else if (\r\n                item2 === \"is_affect_lga\" &&\r\n                _data[index][item2] === 0\r\n              ) {\r\n                return true;\r\n              } else {\r\n                isReturn1 = true;\r\n                return true;\r\n              }\r\n            });\r\n            return true;\r\n          } else {\r\n            return true;\r\n          }\r\n        });\r\n        _data1.map((item: any, index: number) => {\r\n          if (Object.keys(item).length < 2) {\r\n            isReturn1 = true;\r\n            return true;\r\n          } else if (Object.keys(item).length === 2) {\r\n            Object.keys(item).map((item2) => {\r\n              if (_data1[index][item2] || _data1[index][item2] === 0) {\r\n                return true;\r\n              } else {\r\n                isReturn1 = true;\r\n                return true;\r\n              }\r\n            });\r\n            return true;\r\n          } else {\r\n            return true;\r\n          }\r\n        });\r\n        if (isReturn1) {\r\n          message.warning(\"请填写完整\");\r\n          return props.setPreservation(false);\r\n        } else {\r\n          KingApi.submitDiseaseApi({\r\n            disease: _data,\r\n            operation: _data1,\r\n            visit_content_id: props.patientVisitId,\r\n            past_disease_history: radioSelect,\r\n            surgical_operation_history: radioSelect1,\r\n          }).then((res) => {\r\n            if (res.success) {\r\n              message.success(res.error);\r\n              props.currentRefresh();\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          });\r\n        }\r\n        break;\r\n      case 2:\r\n        let isReturn2 = false;\r\n        _data.map((item: any, index: number) => {\r\n          if (Object.keys(item).length < 5) {\r\n            isReturn2 = true;\r\n            return true;\r\n          } else if (Object.keys(item).length === 5) {\r\n            Object.keys(item).map((item2) => {\r\n              if (_data[index][item2]) {\r\n                return true;\r\n              } else if (item2 === \"is_continue\") {\r\n                return true;\r\n              } else {\r\n                isReturn2 = true;\r\n                return true;\r\n              }\r\n            });\r\n            return true;\r\n          } else {\r\n            return true;\r\n          }\r\n        });\r\n        if (isReturn2) {\r\n          message.warning(\"请填写完整\");\r\n          return props.setPreservation(false);\r\n        } else {\r\n          KingApi.submitTreatmentApi({\r\n            date: _data,\r\n            visit_content_id: props.patientVisitId,\r\n            lga_history: radioSelect,\r\n          }).then((res) => {\r\n            if (res.success) {\r\n              message.success(res.error);\r\n              props.currentRefresh();\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          });\r\n        }\r\n        break;\r\n      case 3:\r\n        let isReturn3 = false;\r\n        _data.map((item: any, index: number) => {\r\n          if (Object.keys(item).length < 6) {\r\n            isReturn3 = true;\r\n            return true;\r\n          } else if (Object.keys(item).length === 6) {\r\n            Object.keys(item).map((item2) => {\r\n              if (item2 === \"medical\") {\r\n                if (\r\n                  selectData.config_medicine &&\r\n                  selectData.config_medicine.find(\r\n                    (item3: any) => item3.name === item[item2]\r\n                  )\r\n                ) {\r\n                  item.medical_id = selectData.config_medicine.find(\r\n                    (item3: any) => item3.name === item[item2]\r\n                  ).id;\r\n                }\r\n              }\r\n              if (_data[index][item2]) {\r\n                return true;\r\n              } else if (item2 === \"is_continue\") {\r\n                return true;\r\n              } else {\r\n                isReturn3 = true;\r\n                return true;\r\n              }\r\n            });\r\n            return true;\r\n          } else {\r\n            return true;\r\n          }\r\n        });\r\n        if (isReturn3) {\r\n          message.warning(\"请填写完整\");\r\n          return props.setPreservation(false);\r\n        } else {\r\n          KingApi.submitMedicationApi({\r\n            medicine: _data,\r\n            visit_content_id: props.patientVisitId,\r\n            is_use: radioSelect,\r\n          }).then((res) => {\r\n            if (res.success) {\r\n              message.success(res.error);\r\n              props.currentRefresh();\r\n            } else {\r\n              message.error(res.error);\r\n            }\r\n          });\r\n        }\r\n        break;\r\n    }\r\n    props.setPreservation(false);\r\n  };\r\n  // 修改事件\r\n  const dataChange = (val: any, index: number, keys: string, type: number) => {\r\n    const _data: any = [...dataSource];\r\n    if (type === 1) {\r\n      _data[index][keys] = val;\r\n    } else if (type === 2) {\r\n      if (keys === \"is_continue\") {\r\n        _data[index][keys] = val.target.checked ? 1 : 0;\r\n      } else {\r\n        _data[index][keys] = val.target.value;\r\n      }\r\n    } else if (type === 3) {\r\n      _data[index][keys] = moment(val).format(\"YYYY-MM-DD\");\r\n    }\r\n    setDataSource(_data);\r\n  };\r\n  // 修改事件---疾病史---手术史\r\n  const dataChange1 = (val: any, index: number, keys: string, type: number) => {\r\n    const _data: any = [...dataSource1];\r\n    if (type === 1) {\r\n      _data[index][keys] = val;\r\n    } else if (type === 2) {\r\n      if (keys === \"is_continue\") {\r\n        _data[index][keys] = val.target.checked ? 1 : 0;\r\n      } else {\r\n        _data[index][keys] = val.target.value;\r\n      }\r\n    } else if (type === 3) {\r\n      _data[index][keys] = moment(val).format(\"YYYY-MM-DD\");\r\n    }\r\n    setDataSource1(_data);\r\n  };\r\n  /* 添加操作 */\r\n  const addFunction = (data: any, setData: Function, index: number) => {\r\n    const _data = [...data];\r\n    _data.splice(index + 1, 0, orTab === 1 ? {} : {is_continue: 0});\r\n    setData(_data);\r\n  };\r\n  /* 删除操作 */\r\n  const delFunction = (data: any, setData: Function, index: number) => {\r\n    if(data===dataSource1){\r\n      if(data.length<=2){\r\n        message.warning('数据至少需要两条，无法删除')\r\n        return \r\n      }\r\n    }else{\r\n      if(data.length<=5){\r\n        message.warning('数据至少需要五条，无法删除')\r\n        return \r\n      }\r\n    }\r\n    const _data = [...data];\r\n    _data.splice(index, 1);\r\n    setData(_data);\r\n    \r\n  };\r\n  /* 既往疾病史 */\r\n  const columns: any = [\r\n    {\r\n      title: \"诊断名\",\r\n      dataIndex: \"diagnosis_name\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Select\r\n          style={{ width: \"100%\" }}\r\n          placeholder=\"请选择诊断名\"\r\n          value={val}\r\n          onChange={(val) => {\r\n            dataChange(val, index, \"diagnosis_name\", 1);\r\n          }}\r\n        >\r\n          {selectData &&\r\n          selectData.config_diagnosis &&\r\n          Array.isArray(selectData.config_diagnosis) &&\r\n          selectData.config_diagnosis.length\r\n            ? selectData.config_diagnosis.map((item: selectType) => {\r\n                return (\r\n                  <Option key={item.id} value={item.name}>\r\n                    {item.name}\r\n                  </Option>\r\n                );\r\n              })\r\n            : null}\r\n        </Select>\r\n      ),\r\n    },\r\n    {\r\n      title: \"开始日期（年/月/日）\",\r\n      dataIndex: \"start_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange(e, index, \"start_date\", 3);\r\n            }}\r\n            placeholder=\"请选择开始日期\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"结束日期（年/月/日）\",\r\n      dataIndex: \"end_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange(e, index, \"end_date\", 3);\r\n            }}\r\n            placeholder=\"请选择开始日期\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"对IgA肾病治疗的影响\",\r\n      dataIndex: \"is_affect_lga\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Radio.Group\r\n          value={val}\r\n          onChange={(val) => {\r\n            dataChange(val, index, \"is_affect_lga\", 2);\r\n          }}\r\n        >\r\n          <Radio value={1}>有</Radio>\r\n          <Radio value={0}>无</Radio>\r\n        </Radio.Group>\r\n      ),\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: \"address\",\r\n      width: 240,\r\n      render: (val: string, row: object, index: number) => (\r\n        <div>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#42b8a3\",\r\n            }}\r\n            onClick={() => addFunction(dataSource, setDataSource, index)}\r\n          >\r\n            添加\r\n          </button>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#e6596b\",\r\n              marginLeft: 10,\r\n            }}\r\n            onClick={() => delFunction(dataSource, setDataSource, index)}\r\n          >\r\n            删除\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n  /* 手术史 */\r\n  const columns1: any = [\r\n    {\r\n      title: \"手术（操作）史名称\",\r\n      dataIndex: \"operation_name\",\r\n      render: (val: string, row: object, index: number) => {\r\n        return (\r\n          <Input\r\n            value={val ? val : ''}\r\n            onChange={(e) => {\r\n              dataChange1(e, index, \"operation_name\", 2);\r\n            }}\r\n            placeholder=\"手术（操作）史名称\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"手术（操作）（年/月）\",\r\n      dataIndex: \"operation_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange1(e, index, \"operation_date\", 3);\r\n            }}\r\n            placeholder=\"请选择手术（操作）时间\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: \"address\",\r\n      width: 240,\r\n      render: (val: string, row: object, index: number) => (\r\n        <div>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#42b8a3\",\r\n            }}\r\n            onClick={() => addFunction(dataSource1, setDataSource1, index)}\r\n          >\r\n            添加\r\n          </button>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#e6596b\",\r\n              marginLeft: 10,\r\n            }}\r\n            onClick={() => delFunction(dataSource1, setDataSource1, index)}\r\n          >\r\n            删除\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n  /* 治疗史 */\r\n  const columns3: any = [\r\n    {\r\n      title: \"药品\",\r\n      dataIndex: \"medical\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Select\r\n          style={{ width: \"100%\" }}\r\n          value={val}\r\n          placeholder=\"请选择药品名称\"\r\n          onChange={(val) => {\r\n            dataChange(val, index, \"medical\", 1);\r\n          }}\r\n        >\r\n          {selectData &&\r\n          selectData.config_medicine &&\r\n          Array.isArray(selectData.config_medicine) &&\r\n          selectData.config_medicine.length\r\n            ? selectData.config_medicine.map((item: selectType) => {\r\n                return (\r\n                  <Option key={item.id} value={item.name}>\r\n                    {item.name}\r\n                  </Option>\r\n                );\r\n              })\r\n            : null}\r\n        </Select>\r\n      ),\r\n    },\r\n    {\r\n      title: \"用法用量\",\r\n      dataIndex: \"dosage\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Input\r\n          placeholder=\"请填写用法用量\"\r\n          value={val}\r\n          onChange={(e) => {\r\n            dataChange(e, index, \"dosage\", 2);\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: \"开始日期（年/月/日）\",\r\n      dataIndex: \"start_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange(e, index, \"start_date\", 3);\r\n            }}\r\n            placeholder=\"请选择开始日期\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"结束日期（年/月/日）\",\r\n      dataIndex: \"end_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange(e, index, \"end_date\", 3);\r\n            }}\r\n            placeholder=\"请选择开始日期\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"是否继续\",\r\n      dataIndex: \"is_continue\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Checkbox\r\n          checked={val ? true : false}\r\n          onChange={(e) => {\r\n            dataChange(e, index, \"is_continue\", 2);\r\n          }}\r\n        ></Checkbox>\r\n      ),\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: \"address\",\r\n      width: 240,\r\n      render: (val: string, row: object, index: number) => (\r\n        <div>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#42b8a3\",\r\n            }}\r\n            onClick={() => addFunction(dataSource, setDataSource, index)}\r\n          >\r\n            添加\r\n          </button>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#e6596b\",\r\n              marginLeft: 10,\r\n            }}\r\n            onClick={() => delFunction(dataSource, setDataSource, index)}\r\n          >\r\n            删除\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n  /* 用药史 */\r\n  const columns4: any = [\r\n    {\r\n      title: \"药品名\",\r\n      dataIndex: \"medical\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Select\r\n          style={{ width: \"100%\" }}\r\n          placeholder=\"请选择药品名称\"\r\n          value={val}\r\n          onChange={(val) => {\r\n            dataChange(val, index, \"medical\", 1);\r\n          }}\r\n        >\r\n          {selectData &&\r\n          selectData.config_medicine &&\r\n          Array.isArray(selectData.config_medicine) &&\r\n          selectData.config_medicine.length\r\n            ? selectData.config_medicine.map((item: selectType) => {\r\n                return (\r\n                  <Option key={item.id} value={item.name}>\r\n                    {item.name}\r\n                  </Option>\r\n                );\r\n              })\r\n            : null}\r\n        </Select>\r\n      ),\r\n    },\r\n    {\r\n      title: \"用药指征\",\r\n      dataIndex: \"medical_feature\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Input\r\n          placeholder=\"请填写用药指征\"\r\n          value={val}\r\n          onChange={(e) => {\r\n            dataChange(e, index, \"medical_feature\", 2);\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: \"用法用量\",\r\n      dataIndex: \"dosage\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Input\r\n          placeholder=\"请填写用法用量\"\r\n          value={val}\r\n          onChange={(e) => {\r\n            dataChange(e, index, \"dosage\", 2);\r\n          }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: \"开始日期（年/月/日）\",\r\n      dataIndex: \"start_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange(e, index, \"start_date\", 3);\r\n            }}\r\n            placeholder=\"请选择开始日期\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"结束日期（年/月/日）\",\r\n      dataIndex: \"end_date\",\r\n      render: (val: number | string, row: object, index: number) => {\r\n        let date: any = val ? moment(val).format(\"YYYY-MM-DD\") : null;\r\n        return (\r\n          <DatePicker\r\n            allowClear={false}\r\n            value={date ? moment(date) : null}\r\n            onChange={(e) => {\r\n              dataChange(e, index, \"end_date\", 3);\r\n            }}\r\n            placeholder=\"请选择开始日期\"\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: \"是否继续\",\r\n      dataIndex: \"is_continue\",\r\n      render: (val: number | string, row: object, index: number) => (\r\n        <Checkbox\r\n          checked={val ? true : false}\r\n          onChange={(e) => {\r\n            dataChange(e, index, \"is_continue\", 2);\r\n          }}\r\n        ></Checkbox>\r\n      ),\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: \"address\",\r\n      width: 240,\r\n      render: (val: string, row: object, index: number) => (\r\n        <div>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#42b8a3\",\r\n            }}\r\n            onClick={() => addFunction(dataSource, setDataSource, index)}\r\n          >\r\n            添加\r\n          </button>\r\n          <button\r\n            style={{\r\n              width: 80,\r\n              height: 30,\r\n              textAlign: \"center\",\r\n              border: \"none\",\r\n              color: \"#fff\",\r\n              backgroundColor: \"#e6596b\",\r\n              marginLeft: 10,\r\n            }}\r\n            onClick={() => delFunction(dataSource, setDataSource, index)}\r\n          >\r\n            删除\r\n          </button>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n  // 基础信息查询\r\n  return (\r\n    <div className=\"medicalHistory\">\r\n      <button\r\n        onClick={() => setOrInquiry(false)}\r\n        style={{\r\n          backgroundColor: orInquiry ? \"#fafafa\" : \"#fff\",\r\n          color: orInquiry ? \"\" : \"#1abc9c\",\r\n          marginBottom: 3,\r\n          marginRight: 3,\r\n        }}\r\n      >\r\n        {orTab === 1\r\n          ? \"疾病史\"\r\n          : orTab === 2\r\n          ? \"治疗史\"\r\n          : orTab === 3\r\n          ? \"用药史\"\r\n          : null}\r\n      </button>\r\n      {/* <button onClick={()=>setOrInquiry(true)} style={{\r\n        backgroundColor:orInquiry?'#fff':'#fafafa',\r\n        color:orInquiry?'#1abc9c':'',\r\n      }}>质询</button> */}\r\n      {orInquiry ? null : (\r\n        <div style={{ padding: 15, backgroundColor: \"#fff\" }}>\r\n          {orTab === 1 ? (\r\n            <div>\r\n              <div className=\"titles\">\r\n                <div />\r\n                既往疾病史\r\n              </div>\r\n              <div className=\"rdos\">\r\n                患者既往疾病史：\r\n                <Radio.Group value={\r\n                    radioSelect\r\n                      ? radioSelect\r\n                      : radioSelect === 0\r\n                      ? radioSelect\r\n                      : null\r\n                  }\r\n                  onChange={(e) => {\r\n                    setradioSelect(e.target.value);\r\n                  }}>\r\n                  <Radio value={1}>有</Radio>\r\n                  <Radio value={0}>无</Radio>\r\n                </Radio.Group>\r\n              </div>\r\n              <Table\r\n                style={{ display: radioSelect ? \"\" : \"none\" }}\r\n                dataSource={dataSource}\r\n                columns={columns}\r\n                bordered\r\n                pagination={false}\r\n              />\r\n              <div className=\"titles\">\r\n                <div />\r\n                手术史\r\n              </div>\r\n              <div className=\"rdos\">\r\n                重要的外科手术（操作）史：\r\n                <Radio.Group value={\r\n                    radioSelect1\r\n                      ? radioSelect1\r\n                      : radioSelect1 === 0\r\n                      ? radioSelect1\r\n                      : null\r\n                  }\r\n                  onChange={(e) => {\r\n                    setradioSelect1(e.target.value);\r\n                  }}>\r\n                  <Radio value={1}>有</Radio>\r\n                  <Radio value={0}>无</Radio>\r\n                </Radio.Group>\r\n              </div>\r\n              <Table\r\n                style={{ display: radioSelect1 ? \"\" : \"none\" }}\r\n                dataSource={dataSource1}\r\n                columns={columns1}\r\n                bordered\r\n                pagination={false}\r\n              />\r\n            </div>\r\n          ) : orTab === 2 ? (\r\n            <div>\r\n              <div className=\"rdos\">\r\n                最近3个月内的IgA肾病治疗史：\r\n                <Radio.Group\r\n                  value={\r\n                    radioSelect\r\n                      ? radioSelect\r\n                      : radioSelect === 0\r\n                      ? radioSelect\r\n                      : null\r\n                  }\r\n                  onChange={(e) => {\r\n                    setradioSelect(e.target.value);\r\n                  }}\r\n                >\r\n                  <Radio value={1}>有</Radio>\r\n                  <Radio value={0}>无</Radio>\r\n                </Radio.Group>\r\n              </div>\r\n              <Table\r\n                style={{ display: radioSelect ? \"\" : \"none\" }}\r\n                dataSource={dataSource}\r\n                columns={columns3}\r\n                bordered\r\n                pagination={false}\r\n              />\r\n            </div>\r\n          ) : orTab === 3 ? (\r\n            <div>\r\n              <div className=\"rdos\">\r\n                至今一年内患者使用（除治疗IgA肾病以外）的药物：\r\n                <Radio.Group value={\r\n                    radioSelect\r\n                      ? radioSelect\r\n                      : radioSelect === 0\r\n                      ? radioSelect\r\n                      : null\r\n                  }\r\n                  onChange={(e) => {\r\n                    setradioSelect(e.target.value);\r\n                  }}>\r\n                  <Radio value={1}>有</Radio>\r\n                  <Radio value={0}>无</Radio>\r\n                </Radio.Group>\r\n              </div>\r\n              <Table\r\n                style={{ display: radioSelect ? \"\" : \"none\" }}\r\n                dataSource={dataSource}\r\n                columns={columns4}\r\n                bordered\r\n                pagination={false}\r\n              />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export const stopDatas=[\r\n  {\r\n    name:'最后一次用药日期：',\r\n    keys:'last_medicine_date',\r\n    id:1,\r\n    types:'date',\r\n  },\r\n  {\r\n    name:'停药原因：',\r\n    keys:'reason_id',\r\n    id:2,\r\n    types:'radio',\r\n    children:[\r\n      {\r\n        name:'1 不良反应，医生判定无法继续用药',\r\n        id:3,\r\n        value:1,\r\n      },\r\n      {\r\n        name:'2 伴发其它疾病，医生判定无法继续,请在“备注”处说明',\r\n        id:4,\r\n        value:2,\r\n      },\r\n      {\r\n        name:'3 医生判定疗效不佳',\r\n        id:5,\r\n        value:3,\r\n      },\r\n      {\r\n        name:'4 疾病痊愈，提前结束治疗',\r\n        id:6,\r\n        value:4,\r\n      },\r\n      {\r\n        name:'5 失访',\r\n        id:7,\r\n        value:5,\r\n      },\r\n      {\r\n        name:'6  其他，请在“备注”处说明',\r\n        id:8,\r\n        value:6,\r\n        types:'textArea',\r\n        children:{\r\n          keys:'reason_other'\r\n        }\r\n      },\r\n    ]\r\n  },\r\n]","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Descriptions, DatePicker, Radio, Input, message, Space } from \"antd\";\r\nimport moment from \"moment\";\r\nimport \"./index.scss\";\r\nimport { KingApi } from \"../../../../../request/king\";\r\nimport { stopDatas } from \"./datas\";\r\nconst { TextArea } = Input;\r\ninterface IProps {\r\n  patientVisitId: number | null | undefined;\r\n  preservation: boolean;\r\n  currentRefresh: () => void;\r\n  setPreservation: Function;\r\n}\r\n/* 停止用药 */\r\nexport const StopMedication: React.FC<IProps> = (props) => {\r\n  const [orInquiry, setOrInquiry] = useState<boolean>(false); //是否为质询\r\n  const [data, setData] = useState<any>({});\r\n  const [sonPatientVisitId, setsonPatientVisitId] = useState<\r\n    number | null | undefined\r\n  >();\r\n  useEffect(() => {\r\n    if (props.preservation) {\r\n      submit();\r\n    }\r\n    if (props.patientVisitId) {\r\n      if (props.patientVisitId !== sonPatientVisitId) {\r\n        setsonPatientVisitId(props.patientVisitId);\r\n        getData();\r\n      }\r\n    }\r\n    return () => {\r\n      setOrInquiry(false);\r\n    };\r\n  }, [props.preservation, props.patientVisitId]);\r\n  // 查询\r\n  const getData = () => {\r\n    KingApi.stopApi({ visit_content_id: props.patientVisitId }).then((res) => {\r\n      if (res.success) {\r\n        if (res.data) {\r\n          setData(res.data);\r\n        } else {\r\n          setData({});\r\n        }\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n  // 提交\r\n  const submit = () => {\r\n    KingApi.submitStopApi({\r\n      visit_content_id: props.patientVisitId,\r\n      ...data,\r\n    }).then((res) => {\r\n      if (res.success) {\r\n        message.success(res.error);\r\n        props.currentRefresh();\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n      props.setPreservation(false);\r\n    });\r\n  };\r\n  // 修改事件\r\n  const dataChange = (val: any, keys: string, type: number) => {\r\n    const _data: any = { ...data };\r\n    if (type === 1) {\r\n      _data[keys] = val;\r\n    } else if (type === 2) {\r\n      _data[keys] = val.target.value;\r\n    } else if (type === 3) {\r\n      _data[keys] = moment(val).format(\"YYYY-MM-DD\");\r\n    }\r\n\r\n    setData(_data);\r\n  };\r\n  // 基础信息查询\r\n  return (\r\n    <div className=\"stopMedication\">\r\n      <button\r\n        onClick={() => setOrInquiry(false)}\r\n        style={{\r\n          backgroundColor: orInquiry ? \"#fafafa\" : \"#fff\",\r\n          color: orInquiry ? \"#000\" : \"#1abc9c\",\r\n          marginBottom: 3,\r\n          marginRight: 3,\r\n        }}\r\n      >\r\n        停止用药\r\n      </button>\r\n      {/* <button onClick={()=>setOrInquiry(true)} style={{\r\n        backgroundColor:orInquiry?'#fff':'#fafafa',\r\n        color:orInquiry?'#1abc9c':'#000',\r\n      }}>质询</button> */}\r\n      {orInquiry ? null : (\r\n        <Descriptions\r\n          labelStyle={{ width: \"20%\" }}\r\n          bordered\r\n          style={{ backgroundColor: \"#fff\" }}\r\n        >\r\n          {stopDatas && Array.isArray(stopDatas) && stopDatas.length\r\n            ? stopDatas.map((item) => {\r\n                if (item.types === \"date\") {\r\n                  let date: any =\r\n                    data && data[item.keys]\r\n                      ? moment(data[item.keys]).format(\"YYYY-MM-DD\")\r\n                      : null;\r\n                  return (\r\n                    <Descriptions.Item key={item.id} label={item.name} span={3}>\r\n                      <DatePicker\r\n                        allowClear={false}\r\n                        value={date ? moment(date) : null}\r\n                        onChange={(date, dateString) =>\r\n                          dataChange(dateString, item.keys, 3)\r\n                        }\r\n                      />\r\n                    </Descriptions.Item>\r\n                  );\r\n                } else if (item.types === \"radio\") {\r\n                  return (\r\n                    <Descriptions.Item key={item.id} label={item.name} span={3}>\r\n                      <Radio.Group\r\n                        style={{ width: \"100%\" }}\r\n                        value={\r\n                          data && data[item.keys]\r\n                            ? data[item.keys]\r\n                            : data && data[item.keys] === 0\r\n                            ? data[item.keys]\r\n                            : null\r\n                        }\r\n                        onChange={(e) => dataChange(e, item.keys, 2)}\r\n                      >\r\n                        <Space direction=\"vertical\" style={{ width: \"100%\" }}>\r\n                          {item.children &&\r\n                          Array.isArray(item.children) &&\r\n                          item.children.length\r\n                            ? item.children.map((item2) => {\r\n                                if (item2.types && item2.children) {\r\n                                  return (\r\n                                    <div\r\n                                      key={item2.id}\r\n                                      style={{ width: \"95%\", marginTop: 15 }}\r\n                                    >\r\n                                      <Radio key={item2.id} value={item2.value}>\r\n                                        {item2.name}\r\n                                      </Radio>\r\n                                      <TextArea\r\n                                        style={{\r\n                                          width: \"150%\",\r\n                                          display:\r\n                                            data &&\r\n                                            data[item.keys] &&\r\n                                            data[item.keys] === 6\r\n                                              ? \"\"\r\n                                              : \"none\",\r\n                                        }}\r\n                                        value={\r\n                                          data && data[item2.children.keys]\r\n                                            ? data[item2.children.keys]\r\n                                            : data &&\r\n                                              data[item2.children.keys] === 0\r\n                                            ? data[item2.children.keys]\r\n                                            : null\r\n                                        }\r\n                                        onChange={(e) =>\r\n                                          dataChange(e, item2.children.keys, 2)\r\n                                        }\r\n                                      />\r\n                                    </div>\r\n                                  );\r\n                                } else {\r\n                                  return (\r\n                                    <Radio\r\n                                      style={{ marginTop: 15 }}\r\n                                      key={item2.id}\r\n                                      value={item2.value}\r\n                                    >\r\n                                      {item2.name}\r\n                                    </Radio>\r\n                                  );\r\n                                }\r\n                              })\r\n                            : null}\r\n                        </Space>\r\n                      </Radio.Group>\r\n                    </Descriptions.Item>\r\n                  );\r\n                } else if (item.types === \"textArea\") {\r\n                  return (\r\n                    <Descriptions.Item key={item.id} label={item.name} span={3}>\r\n                      <TextArea value={item.keys} />\r\n                    </Descriptions.Item>\r\n                  );\r\n                }\r\n              })\r\n            : null}\r\n        </Descriptions>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { message } from \"antd\";\r\nimport { Demographics } from \"./component/demographics\";\r\nimport { Laboratory } from \"./component/laboratory\";\r\nimport { MedicalHistory } from \"./component/medicalHistory\";\r\nimport { StopMedication } from \"./component/stopMedication\";\r\nimport { KingApi } from \"../../../request/king\";\r\nimport \"./index.scss\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStore } from \"../../../store/useStore\";\r\nexport const Detail: React.FC = observer(() => {\r\n  const { patientDetailStore } = useStore();\r\n  let default_name_id = patientDetailStore.nameId;\r\n  const [isBtn, setIsBtn] = useState<number | null>(() => {\r\n    if (default_name_id) {\r\n      return parseInt(default_name_id);\r\n    } else return null;\r\n  }); //高亮显示id\r\n  const [patientVisitId, setPatientVisitIdn] = useState<number | null>(); //传给子组件保存id\r\n  const [preservation, setPreservation] = useState<boolean>(false); //保存\r\n  const [formData, setFormData] = useState<any>(); //返回表单数据\r\n\r\n  useEffect(() => {\r\n    if (patientDetailStore.isRefresh) {\r\n      getForm(true);\r\n    }\r\n  }, [patientDetailStore.isRefresh]);\r\n\r\n  useEffect(() => {\r\n    if (patientDetailStore.tabId) {\r\n      getForm();\r\n    }\r\n    return () => {\r\n      setPatientVisitIdn(null);\r\n      setIsBtn(null);\r\n      setFormData(null);\r\n      setPreservation(false);\r\n    };\r\n  }, [patientDetailStore.tabId]);\r\n  /* 获取表单 */\r\n  const getForm = (current_refresh?: boolean) => {\r\n    KingApi.formApi({ patient_visit_id: patientDetailStore.tabId }).then(\r\n      (res) => {\r\n        if (res.success) {\r\n          setFormData(res.data);\r\n          if (!current_refresh) {\r\n            if (res.data && res.data[0]?.config_sr_content?.name_id) {\r\n              setIsBtn(res.data[0].config_sr_content.name_id);\r\n            }\r\n            setPatientVisitIdn(res.data[0].id);\r\n          }\r\n        } else {\r\n          message.error(res.error);\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const currentRefresh = () => {\r\n    patientDetailStore.isRefresh = true;\r\n  };\r\n  const calendarContext = useMemo(() => {\r\n    if (!isBtn) {\r\n      return null;\r\n    } else if (\r\n      isBtn === 1 ||\r\n      isBtn === 5 ||\r\n      isBtn === 6 ||\r\n      isBtn === 10 ||\r\n      isBtn === 11\r\n    ) {\r\n      return (\r\n        <Demographics\r\n          patientVisitId={patientVisitId}\r\n          preservation={preservation}\r\n          currentRefresh={currentRefresh}\r\n          setPreservation={setPreservation}\r\n          orTab={\r\n            isBtn === 1\r\n              ? 1\r\n              : isBtn === 5\r\n              ? 2\r\n              : isBtn === 6\r\n              ? 3\r\n              : isBtn === 10\r\n              ? 4\r\n              : 5\r\n          }\r\n        />\r\n      );\r\n    } else if (isBtn === 7 || isBtn === 8 || isBtn === 9) {\r\n      return (\r\n        <Laboratory\r\n          patientVisitId={patientVisitId}\r\n          preservation={preservation}\r\n          currentRefresh={currentRefresh}\r\n          setPreservation={setPreservation}\r\n          orTab={isBtn === 7 ? 1 : isBtn === 8 ? 2 : 3}\r\n        />\r\n      );\r\n    } else if (isBtn === 2 || isBtn === 3 || isBtn === 4) {\r\n      return (\r\n        <MedicalHistory\r\n          patientVisitId={patientVisitId}\r\n          preservation={preservation}\r\n          currentRefresh={currentRefresh}\r\n          setPreservation={setPreservation}\r\n          orTab={isBtn === 3 ? 1 : isBtn === 2 ? 2 : 3}\r\n        />\r\n      );\r\n    }\r\n  }, [isBtn, patientVisitId, preservation]);\r\n  return (\r\n    <div className=\"detail\">\r\n      <div className=\"tabCss\">\r\n        {patientVisitId &&\r\n        formData &&\r\n        Array.isArray(formData) &&\r\n        formData.length\r\n          ? formData.map((item) => {\r\n              return (\r\n                <button\r\n                  key={item.id}\r\n                  style={{\r\n                    width: item.config_sr_content?.name?.length > 5 ? 115 : 85,\r\n                    backgroundColor:\r\n                      isBtn === item.config_sr_content?.name_id\r\n                        ? \"#fff\"\r\n                        : item.status\r\n                        ? \"#1abc9c\"\r\n                        : \"\",\r\n                    color:\r\n                      isBtn === item.config_sr_content?.name_id\r\n                        ? \"#1abc9c\"\r\n                        : \"\",\r\n                    border:\r\n                      isBtn === item.config_sr_content?.name_id\r\n                        ? \"1px solid #1abc9c\"\r\n                        : \"\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setIsBtn(item.config_sr_content?.name_id);\r\n                    patientDetailStore.nameId = item.name_id;\r\n                    setPatientVisitIdn(item.id);\r\n                  }}\r\n                >\r\n                  {item.config_sr_content.name}\r\n                </button>\r\n              );\r\n            })\r\n          : null}\r\n      </div>\r\n      <div>\r\n        {formData?.length === 1 ? (\r\n          <StopMedication\r\n            patientVisitId={patientVisitId}\r\n            preservation={preservation}\r\n            currentRefresh={currentRefresh}\r\n            setPreservation={setPreservation}\r\n          />\r\n        ) : (\r\n          calendarContext\r\n        )}\r\n      </div>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <button\r\n          style={{\r\n            marginTop: 20,\r\n            width: 75,\r\n            height: 35,\r\n            backgroundColor: \"#1abc9c\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: 4,\r\n          }}\r\n          onClick={() => setPreservation(true)}\r\n        >\r\n          保存\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React, { ReactNode } from \"react\";\r\nimport { Property } from \"csstype\";\r\n\r\ninterface Props {\r\n  name?: string;\r\n  children?: ReactNode;\r\n  flexDirection?: Property.FlexDirection;\r\n}\r\n\r\nexport function FormBox(props: Props): React.ReactElement {\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <div\r\n        style={{\r\n          fontSize: 14,\r\n          color: \"#666\",\r\n          fontWeight: 700,\r\n          marginBottom: 10,\r\n        }}\r\n      >\r\n        {props.name}\r\n      </div>\r\n      <div\r\n        style={{\r\n          height: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: props?.flexDirection ? props.flexDirection : \"column\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { ReactNode } from \"react\";\r\nimport { Property } from \"csstype\";\r\n\r\ninterface Props {\r\n  name?: string;\r\n  value?: string;\r\n  justyC?: Property.JustifyContent;\r\n  children?: ReactNode;\r\n}\r\n\r\nexport function FormDescriptions(props: Props): React.ReactElement {\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <div\r\n        style={{\r\n          fontSize: 14,\r\n          color: \"rgba(0,0,0,.65)\",\r\n          display: \"flex\",\r\n          justifyContent: props?.justyC || \"space-between\",\r\n        }}\r\n      >\r\n        <div>{props?.name}</div>\r\n        <div>{props?.value}</div>\r\n      </div>\r\n      <div style={{ display: \"flex\", marginBottom: 10, marginTop: 10 }}>\r\n        {props?.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { ReactNode } from \"react\";\r\n\r\ninterface Props {\r\n  name?: string;\r\n  count?: string | number;\r\n}\r\n\r\nexport function StatisticTag(props: Props): React.ReactElement {\r\n  return (\r\n    <div\r\n      style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}\r\n    >\r\n      <div style={{ fontSize: 12, color: \"#999\" }}>{props?.name}</div>\r\n      <div style={{ fontSize: 24, color: \"#666\", fontWeight: 700, padding: 7 }}>\r\n        {props?.count}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { ReactNode } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"./index.scss\";\r\ninterface Props {\r\n  name?: string;\r\n  updated_at?: string;\r\n  children?: ReactNode;\r\n}\r\n\r\nexport function MessageItem(props: Props): React.ReactElement {\r\n  let time: any = props.updated_at\r\n    ? Number(moment(new Date()).diff(props.updated_at)) / 1000 / 3600\r\n    : undefined;\r\n  let timeStr = \"小时\";\r\n  if (time) {\r\n    if (time < 1) {\r\n      time = (time * 60).toString().split(\".\")[0];\r\n      timeStr = \"分钟\";\r\n    } else if (time > 24) {\r\n      time = (time / 24).toString().split(\".\")[0];\r\n      timeStr = \"天\";\r\n    } else if (time > 1) {\r\n      time = time.toString().split(\".\")[0];\r\n      timeStr = \"小时\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"message-item\">\r\n      <div style={{ fontWeight: \"bold\" }}>{props?.name}</div>\r\n      {props.children}\r\n      {time ? (\r\n        <div style={{ marginTop: 15, fontSize: 12, color: \"#999\" }}>\r\n          {time}\r\n          {timeStr}前\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Progress } from \"antd\";\r\nimport { FormItem } from \"../../request/types\";\r\n\r\nconst getGender = (type?: string | number) => {\r\n  switch (type) {\r\n    case \"1\":\r\n    case 1:\r\n      return \"男\";\r\n    case \"2\":\r\n    case 2:\r\n      return \"女\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\n// 患者列表配置\r\nexport const tableColumns: any = [\r\n  {\r\n    title: \"序号\",\r\n    dataIndex: \"id\",\r\n    width: 50,\r\n  },\r\n  {\r\n    title: \"姓名\",\r\n    dataIndex: \"patient_name\",\r\n    render: (text?: string) => (\r\n      <div style={{ color: \"#1abc9c\" }}>{text?.toString() || \"/\"}</div>\r\n    ),\r\n  },\r\n  {\r\n    title: \"ID号\",\r\n    dataIndex: \"uuid\",\r\n    render: (text?: string | number) => text?.toString() || \"/\",\r\n  },\r\n  {\r\n    title: \"受试者编号\",\r\n    dataIndex: \"patient_num\",\r\n  },\r\n  {\r\n    title: \"姓名缩写\",\r\n    dataIndex: \"pinyin\",\r\n  },\r\n  {\r\n    title: \"性别\",\r\n    dataIndex: \"gender\",\r\n    render: (text?: string | number) => getGender(text),\r\n  },\r\n  {\r\n    title: \"年龄\",\r\n    dataIndex: \"birthday\",\r\n    render: (text: any) => {\r\n      if (text) {\r\n        return (\r\n          <div>\r\n            {Number(moment(new Date()).format(\"YYYY\")) -\r\n              Number(moment(text).format(\"YYYY\"))}\r\n          </div>\r\n        );\r\n      } else return \"/\";\r\n    },\r\n  },\r\n  {\r\n    title: \"入组时间\",\r\n    dataIndex: \"created_at\",\r\n    render: (text: any) => {\r\n      if (text) {\r\n        return <div>{moment(text).format(\"YYYY-MM-DD\")}</div>;\r\n      } else {\r\n        return \"/\";\r\n      }\r\n    },\r\n  },\r\n  {\r\n    title: \"进度\",\r\n    dataIndex: \"schedule\",\r\n    width: 100,\r\n    render: (text: string | number) => {\r\n      if (typeof text === \"string\") {\r\n        return \"已完成\";\r\n      } else {\r\n        return (\r\n          <div>\r\n            <Progress\r\n              percent={text}\r\n              strokeWidth={6}\r\n              style={{ fontSize: 12 }}\r\n              strokeColor=\"#1abc9c\"\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    },\r\n  },\r\n  {\r\n    title: \"本期访视\",\r\n    dataIndex: \"this_patient_visit\",\r\n    render: (text: any) => text?.name,\r\n  },\r\n  {\r\n    title: \"过期访视\",\r\n    dataIndex: \"expired_visit\",\r\n    render: (text: any) => text?.toString() || \"/\",\r\n  },\r\n  // {\r\n  //   title: \"质询\",\r\n  //   dataIndex: \"challenge_count\",\r\n  //   render: (text: any) => text?.toString() || \"/\",\r\n  // },\r\n];\r\n// 性别选择配置\r\nexport const genderConfig: ConfigType<Partial<FormItem>> = {\r\n  placeholder: \"性别\",\r\n  elements: [\r\n    { name: \"全部\", value: \"0\" },\r\n    { name: \"男\", value: \"1\" },\r\n    { name: \"女\", value: \"2\" },\r\n  ],\r\n};\r\n// 诊断类型配置\r\nexport const diagnosticConfig: ConfigType<FormItem> = {\r\n  placeholder: \"诊断类型\",\r\n  elements: [],\r\n};\r\n\r\nexport type ConfigType<T> = {\r\n  placeholder: string;\r\n  elements?: Array<T>;\r\n};\r\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Progress,\r\n  Input,\r\n  Select,\r\n  message,\r\n  Modal,\r\n  Form,\r\n  Table,\r\n  DatePicker,\r\n} from \"antd\";\r\nimport { FormBox } from \"../../component/FormBox\";\r\nimport { FormText } from \"../../component/FormText\";\r\nimport { FormDescriptions } from \"../../component/FormDescriptions\";\r\nimport \"./index.scss\";\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\nimport { StatisticTag } from \"../../component/StatisticTag\";\r\nimport moment from \"moment\";\r\nimport { MessageItem } from \"../../component/MessageItem\";\r\nimport { KingApi } from \"../../request/king\";\r\nimport {\r\n  CurrentPaginationType,\r\n  DistListType,\r\n  GetPatientListType,\r\n} from \"../../request/types\";\r\nimport { genderConfig, tableColumns } from \"./config\";\r\ninterface Props {}\r\nconst { Option } = Select;\r\n\r\nexport const Home = (props: Partial<Props>): React.ReactElement => {\r\n  const navigator = useNavigate();\r\n  const [innerHeight, setInnerHeight] = useState(window.innerHeight);\r\n  const [sideRow, setSizeRow] = useState<number>(18);\r\n  const [mainRow, setMainRow] = useState<number>(6);\r\n  const [hisVisible, setHisVisible] = useState<boolean>(false);\r\n  const [searchName, setSearchName] = useState<string>(\"\");\r\n  const [gender, setGender] = useState<string>(\"0\");\r\n  const [diagnostic, setDiagnostic] = useState<string | null>(null);\r\n  const [patientList, setPatientList] = useState<any>([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [distList, setDistList] = useState<DistListType>();\r\n  const [statistics, setStatistics] = useState<any>({});\r\n  const [showMore, setShowMore] = useState<boolean>(true);\r\n  const [dynamicList, setDynamicList] = useState<any>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [entryTime, setEntryTime] = useState<any>(moment(new Date()));\r\n  const [KH, setKH] = useState<any>();\r\n\r\n  const resize = () => {\r\n    let width = window.innerWidth;\r\n    let height = window.innerHeight;\r\n    if (width < 1200) {\r\n      setSizeRow(24);\r\n      setMainRow(24);\r\n    } else {\r\n      setSizeRow(18);\r\n      setMainRow(6);\r\n    }\r\n    setInnerHeight(height);\r\n  };\r\n  const screenChange = () => {\r\n    window.addEventListener(\"resize\", resize);\r\n  };\r\n  useEffect(() => {\r\n    setPage(1);\r\n    setPageSize(10);\r\n    setSearchName(\"\");\r\n    setGender(\"0\");\r\n    setDiagnostic(null);\r\n    getPatientList({ page: 1, limit: 10 });\r\n    getDynamic({ page: 1, limit: 8 });\r\n    getDictList();\r\n    getStatistics();\r\n    screenChange();\r\n  }, []);\r\n\r\n  const getPatientList = (config?: Partial<GetPatientListType>) => {\r\n    const params: Partial<GetPatientListType> = {\r\n      limit: config?.limit,\r\n      name: searchName,\r\n      page: config?.page,\r\n      gender,\r\n    };\r\n    KingApi.requestPatientList(params).then((res) => {\r\n      if (res.success) {\r\n        setPatientList(res.data.data);\r\n        setTotal(res.data?.total);\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n\r\n  const getDictList = () => {\r\n    KingApi.getDistList({}).then((res) => {\r\n      if (res.success) {\r\n        setDistList(res.data);\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n  const getStatistics = async () => {\r\n    let res: any = await KingApi.getStatistics();\r\n    if (res.success) {\r\n      setStatistics(res.data);\r\n    } else {\r\n      message.error(res.error);\r\n    }\r\n  };\r\n\r\n  const getDynamic = (params?: Partial<GetPatientListType>) => {\r\n    KingApi.getDynamic(params).then((res) => {\r\n      if (res.success) {\r\n        if (params?.page === 1) {\r\n          setDynamicList(res.data.data);\r\n        } else {\r\n          if (res.data.data?.length === 0) {\r\n            setShowMore(false);\r\n          } else {\r\n            setShowMore(true);\r\n          }\r\n          setDynamicList([...dynamicList, ...res.data.data]);\r\n        }\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleHisOk = () => {\r\n    setLoading(true);\r\n    let params = {\r\n      kh: KH,\r\n      entry_time: moment(entryTime).format(\"YYYY-MM-DD\"),\r\n    };\r\n    if (!params?.kh) {\r\n      message.warning(\"ID/身份证号不能为空\");\r\n      return;\r\n    }\r\n    if (!params?.entry_time || params?.entry_time === \"Invalid date\") {\r\n      params.entry_time = moment(new Date()).format(\"YYYY-MM-DD\");\r\n      setEntryTime(moment(new Date()).format(\"YYYY-MM-DD\"));\r\n    }\r\n\r\n    KingApi.importPatient({ ...params }).then((res) => {\r\n      if (res.success) {\r\n        message.success(res.error);\r\n        getStatistics();\r\n        getPatientList();\r\n        setHisVisible(false);\r\n      } else {\r\n        message.error(res.error);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const handleHisCancel = () => {\r\n    setHisVisible(false);\r\n  };\r\n\r\n  const onSearchMore = () => {\r\n    let page = 1;\r\n    let currentPage = parseInt(String(dynamicList.length / 8));\r\n    if (currentPage === 0) {\r\n      page = 1;\r\n    } else if (currentPage === dynamicList.length / 8) {\r\n      page = currentPage + 1;\r\n    } else if (currentPage !== dynamicList.length / 8) {\r\n      setShowMore(false);\r\n      return;\r\n    }\r\n    getDynamic({\r\n      page: page,\r\n      limit: 8,\r\n    });\r\n  };\r\n\r\n  const onFormChange = (value: any, type: string) => {\r\n    switch (type) {\r\n      case \"kh\":\r\n        setKH(value);\r\n        break;\r\n      case \"entry_time\":\r\n        setEntryTime(moment(value).format(\"YYYY-MM-DD\"));\r\n        break;\r\n    }\r\n  };\r\n\r\n  const currentPagination: CurrentPaginationType = (\r\n    pages: number,\r\n    limit: number\r\n  ) => {\r\n    let currentPage = limit === pageSize ? pages : 1;\r\n    if ((limit === pageSize && pages !== page) || limit !== pageSize) {\r\n      setPageSize(limit);\r\n      setPage(currentPage);\r\n      getPatientList({ page: currentPage, limit: limit });\r\n    }\r\n  };\r\n\r\n  const currentModal = useMemo(() => {\r\n    return (\r\n      <Modal\r\n        title=\"导入患者\"\r\n        visible={hisVisible}\r\n        className=\"home-modal\"\r\n        okButtonProps={{ loading, style: { backgroundColor: \"#1abc9c\" } }}\r\n        onOk={handleHisOk}\r\n        onCancel={handleHisCancel}\r\n      >\r\n        <div>\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              marginBottom: 30,\r\n            }}\r\n          >\r\n            <div style={{ width: 120, textAlign: \"right\" }}>ID/身份证号： </div>\r\n            <Input\r\n              style={{ display: \"flex\", width: 300 }}\r\n              placeholder=\"请输入ID/身份证号\"\r\n              value={KH}\r\n              onChange={(e) => {\r\n                onFormChange(e.target.value, \"kh\");\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n            <div style={{ width: 120, textAlign: \"right\" }}>入组时间： </div>\r\n            <DatePicker\r\n              placeholder=\"请选择入组时间\"\r\n              value={moment(entryTime)}\r\n              onChange={(e) => {\r\n                onFormChange(e, \"entry_time\");\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }, [hisVisible, loading, KH, entryTime]);\r\n\r\n  return (\r\n    <div className=\"home-body\">\r\n      <Row gutter={{ xs: 16, sm: 16, md: 16, lg: 16 }}>\r\n        <Col span={sideRow}>\r\n          <div className=\"home-detail-card\">\r\n            <div>{statistics?.xmmc}</div>\r\n            <div className=\"detail-card-main\">\r\n              <div className=\"detail-start\">\r\n                <div className=\"detail-start-tags\">\r\n                  <FormText label=\"项目状态\" name=\"进行中\" fontSize=\"16px\" />\r\n                  <FormText\r\n                    label=\"项目负责人\"\r\n                    name={statistics?.xmfzr}\r\n                    fontSize=\"16px\"\r\n                    justifyContent=\"flex-end\"\r\n                  />\r\n                </div>\r\n                <div className=\"detail-end-tags\">\r\n                  <div style={{ width: \"70%\" }}>\r\n                    <FormDescriptions\r\n                      name=\"项目进度\"\r\n                      value={`当前进度${\r\n                        statistics?.xmjd === 0 ? 0 : statistics?.xmjd || 0\r\n                      }%`}\r\n                    >\r\n                      <Progress\r\n                        style={{ marginTop: 5 }}\r\n                        percent={statistics?.xmjd}\r\n                        strokeWidth={15}\r\n                        strokeColor=\"#1abc9c\"\r\n                        showInfo={false}\r\n                      />\r\n                    </FormDescriptions>\r\n                  </div>\r\n                  <div>\r\n                    <StatisticTag name=\"入组病案数\" count={statistics?.rzal} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"detail-start\">\r\n                <FormText\r\n                  label=\"科研中心\"\r\n                  name={statistics?.kyzx}\r\n                  fontSize=\"16px\"\r\n                  justifyContent=\"center\"\r\n                />\r\n                <div className=\"detail-end-main\">\r\n                  <div className=\"end-main-start\">\r\n                    <StatisticTag name=\"总访视\" count={statistics?.zfs} />\r\n                  </div>\r\n                  <div className=\"end-main-end\">\r\n                    <StatisticTag name=\"过期访视\" count={statistics?.gqfs} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"home-detail-card\"\r\n            style={{\r\n              borderTopWidth: 0,\r\n              height: innerHeight - 300,\r\n              minHeight: 480,\r\n              paddingBottom: sideRow === 24 ? 20 : 100,\r\n            }}\r\n          >\r\n            <div className=\"home-select-banner\">\r\n              <div>\r\n                <Button\r\n                  className=\"home-btn-primary\"\r\n                  style={{ marginRight: 10 }}\r\n                  onClick={() => {\r\n                    setHisVisible(true);\r\n                  }}\r\n                >\r\n                  入组患者\r\n                </Button>\r\n              </div>\r\n              <div style={{ display: \"flex\" }}>\r\n                <Input\r\n                  style={{ minWidth: 150, marginRight: 10 }}\r\n                  className=\"home-btn-default\"\r\n                  value={searchName}\r\n                  onChange={(e) => {\r\n                    setSearchName(e.target.value);\r\n                  }}\r\n                  placeholder=\"姓名/ID号\"\r\n                />\r\n                <div\r\n                  className=\"home-select-default\"\r\n                  style={{ marginRight: 10 }}\r\n                >\r\n                  <Select\r\n                    placeholder={genderConfig.placeholder}\r\n                    style={{ minWidth: 150 }}\r\n                    value={gender}\r\n                    onChange={(e) => setGender(e)}\r\n                  >\r\n                    {genderConfig.elements?.map((item, index) => (\r\n                      <Option value={item.value} key={index}>\r\n                        {item.name}\r\n                      </Option>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <Button\r\n                  className=\"home-btn-primary\"\r\n                  icon={<SearchOutlined />}\r\n                  onClick={() => {\r\n                    getPatientList({ page: 1, limit: pageSize });\r\n                  }}\r\n                >\r\n                  查询\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div className=\"home-table\">\r\n              <Table\r\n                style={{ marginTop: 15 }}\r\n                bordered={true}\r\n                rowKey={(row: any) => row.id.toString()}\r\n                columns={tableColumns}\r\n                dataSource={patientList}\r\n                onRow={(row) => {\r\n                  return {\r\n                    onClick: () => {\r\n                      localStorage.setItem(\"patient_data\", JSON.stringify(row));\r\n                      navigator(`patientDetail/detail?id=${row.id}`);\r\n                    },\r\n                  };\r\n                }}\r\n                pagination={{\r\n                  pageSizeOptions: [\"10\", \"20\", \"50\", \"100\"],\r\n                  showTotal: (total) => `共 ${total} 条数据`, // 用于显示数据总量和当前数据顺序\r\n                  showSizeChanger: true,\r\n                  showQuickJumper: true,\r\n                  current: page,\r\n                  pageSize: pageSize,\r\n                  total: total,\r\n                  onChange: currentPagination,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col span={mainRow}>\r\n          <div\r\n            style={{\r\n              border: \"1px solid rgba(233, 233, 233, 1)\",\r\n              padding: 15,\r\n              height: innerHeight - 110,\r\n              minHeight: 670,\r\n              overflowY: \"scroll\",\r\n            }}\r\n          >\r\n            <FormBox name=\"项目动态\">\r\n              {dynamicList?.map((item?: any, index?: number) => (\r\n                <MessageItem\r\n                  key={index}\r\n                  name={item?.user}\r\n                  updated_at={item?.datetime}\r\n                >\r\n                  <div style={{ display: \"flex\", marginTop: 10 }}>\r\n                    {item?.status}&nbsp;&nbsp;&nbsp;\r\n                    <div style={{ color: \"#1abc9c\" }}>\r\n                      {item?.patient_name} {item?.visit} {item?.content}\r\n                    </div>\r\n                  </div>\r\n                </MessageItem>\r\n              ))}\r\n              <div\r\n                className=\"home-pagination\"\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                  display: showMore ? \"block\" : \"none\",\r\n                }}\r\n                onClick={() => {\r\n                  onSearchMore();\r\n                }}\r\n              >\r\n                查看更多\r\n              </div>\r\n            </FormBox>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      {currentModal}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./index.scss\";\r\nimport { FormText } from \"../FormText\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStore } from \"../../store/useStore\";\r\n\r\ninterface PatientDetailLayoutProps {\r\n  children?: React.ReactChild;\r\n}\r\n\r\nconst DetailLayout = observer((props: PatientDetailLayoutProps) => {\r\n  const { patientDetailStore } = useStore();\r\n  return (\r\n    <div className=\"patient-layout-content\">\r\n      <div className=\"content-banner\">\r\n        <div style={{ fontSize: 16, fontWeight: \"bold\" }}>\r\n          {patientDetailStore?.tabTitle}\r\n        </div>\r\n        <div style={{ display: \"flex\", marginTop: 10 }}>\r\n          <FormText\r\n            label=\"访视内容\"\r\n            name={patientDetailStore?.total}\r\n            fontWeight={400}\r\n          />\r\n          <FormText\r\n            label=\"已完成\"\r\n            name={patientDetailStore?.finishCount}\r\n            fontWeight={400}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          marginTop: 10,\r\n        }}\r\n      >\r\n        {props?.children}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nexport { DetailLayout };\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport \"./index.scss\";\r\ninterface Props {}\r\n\r\nexport function NotFound(props: Partial<Props>): React.ReactElement {\r\n  const navigator = useNavigate();\r\n  const history = useLocation();\r\n\r\n  useEffect(() => {\r\n    navigator(\"/home\");\r\n  }, []);\r\n\r\n  return <div className=\"not-found\"></div>;\r\n}\r\n","import React from \"react\";\r\nimport { MainLayout } from \"../component/MainLayout\";\r\nimport { Export } from \"../pages/Export\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { PatientDetail } from \"../pages/PatientDetail\";\r\nimport { Detail } from \"../pages/BaselineDetail/Detail\";\r\nimport { Home } from \"../pages/Home\";\r\nimport { DetailLayout } from \"../component/PatientDetailLayout\";\r\nimport { NotFound } from \"../pages/NotFound\";\r\n\r\nexport const router = [\r\n  {\r\n    name: \"/home\",\r\n    element: (\r\n      <MainLayout>\r\n        <Outlet />\r\n      </MainLayout>\r\n    ),\r\n    children: [\r\n      {\r\n        name: \"index\",\r\n        element: <Home />,\r\n      },\r\n      {\r\n        name: \"patientDetail\",\r\n        element: <PatientDetail />,\r\n        children: [\r\n          {\r\n            name: \"index\",\r\n            element: <Detail />,\r\n          },\r\n          {\r\n            name: \"detail\",\r\n            element: (\r\n              <DetailLayout>\r\n                <Detail />\r\n              </DetailLayout>\r\n            ),\r\n          },\r\n          {\r\n            name: \"*\",\r\n            element: (\r\n              <main style={{ padding: \"1rem\" }}>\r\n                <p>未查询到数据</p>\r\n              </main>\r\n            ),\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        name: \"*\",\r\n        element: (\r\n          <main style={{ padding: \"1rem\" }}>\r\n            <p>未找到该用户</p>\r\n          </main>\r\n        ),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: \"/export\",\r\n    element: (\r\n      <MainLayout>\r\n        <Export />\r\n      </MainLayout>\r\n    ),\r\n  },\r\n  {\r\n    name: \"*\",\r\n    element: <NotFound />,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { BrowserRouter, HashRouter, Route, Routes } from \"react-router-dom\";\r\nimport { router } from \"./router/router\";\r\nimport { ConfigProvider } from \"antd\";\r\nimport zh_CH from \"antd/lib/locale-provider/zh_CN\";\r\nimport \"moment/locale/zh-cn\";\r\n\r\nexport const App = () => {\r\n  // useRouter() --- Hooks实现\r\n  const getRoute = (router: any) => {\r\n    const instantiation = (route: any) => {\r\n      if (route.name === \"index\") {\r\n        return <Route key={route.key} index element={route.element} />;\r\n      } else {\r\n        return (\r\n          <Route key={route.key} path={route.name} element={route.element}>\r\n            {route?.children &&\r\n              route.children.map((item: any, key: any) => {\r\n                return instantiation({ ...item, key });\r\n              })}\r\n          </Route>\r\n        );\r\n      }\r\n    };\r\n    return (\r\n      <Routes>\r\n        {router?.map((item: any, key: any) => {\r\n          return instantiation({ ...item, key });\r\n        })}\r\n      </Routes>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ConfigProvider locale={zh_CH}>\r\n      <HashRouter>{getRoute(router)}</HashRouter>\r\n    </ConfigProvider>\r\n  );\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport { App } from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nserviceWorker.unregister();\r\n// reportWebVitals();\r\n"],"sourceRoot":""}